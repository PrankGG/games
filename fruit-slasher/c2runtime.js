// Generated by Construct 2, the HTML5 game and app creator :: https://www.construct.net
'use strict';var x,aa,ca,da,fa,ha,ia,ka,ma,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,za,Aa,Ca,Da,I,Ea,Ga,Ha,Ja,Ka,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Ya,Za,fb,gb,hb,jb,kb,lb,sb,tb,ub,vb,zb,Ab,Cb,Db,Eb,Mb,Sb,Tb,Ub,Vb,Wb,Xb,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Cc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,$c,ad,bd={},cd={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,f,c){this.set(a,b,f,c)}function c(){this.Qc=this.Pc=this.Sc=this.Rc=this.ed=this.dd=this.qc=this.pc=0}function b(a,b,f,c){a<b?f<c?(v=a<f?a:f,t=b>c?b:c):(v=a<c?a:c,t=b>f?b:f):f<c?(v=b<f?b:f,t=a>c?a:c):(v=b<c?b:c,t=a>f?a:f)}function d(){this.items=this.Of=null;this.Uk=0;F&&(this.Of=new Set);this.ak=[];this.Yg=!0}function e(a){D[C++]=a}function k(){this.Aa=this.qo=this.y=this.D=0}function l(a){this.fc=[];this.pm=this.rm=this.tm=this.qm=0;this.Em=null;this.Al(a)}function f(a,
b){this.dp=a;this.cp=b;this.cells={}}function m(a,b){this.dp=a;this.cp=b;this.cells={}}function n(a,b,f){var c;return A.length?(c=A.pop(),c.Gp=a,c.x=b,c.y=f,c):new aa(a,b,f)}function h(a,b,f){this.Gp=a;this.x=b;this.y=f;this.Kc=new ca}function g(a,b,f){var c;return u.length?(c=u.pop(),c.Gp=a,c.x=b,c.y=f,c):new da(a,b,f)}function r(a,b,f){this.Gp=a;this.x=b;this.y=f;this.Kc=[];this.vj=!0;this.Kf=new ca;this.nk=!1}function p(a,b){return a.lf-b.lf}fa=function(a){window.console&&window.console.log&&window.console.log(a)};
ha=function(a){window.console&&window.console.error&&window.console.error(a)};ia=function(a){return"undefined"===typeof a};ka=function(a){return"number"===typeof a};ma=function(a){return"string"===typeof a};oa=function(a){return 0<a&&0===(a-1&a)};pa=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};qa=function(a){return 0>a?-a:a};ra=function(a,b){return a>b?a:b};sa=function(a,b){return a<b?a:b};ta=Math.PI;ua=function(a){return 0<=a?a|0:(a|0)-1};va=function(a){var b=a|0;return b===a?b:b+
1};wa=function(a,b,f,c,m,h,g,d){var e,n,q,l;a<f?(n=a,e=f):(n=f,e=a);m<g?(l=m,q=g):(l=g,q=m);if(e<l||n>q)return!1;b<c?(n=b,e=c):(n=c,e=b);h<d?(l=h,q=d):(l=d,q=h);if(e<l||n>q)return!1;e=m-a+g-f;n=h-b+d-c;a=f-a;b=c-b;m=g-m;h=d-h;d=qa(b*m-h*a);return qa(m*n-h*e)>d?!1:qa(a*n-b*e)<=d};a.prototype.set=function(a,b,f,c){this.left=a;this.top=b;this.right=f;this.bottom=c};a.prototype.sk=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-
this.left};a.prototype.height=function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.vA=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};a.prototype.wA=function(a,b,f){return!(a.right+
b<this.left||a.bottom+f<this.top||a.left+b>this.right||a.top+f>this.bottom)};a.prototype.od=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.wk=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};xa=a;c.prototype.zl=function(a){this.pc=a.left;this.qc=a.top;this.dd=a.right;this.ed=a.top;this.Rc=a.right;this.Sc=a.bottom;this.Pc=a.left;this.Qc=a.bottom};c.prototype.Xu=function(a,b){if(0===b)this.zl(a);else{var f=
Math.sin(b),c=Math.cos(b),m=a.left*f,h=a.top*f,g=a.right*f,f=a.bottom*f,d=a.left*c,e=a.top*c,n=a.right*c,c=a.bottom*c;this.pc=d-h;this.qc=e+m;this.dd=n-h;this.ed=e+g;this.Rc=n-f;this.Sc=c+g;this.Pc=d-f;this.Qc=c+m}};c.prototype.offset=function(a,b){this.pc+=a;this.qc+=b;this.dd+=a;this.ed+=b;this.Rc+=a;this.Sc+=b;this.Pc+=a;this.Qc+=b;return this};var v=0,t=0;c.prototype.os=function(a){b(this.pc,this.dd,this.Rc,this.Pc);a.left=v;a.right=t;b(this.qc,this.ed,this.Sc,this.Qc);a.top=v;a.bottom=t};c.prototype.od=
function(a,b){var f=this.pc,c=this.qc,m=this.dd-f,h=this.ed-c,g=this.Rc-f,d=this.Sc-c,e=a-f,n=b-c,q=m*m+h*h,l=m*g+h*d,h=m*e+h*n,k=g*g+d*d,r=g*e+d*n,p=1/(q*k-l*l),m=(k*h-l*r)*p,q=(q*r-l*h)*p;if(0<=m&&0<q&&1>m+q)return!0;m=this.Pc-f;h=this.Qc-c;q=m*m+h*h;l=m*g+h*d;h=m*e+h*n;p=1/(q*k-l*l);m=(k*h-l*r)*p;q=(q*r-l*h)*p;return 0<=m&&0<q&&1>m+q};c.prototype.Wg=function(a,b){if(b)switch(a){case 0:return this.pc;case 1:return this.dd;case 2:return this.Rc;case 3:return this.Pc;case 4:return this.pc;default:return this.pc}else switch(a){case 0:return this.qc;
case 1:return this.ed;case 2:return this.Sc;case 3:return this.Qc;case 4:return this.qc;default:return this.qc}};c.prototype.zh=function(){return(this.pc+this.dd+this.Rc+this.Pc)/4};c.prototype.Ah=function(){return(this.qc+this.ed+this.Sc+this.Qc)/4};c.prototype.dt=function(a){var b=a.zh(),f=a.Ah();if(this.od(b,f))return!0;b=this.zh();f=this.Ah();if(a.od(b,f))return!0;var c,m,h,g,d,e,n,q;for(n=0;4>n;n++)for(q=0;4>q;q++)if(b=this.Wg(n,!0),f=this.Wg(n,!1),c=this.Wg(n+1,!0),m=this.Wg(n+1,!1),h=a.Wg(q,
!0),g=a.Wg(q,!1),d=a.Wg(q+1,!0),e=a.Wg(q+1,!1),wa(b,f,c,m,h,g,d,e))return!0;return!1};za=c;Aa=function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);return a};Ca=function(a,b){var f,c;b=ua(b);if(!(0>b||b>=a.length)){f=b;for(c=a.length-1;f<c;f++)a[f]=a[f+1];Da(a,c)}};Da=function(a,b){a.length=b};I=function(a){Da(a,0)};Ea=function(a,b){I(a);var f,c;f=0;for(c=b.length;f<c;++f)a[f]=b[f]};Ga=function(a,b){a.push.apply(a,b)};Ha=function(a,b){var f,c;f=0;for(c=a.length;f<c;++f)if(a[f]===b)return f;
return-1};Ja=function(a,b){var f=Ha(a,b);-1!==f&&Ca(a,f)};Ka=function(a,b,f){return a<b?b:a>f?f:a};Oa=function(a){return a/(180/ta)};Pa=function(a){return 180/ta*a};Qa=function(a){a%=360;0>a&&(a+=360);return a};Ra=function(a){a%=2*ta;0>a&&(a+=2*ta);return a};Sa=function(a){return Qa(Pa(a))};Ta=function(a){return Ra(Oa(a))};Ua=function(a,b,f,c){return Math.atan2(c-b,f-a)};Va=function(a,b){if(a===b)return 0;var f=Math.sin(a),c=Math.cos(a),m=Math.sin(b),h=Math.cos(b),f=f*m+c*h;return 1<=f?0:-1>=f?ta:
Math.acos(f)};Ya=function(a,b,f){var c=Math.sin(a),m=Math.cos(a),h=Math.sin(b),g=Math.cos(b);return Math.acos(c*h+m*g)>f?0<m*h-c*g?Ra(a+f):Ra(a-f):Ra(b)};Za=function(a,b){var f=Math.sin(a),c=Math.cos(a),m=Math.sin(b),h=Math.cos(b);return 0>=c*m-f*h};fb=function(a,b,f,c,m,h){if(0===f)return h?a:b;var g=Math.sin(f);f=Math.cos(f);a-=c;b-=m;var d=a*g;a=a*f-b*g;b=b*f+d;return h?a+c:b+m};gb=function(a,b,f,c){a=f-a;b=c-b;return Math.sqrt(a*a+b*b)};hb=function(a,b){return!a!==!b};jb=function(a,b,f){return a+
(b-a)*f};kb=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};lb=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var w=+new Date;sb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-w};var q=!1,y=q=!1,B=!1;"undefined"!==
typeof window&&(q=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),q=!q&&/safari/i.test(navigator.userAgent),y=/(iphone|ipod|ipad)/i.test(navigator.userAgent),B=window.c2ejecta);var F=!q&&!B&&!y&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.jg()?!1:F?this.Of.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=function(a){if(F)this.Of.has(a)||(this.Of.add(a),this.Yg=!1);else{var b=a.toString(),
f=this.items;f?f.hasOwnProperty(b)||(f[b]=a,this.Uk++,this.Yg=!1):(this.items={},this.items[b]=a,this.Uk=1,this.Yg=!1)}};d.prototype.remove=function(a){if(!this.jg())if(F)this.Of.has(a)&&(this.Of["delete"](a),this.Yg=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Uk--,this.Yg=!1)}};d.prototype.clear=function(){this.jg()||(F?this.Of.clear():(this.items=null,this.Uk=0),I(this.ak),this.Yg=!0)};d.prototype.jg=function(){return 0===this.count()};d.prototype.count=
function(){return F?this.Of.size:this.Uk};var D=null,C=0;d.prototype.gC=function(){if(!this.Yg){if(F)I(this.ak),D=this.ak,C=0,this.Of.forEach(e),D=null,C=0;else{var a=this.ak;I(a);var b,f=0,c=this.items;if(c)for(b in c)c.hasOwnProperty(b)&&(a[f++]=c[b])}this.Yg=!0}};d.prototype.Uf=function(){this.gC();return this.ak};ca=d;new ca;tb=function(a,b){F?ub(a,b.Of):vb(a,b.Uf())};ub=function(a,b){var f,c,m,h;c=f=0;for(m=a.length;f<m;++f)h=a[f],b.has(h)||(a[c++]=h);Da(a,c)};vb=function(a,b){var f,c,m,h;c=
f=0;for(m=a.length;f<m;++f)h=a[f],-1===Ha(b,h)&&(a[c++]=h);Da(a,c)};k.prototype.add=function(a){this.y=a-this.D;this.qo=this.Aa+this.y;this.D=this.qo-this.Aa-this.y;this.Aa=this.qo};k.prototype.reset=function(){this.Aa=this.qo=this.y=this.D=0};zb=k;Ab=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};l.prototype.Al=function(a){this.Cu=a;this.te=a.length/2;this.fc.length=a.length;this.xm=this.ym=-1;this.rs=0};l.prototype.ri=function(){return!this.Cu.length};l.prototype.gb=function(){for(var a=
this.fc,b=a[0],f=b,c=a[1],m=c,h,g,d=1,e=this.te;d<e;++d)g=2*d,h=a[g],g=a[g+1],h<b&&(b=h),h>f&&(f=h),g<c&&(c=g),g>m&&(m=g);this.qm=b;this.rm=f;this.tm=c;this.pm=m};l.prototype.zl=function(a,b,f){this.fc.length=8;this.te=4;var c=this.fc;c[0]=a.left-b;c[1]=a.top-f;c[2]=a.right-b;c[3]=a.top-f;c[4]=a.right-b;c[5]=a.bottom-f;c[6]=a.left-b;c[7]=a.bottom-f;this.ym=a.right-a.left;this.xm=a.bottom-a.top;this.gb()};l.prototype.Uj=function(a,b,f,c,m){this.fc.length=8;this.te=4;var h=this.fc;h[0]=a.pc-b;h[1]=
a.qc-f;h[2]=a.dd-b;h[3]=a.ed-f;h[4]=a.Rc-b;h[5]=a.Sc-f;h[6]=a.Pc-b;h[7]=a.Qc-f;this.ym=c;this.xm=m;this.gb()};l.prototype.Wu=function(a){this.te=a.te;Ea(this.fc,a.fc);this.qm=a.qm;this.tm=a.tm;this.rm=a.rm;this.pm=a.pm};l.prototype.Vh=function(a,b,f){if(this.ym!==a||this.xm!==b||this.rs!==f){this.ym=a;this.xm=b;this.rs=f;var c,m,h,g,d,e=0,n=1,q=this.Cu,l=this.fc;0!==f&&(e=Math.sin(f),n=Math.cos(f));f=0;for(h=this.te;f<h;f++)c=2*f,m=c+1,g=q[c]*a,d=q[m]*b,l[c]=g*n-d*e,l[m]=d*n+g*e;this.gb()}};l.prototype.od=
function(a,b){var f=this.fc;if(a===f[0]&&b===f[1])return!0;var c,m,h,g=this.te,d=this.qm-110,e=this.tm-101,n=this.rm+131,q=this.pm+120,l,k,r=0,p=0;for(c=0;c<g;c++)m=2*c,h=(c+1)%g*2,l=f[m],m=f[m+1],k=f[h],h=f[h+1],wa(d,e,a,b,l,m,k,h)&&r++,wa(n,q,a,b,l,m,k,h)&&p++;return 1===r%2||1===p%2};l.prototype.Kk=function(a,b,f){var c=a.fc,m=this.fc;if(this.od(c[0]+b,c[1]+f)||a.od(m[0]-b,m[1]-f))return!0;var h,g,d,e,n,q,l,k,r,p,y,v;h=0;for(e=this.te;h<e;h++)for(g=2*h,d=(h+1)%e*2,k=m[g],g=m[g+1],r=m[d],p=m[d+
1],d=0,l=a.te;d<l;d++)if(n=2*d,q=(d+1)%l*2,y=c[n]+b,n=c[n+1]+f,v=c[q]+b,q=c[q+1]+f,wa(k,g,r,p,y,n,v,q))return!0;return!1};Cb=l;f.prototype.nh=function(a,b,f){var c;c=this.cells[a];return c?(c=c[b])?c:f?(c=n(this,a,b),this.cells[a][b]=c):null:f?(c=n(this,a,b),this.cells[a]={},this.cells[a][b]=c):null};f.prototype.Ed=function(a){return ua(a/this.dp)};f.prototype.Fd=function(a){return ua(a/this.cp)};f.prototype.update=function(a,b,f){var c,m,h,g,d;if(b)for(c=b.left,m=b.right;c<=m;++c)for(h=b.top,g=b.bottom;h<=
g;++h)if(!f||!f.od(c,h))if(d=this.nh(c,h,!1))d.remove(a),d.jg()&&(d.Kc.clear(),1E3>A.length&&A.push(d),this.cells[c][h]=null);if(f)for(c=f.left,m=f.right;c<=m;++c)for(h=f.top,g=f.bottom;h<=g;++h)b&&b.od(c,h)||this.nh(c,h,!0).Np(a)};f.prototype.$n=function(a,b){var f,c,m,h,g,d;f=this.Ed(a.left);m=this.Fd(a.top);c=this.Ed(a.right);for(g=this.Fd(a.bottom);f<=c;++f)for(h=m;h<=g;++h)(d=this.nh(f,h,!1))&&d.dump(b)};Db=f;m.prototype.nh=function(a,b,f){var c;c=this.cells[a];return c?(c=c[b])?c:f?(c=g(this,
a,b),this.cells[a][b]=c):null:f?(c=g(this,a,b),this.cells[a]={},this.cells[a][b]=c):null};m.prototype.Ed=function(a){return ua(a/this.dp)};m.prototype.Fd=function(a){return ua(a/this.cp)};m.prototype.update=function(a,b,f){var c,m,h,g,d;if(b)for(c=b.left,m=b.right;c<=m;++c)for(h=b.top,g=b.bottom;h<=g;++h)if(!f||!f.od(c,h))if(d=this.nh(c,h,!1))d.remove(a),d.jg()&&(d.reset(),1E3>u.length&&u.push(d),this.cells[c][h]=null);if(f)for(c=f.left,m=f.right;c<=m;++c)for(h=f.top,g=f.bottom;h<=g;++h)b&&b.od(c,
h)||this.nh(c,h,!0).Np(a)};m.prototype.$n=function(a,b,f,c,h){var m,g;a=this.Ed(a);b=this.Fd(b);f=this.Ed(f);for(m=this.Fd(c);a<=f;++a)for(c=b;c<=m;++c)(g=this.nh(a,c,!1))&&g.dump(h)};m.prototype.SA=function(a){var b,f,c,h,m;b=a.left;c=a.top;f=a.right;for(h=a.bottom;b<=f;++b)for(a=c;a<=h;++a)if(m=this.nh(b,a,!1))m.vj=!1};Eb=m;var A=[];h.prototype.jg=function(){return this.Kc.jg()};h.prototype.Np=function(a){this.Kc.add(a)};h.prototype.remove=function(a){this.Kc.remove(a)};h.prototype.dump=function(a){Ga(a,
this.Kc.Uf())};aa=h;var u=[];r.prototype.jg=function(){if(!this.Kc.length)return!0;if(this.Kc.length>this.Kf.count())return!1;this.tp();return!0};r.prototype.Np=function(a){this.Kf.contains(a)?(this.Kf.remove(a),this.Kf.jg()&&(this.nk=!1)):this.Kc.length?(this.Kc[this.Kc.length-1].Cf()>a.Cf()&&(this.vj=!1),this.Kc.push(a)):(this.Kc.push(a),this.vj=!0)};r.prototype.remove=function(a){this.Kf.add(a);this.nk=!0;30<=this.Kf.count()&&this.tp()};r.prototype.tp=function(){this.nk&&(this.Kf.count()===this.Kc.length?
this.reset():(tb(this.Kc,this.Kf),this.Kf.clear(),this.nk=!1))};r.prototype.az=function(){this.vj||(this.Kc.sort(p),this.vj=!0)};r.prototype.reset=function(){I(this.Kc);this.vj=!0;this.Kf.clear();this.nk=!1};r.prototype.dump=function(a){this.tp();this.az();this.Kc.length&&a.push(this.Kc)};da=r;var z="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Mb=function(a){return 0>=a||11<=a?"source-over":z[a-1]};Sb=function(a,b,
f){if(f)switch(a.vd=f.ONE,a.pd=f.ONE_MINUS_SRC_ALPHA,b){case 1:a.vd=f.ONE;a.pd=f.ONE;break;case 3:a.vd=f.ONE;a.pd=f.ZERO;break;case 4:a.vd=f.ONE_MINUS_DST_ALPHA;a.pd=f.ONE;break;case 5:a.vd=f.DST_ALPHA;a.pd=f.ZERO;break;case 6:a.vd=f.ZERO;a.pd=f.SRC_ALPHA;break;case 7:a.vd=f.ONE_MINUS_DST_ALPHA;a.pd=f.ZERO;break;case 8:a.vd=f.ZERO;a.pd=f.ONE_MINUS_SRC_ALPHA;break;case 9:a.vd=f.DST_ALPHA;a.pd=f.ONE_MINUS_SRC_ALPHA;break;case 10:a.vd=f.ONE_MINUS_DST_ALPHA,a.pd=f.SRC_ALPHA}};Tb=function(a){return Math.round(1E6*
a)/1E6};Ub=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};Vb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Ub(a.tagName,"canvas")?!0:!1}})();var dd="undefined"!==typeof Float32Array?Float32Array:Array;function ed(a){var c=new dd(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function fd(a){var c=new dd(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function gd(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function rd(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function sd(a,c,b,d){d||(d=fd());var e,k,l,f,m,n,h,g,r=a[0],p=a[1];a=a[2];k=b[0];l=b[1];e=b[2];b=c[1];n=c[2];r===c[0]&&p===b&&a===n?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=r-c[0],n=p-c[1],h=a-c[2],g=1/Math.sqrt(b*b+n*n+h*h),b*=g,n*=g,h*=g,c=l*h-e*n,e=e*b-k*h,k=k*n-l*b,(g=Math.sqrt(c*c+e*e+k*k))?(g=1/g,c*=g,e*=g,k*=g):k=e=c=0,l=n*k-h*e,f=h*c-b*k,m=b*e-n*c,(g=Math.sqrt(l*l+f*f+m*m))?(g=1/g,l*=g,f*=g,m*=g):m=f=l=0,
d[0]=c,d[1]=l,d[2]=b,d[3]=0,d[4]=e,d[5]=f,d[6]=n,d[7]=0,d[8]=k,d[9]=m,d[10]=h,d[11]=0,d[12]=-(c*r+e*p+k*a),d[13]=-(l*r+f*p+m*a),d[14]=-(b*r+n*p+h*a),d[15]=1)}
(function(){function a(a,b,c){this.qh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Db=!!c;this.sn=this.Mk=!1;this.kp=0;this.Fo=1;this.Dr=1E3;this.rC=(this.Dr-this.Fo)/32768;this.$o=ed([0,0,100]);this.Bt=ed([0,0,0]);this.yv=ed([0,1,0]);this.Ul=ed([1,1,1]);this.Fs=!0;this.Kn=fd();this.qe=fd();this.bq=fd();this.jp=fd();this.ka=a;this.version=0===this.ka.getParameter(this.ka.VERSION).indexOf("WebGL 2")?2:1;this.Zs()}function c(a,b,c){this.ka=a;
this.Bl=b;this.name=c;this.Le=a.getAttribLocation(b,"aPos");this.wh=a.getAttribLocation(b,"aTex");this.zt=a.getUniformLocation(b,"matP");this.Gn=a.getUniformLocation(b,"matMV");this.Fj=a.getUniformLocation(b,"opacity");this.jq=a.getUniformLocation(b,"colorFill");this.At=a.getUniformLocation(b,"samplerFront");this.dl=a.getUniformLocation(b,"samplerBack");this.Ci=a.getUniformLocation(b,"destStart");this.Bi=a.getUniformLocation(b,"destEnd");this.fl=a.getUniformLocation(b,"seconds");this.lq=a.getUniformLocation(b,
"pixelWidth");this.kq=a.getUniformLocation(b,"pixelHeight");this.cl=a.getUniformLocation(b,"layerScale");this.bl=a.getUniformLocation(b,"layerAngle");this.gl=a.getUniformLocation(b,"viewOrigin");this.el=a.getUniformLocation(b,"scrollPos");this.qA=!!(this.lq||this.kq||this.fl||this.dl||this.Ci||this.Bi||this.cl||this.bl||this.gl||this.el);this.Jt=this.Kt=-999;this.Jn=1;this.Ft=this.Et=0;this.Ht=this.Dt=this.Ct=1;this.Nt=this.Mt=this.Lt=this.Pt=this.Ot=this.Gt=0;this.$p=[];this.It=fd();this.Fj&&a.uniform1f(this.Fj,
1);this.jq&&a.uniform4f(this.jq,1,1,1,1);this.At&&a.uniform1i(this.At,0);this.dl&&a.uniform1i(this.dl,1);this.Ci&&a.uniform2f(this.Ci,0,0);this.Bi&&a.uniform2f(this.Bi,1,1);this.cl&&a.uniform1f(this.cl,1);this.bl&&a.uniform1f(this.bl,0);this.gl&&a.uniform2f(this.gl,0,0);this.el&&a.uniform2f(this.el,0,0);this.fl&&a.uniform1f(this.fl,0);this.ki=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&
a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function d(a,b){this.type=a;this.ma=b;this.ka=b.ka;this.Df=this.Dd=this.lu=0;this.Pa=this.Ue=null;this.Yu=[]}var e=fd();a.prototype.Zs=function(){var a=this.ka,b;this.qt=1;this.ti=this.si=null;this.Jm=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.Db?(a.enable(a.DEPTH_TEST),
a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.tt=a.ONE;this.pt=a.ONE_MINUS_SRC_ALPHA;this.Co=new Float32Array(8E3*(this.Db?3:2));this.ro=new Float32Array(16E3);this.xu=new Float32Array(32E3);this.Jq=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Jq);a.bufferData(a.ARRAY_BUFFER,this.xu.byteLength,a.DYNAMIC_DRAW);this.Sl=Array(4);this.Il=Array(4);for(b=0;4>b;b++)this.Sl[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Sl[b]),a.bufferData(a.ARRAY_BUFFER,this.Co.byteLength,a.DYNAMIC_DRAW),
this.Il[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Il[b]),a.bufferData(a.ARRAY_BUFFER,this.ro.byteLength,a.DYNAMIC_DRAW);this.dg=0;this.tA=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.tA);for(var c=new Uint16Array(12E3),h=b=0;12E3>b;)c[b++]=h,c[b++]=h+1,c[b++]=h+2,c[b++]=h,c[b++]=h+2,c[b++]=h+3,h+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.Kq=this.Xj=this.Fg=0;this.Tb=[];b=this.Db?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.tk({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Tb.push(c);c=this.tk({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Tb.push(c);c=this.tk({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Tb.push(c);c=this.tk({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Tb.push(c);for(var g in td)td.hasOwnProperty(g)&&this.Tb.push(this.tk(td[g],b,g));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Xg=[];this.ag=0;this.qd=!1;this.zs=this.Xk=-1;this.dj=null;this.sp=a.createFramebuffer();this.Nm=this.ao=null;this.ls=!1;this.Db&&(this.Nm=a.createRenderbuffer());this.Ih=ed([0,0,0]);this.Rt=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Rt&&(this.Rt=2048);this.Qd(0)};c.prototype.wr=function(a){b(this.It,a)||(gd(a,this.It),this.ka.uniformMatrix4fv(this.Gn,
!1,a))};a.prototype.tk=function(a,b,d){var h=this.ka,g=h.createShader(h.FRAGMENT_SHADER);h.shaderSource(g,a.src);h.compileShader(g);if(!h.getShaderParameter(g,h.COMPILE_STATUS))throw a=h.getShaderInfoLog(g),h.deleteShader(g),Error("error compiling fragment shader: "+a);var e=h.createShader(h.VERTEX_SHADER);h.shaderSource(e,b);h.compileShader(e);if(!h.getShaderParameter(e,h.COMPILE_STATUS))throw a=h.getShaderInfoLog(e),h.deleteShader(g),h.deleteShader(e),Error("error compiling vertex shader: "+a);
b=h.createProgram();h.attachShader(b,g);h.attachShader(b,e);h.linkProgram(b);if(!h.getProgramParameter(b,h.LINK_STATUS))throw a=h.getProgramInfoLog(b),h.deleteShader(g),h.deleteShader(e),h.deleteProgram(b),Error("error linking shader program: "+a);h.useProgram(b);h.deleteShader(g);h.deleteShader(e);g=new c(h,b,d);g.Tm=a.Tm||0;g.Um=a.Um||0;g.ip=!!a.ip;g.Qe=!!a.Qe;g.Wo=!!a.Wo;g.Ka=a.Ka||[];a=0;for(e=g.Ka.length;a<e;a++)g.Ka[a][1]=h.getUniformLocation(b,g.Ka[a][0]),g.$p.push(0),h.uniform1f(g.Ka[a][1],
0);return g};a.prototype.Ep=function(a){var b,c;b=0;for(c=this.Tb.length;b<c;b++)if(this.Tb[b].name===a)return b;return-1};a.prototype.Bu=function(a,b,c){var h=this.qe,g=this.Kn,d=[0,0,0,0,0,0,0,0];d[0]=h[0]*a+h[4]*b+h[12];d[1]=h[1]*a+h[5]*b+h[13];d[2]=h[2]*a+h[6]*b+h[14];d[3]=h[3]*a+h[7]*b+h[15];d[4]=g[0]*d[0]+g[4]*d[1]+g[8]*d[2]+g[12]*d[3];d[5]=g[1]*d[0]+g[5]*d[1]+g[9]*d[2]+g[13]*d[3];d[6]=g[2]*d[0]+g[6]*d[1]+g[10]*d[2]+g[14]*d[3];d[7]=-d[2];0!==d[7]&&(d[7]=1/d[7],d[4]*=d[7],d[5]*=d[7],d[6]*=d[7],
c[0]=(.5*d[4]+.5)*this.width,c[1]=(.5*d[5]+.5)*this.height)};a.prototype.Mi=function(a,b,c){if(this.width!==a||this.height!==b||c){this.ai();c=this.ka;this.width=a;this.height=b;c.viewport(0,0,a,b);sd(this.$o,this.Bt,this.yv,this.qe);if(this.Db){var h=-a/2;a=a/2;var d=b/2;b=-b/2;var e=this.Fo,l=this.Dr,k=this.Kn;k||(k=fd());var t=a-h,w=b-d,q=l-e;k[0]=2/t;k[1]=0;k[2]=0;k[3]=0;k[4]=0;k[5]=2/w;k[6]=0;k[7]=0;k[8]=0;k[9]=0;k[10]=-2/q;k[11]=0;k[12]=-(h+a)/t;k[13]=-(b+d)/w;k[14]=-(l+e)/q;k[15]=1;this.Ul[0]=
1;this.Ul[1]=1}else b=a/b,h=this.Fo,a=this.Dr,k=this.Kn,l=h*Math.tan(45*Math.PI/360),b*=l,d=-b,e=-l,k||(k=fd()),t=b-d,w=l-e,q=a-h,k[0]=2*h/t,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=2*h/w,k[6]=0,k[7]=0,k[8]=(b+d)/t,k[9]=(l+e)/w,k[10]=-(a+h)/q,k[11]=-1,k[12]=0,k[13]=0,k[14]=-(a*h*2)/q,k[15]=0,h=[0,0],a=[0,0],this.Bu(0,0,h),this.Bu(1,1,a),this.Ul[0]=1/(a[0]-h[0]),this.Ul[1]=-1/(a[1]-h[1]);h=0;for(a=this.Tb.length;h<a;h++)d=this.Tb[h],d.ki=!1,d.zt&&(c.useProgram(d.Bl),c.uniformMatrix4fv(d.zt,!1,this.Kn));c.useProgram(this.Tb[this.Xk].Bl);
c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.ti=this.si=null;this.Nm&&(c.bindFramebuffer(c.FRAMEBUFFER,this.sp),c.bindRenderbuffer(c.RENDERBUFFER,this.Nm),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.ls||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.Nm),this.ls=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),
this.ao=null)}};a.prototype.Nf=function(){sd(this.$o,this.Bt,this.yv,this.qe);rd(this.qe,this.Ul)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Ih[0]=a;this.Ih[1]=b;this.Ih[2]=0;var c=this.qe,h=this.Ih,d=h[0],e=h[1],h=h[2];c[12]=c[0]*d+c[4]*e+c[8]*h+c[12];c[13]=c[1]*d+c[5]*e+c[9]*h+c[13];c[14]=c[2]*d+c[6]*e+c[10]*h+c[14];c[15]=c[3]*d+c[7]*e+c[11]*h+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Ih[0]=a,this.Ih[1]=b,this.Ih[2]=1,rd(this.qe,this.Ih)};a.prototype.Wq=function(a){if(0!==
a){var b=this.qe,c,h=Math.sin(a);a=Math.cos(a);var d=b[0],e=b[1],l=b[2],k=b[3],t=b[4],w=b[5],q=b[6],y=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=d*a+t*h;c[1]=e*a+w*h;c[2]=l*a+q*h;c[3]=k*a+y*h;c[4]=d*-h+t*a;c[5]=e*-h+w*a;c[6]=l*-h+q*a;c[7]=k*-h+y*a}};a.prototype.kf=function(){if(!b(this.bq,this.qe)){var a=this.ge();a.type=5;a.Pa?gd(this.qe,a.Pa):a.Pa=fd(this.qe);gd(this.qe,this.bq);this.qd=!1}};a.prototype.io=function(a){this.Db&&
(32760<a&&(a=32760),this.kp=this.$o[2]-this.Fo-a*this.rC)};d.prototype.Ly=function(){var a=this.ka,b=this.ma;0!==this.Dd?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.sp),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.sn=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.sn=!1)};d.prototype.Py=function(){this.ka.bindTexture(this.ka.TEXTURE_2D,
this.Ue)};d.prototype.Qy=function(){var a=this.ka;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Ue);a.activeTexture(a.TEXTURE0)};d.prototype.My=function(){var a=this.lu,b=this.ma;b.Jm=a;b=b.dj;b.Fj&&b.Jn!==a&&(b.Jn=a,this.ka.uniform1f(b.Fj,a))};d.prototype.Gy=function(){this.ka.drawElements(this.ka.TRIANGLES,this.Df,this.ka.UNSIGNED_SHORT,this.Dd)};d.prototype.Iy=function(){this.ka.blendFunc(this.Dd,this.Df)};d.prototype.Ry=function(){var a,b,c,h=this.ma.Tb,d=this.ma.zs;a=0;for(b=h.length;a<
b;a++)c=h[a],a===d&&c.Gn?(c.wr(this.Pa),c.ki=!0):c.ki=!1;gd(this.Pa,this.ma.jp)};d.prototype.Hy=function(){var a=this.ka,b=this.ma;this.Ue?(b.ti===this.Ue&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.ti=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.sp),b.sn||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Ue,0)):(b.Db||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};
d.prototype.Ay=function(){var a=this.ka,b=this.Dd;0===b?(a.clearColor(this.Pa[0],this.Pa[1],this.Pa[2],this.Pa[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.Pa[0],this.Pa[1],this.Pa[2],this.Pa[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.Ky=function(){var a=this.ka;0!==this.Dd?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.Fy=function(){var a=this.ka,b=this.ma;b.Db&&a.disable(a.DEPTH_TEST);
var c=b.Tb[1];a.useProgram(c.Bl);!c.ki&&c.Gn&&(c.wr(b.jp),c.ki=!0);a.enableVertexAttribArray(c.Le);a.bindBuffer(a.ARRAY_BUFFER,b.Jq);a.vertexAttribPointer(c.Le,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.Dd/4,this.Df);c=b.dj;a.useProgram(c.Bl);0<=c.Le&&(a.enableVertexAttribArray(c.Le),a.bindBuffer(a.ARRAY_BUFFER,b.Sl[b.dg]),a.vertexAttribPointer(c.Le,b.Db?3:2,a.FLOAT,!1,0,0));0<=c.wh&&(a.enableVertexAttribArray(c.wh),a.bindBuffer(a.ARRAY_BUFFER,b.Il[b.dg]),a.vertexAttribPointer(c.wh,2,a.FLOAT,!1,
0,0));b.Db&&a.enable(a.DEPTH_TEST)};d.prototype.Ny=function(){var a=this.ka,b=this.ma,c=b.Tb[this.Dd];b.zs=this.Dd;b.dj=c;a.useProgram(c.Bl);!c.ki&&c.Gn&&(c.wr(b.jp),c.ki=!0);c.Fj&&c.Jn!==b.Jm&&(c.Jn=b.Jm,a.uniform1f(c.Fj,b.Jm));0<=c.Le&&(a.enableVertexAttribArray(c.Le),a.bindBuffer(a.ARRAY_BUFFER,b.Sl[b.dg]),a.vertexAttribPointer(c.Le,b.Db?3:2,a.FLOAT,!1,0,0));0<=c.wh&&(a.enableVertexAttribArray(c.wh),a.bindBuffer(a.ARRAY_BUFFER,b.Il[b.dg]),a.vertexAttribPointer(c.wh,2,a.FLOAT,!1,0,0))};d.prototype.Jy=
function(){var a=this.Pa;this.ka.uniform4f(this.ma.dj.jq,a[0],a[1],a[2],a[3])};d.prototype.Oy=function(){var a,b,c=this.ma.dj,h=this.ka;a=this.Pa;c.dl&&this.ma.ti!==this.Ue&&(h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,this.Ue),this.ma.ti=this.Ue,h.activeTexture(h.TEXTURE0));var d=a[0];c.lq&&d!==c.Kt&&(c.Kt=d,h.uniform1f(c.lq,d));d=a[1];c.kq&&d!==c.Jt&&(c.Jt=d,h.uniform1f(c.kq,d));d=a[2];b=a[3];!c.Ci||d===c.Et&&b===c.Ft||(c.Et=d,c.Ft=b,h.uniform2f(c.Ci,d,b));d=a[4];b=a[5];!c.Bi||d===c.Ct&&
b===c.Dt||(c.Ct=d,c.Dt=b,h.uniform2f(c.Bi,d,b));d=a[6];c.cl&&d!==c.Ht&&(c.Ht=d,h.uniform1f(c.cl,d));d=a[7];c.bl&&d!==c.Gt&&(c.Gt=d,h.uniform1f(c.bl,d));d=a[8];b=a[9];!c.gl||d===c.Ot&&b===c.Pt||(c.Ot=d,c.Pt=b,h.uniform2f(c.gl,d,b));d=a[10];b=a[11];!c.el||d===c.Lt&&b===c.Mt||(c.Lt=d,c.Mt=b,h.uniform2f(c.el,d,b));d=a[12];c.fl&&d!==c.Nt&&(c.Nt=d,h.uniform1f(c.fl,d));if(c.Ka.length)for(a=0,b=c.Ka.length;a<b;a++)d=this.Yu[a],d!==c.$p[a]&&(c.$p[a]=d,h.uniform1f(c.Ka[a][1],d))};a.prototype.ge=function(){this.ag===
this.Xg.length&&this.Xg.push(new d(0,this));return this.Xg[this.ag++]};a.prototype.ai=function(){if(0!==this.ag&&!this.ka.isContextLost()){var a=this.ka;0<this.Kq&&(a.bindBuffer(a.ARRAY_BUFFER,this.Jq),a.bufferSubData(a.ARRAY_BUFFER,0,this.xu.subarray(0,this.Kq)),b&&0<=b.Le&&"<point>"===b.name&&a.vertexAttribPointer(b.Le,4,a.FLOAT,!1,0,0));if(0<this.Fg){var b=this.dj;a.bindBuffer(a.ARRAY_BUFFER,this.Sl[this.dg]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Co.subarray(0,this.Fg));b&&0<=b.Le&&"<point>"!==
b.name&&a.vertexAttribPointer(b.Le,this.Db?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Il[this.dg]);a.bufferSubData(a.ARRAY_BUFFER,0,this.ro.subarray(0,this.Xj));b&&0<=b.wh&&"<point>"!==b.name&&a.vertexAttribPointer(b.wh,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.ag;a<b;a++)switch(c=this.Xg[a],c.type){case 1:c.Gy();break;case 2:c.Py();break;case 3:c.My();break;case 4:c.Iy();break;case 5:c.Ry();break;case 6:c.Hy();break;case 7:c.Ay();break;case 8:c.Fy();break;case 9:c.Ny();break;case 10:c.Oy();
break;case 11:c.Qy();break;case 12:c.Jy();break;case 13:c.Ky();break;case 14:c.Ly()}this.Kq=this.Xj=this.Fg=this.ag=0;this.sn=this.qd=!1;this.dg++;4<=this.dg&&(this.dg=0)}};a.prototype.Sj=function(a){if(a!==this.qt&&!this.Mk){var b=this.ge();b.type=3;this.qt=b.lu=a;this.qd=!1}};a.prototype.we=function(a){if(a!==this.si){var b=this.ge();b.type=2;this.si=b.Ue=a;this.qd=!1}};a.prototype.Gh=function(a,b){if((a!==this.tt||b!==this.pt)&&!this.Mk){var c=this.ge();c.type=4;c.Dd=a;c.Df=b;this.tt=a;this.pt=
b;this.qd=!1}};a.prototype.Mu=function(){this.Gh(this.ka.ONE,this.ka.ONE_MINUS_SRC_ALPHA)};a.prototype.sl=function(a,b,c,h,d,e,l,k){15992<=this.Fg&&this.ai();var t=this.Fg,w=this.Xj,q=this.Co,y=this.ro,B=this.kp;if(this.qd)this.Xg[this.ag-1].Df+=6;else{var F=this.ge();F.type=1;F.Dd=this.Db?t:t/2*3;F.Df=6;this.qd=!0}this.Db?(q[t++]=a,q[t++]=b,q[t++]=B,q[t++]=c,q[t++]=h,q[t++]=B,q[t++]=d,q[t++]=e,q[t++]=B,q[t++]=l,q[t++]=k,q[t++]=B):(q[t++]=a,q[t++]=b,q[t++]=c,q[t++]=h,q[t++]=d,q[t++]=e,q[t++]=l,q[t++]=
k);y[w++]=0;y[w++]=0;y[w++]=1;y[w++]=0;y[w++]=1;y[w++]=1;y[w++]=0;y[w++]=1;this.Fg=t;this.Xj=w};a.prototype.Eh=function(a,b,c,h,d,e,l,k,t){15992<=this.Fg&&this.ai();var w=this.Fg,q=this.Xj,y=this.Co,B=this.ro,F=this.kp;if(this.qd)this.Xg[this.ag-1].Df+=6;else{var D=this.ge();D.type=1;D.Dd=this.Db?w:w/2*3;D.Df=6;this.qd=!0}var D=t.left,C=t.top,A=t.right;t=t.bottom;this.Db?(y[w++]=a,y[w++]=b,y[w++]=F,y[w++]=c,y[w++]=h,y[w++]=F,y[w++]=d,y[w++]=e,y[w++]=F,y[w++]=l,y[w++]=k,y[w++]=F):(y[w++]=a,y[w++]=
b,y[w++]=c,y[w++]=h,y[w++]=d,y[w++]=e,y[w++]=l,y[w++]=k);B[q++]=D;B[q++]=C;B[q++]=A;B[q++]=C;B[q++]=A;B[q++]=t;B[q++]=D;B[q++]=t;this.Fg=w;this.Xj=q};a.prototype.Qd=function(a){if(this.Xk!==a){if(!this.Tb[a]){if(0===this.Xk)return;a=0}var b=this.ge();b.type=9;this.Xk=b.Dd=a;this.qd=!1}};a.prototype.ql=function(a){a=this.Tb[a];return!(!a.Ci&&!a.Bi)};a.prototype.Oq=function(a){a=this.Tb[a];return!!(a.Ci||a.Bi||a.ip)};a.prototype.Nq=function(a){return this.Tb[a].Qe};a.prototype.pB=function(a){a=this.Tb[a];
return 0!==a.Tm||0!==a.Um};a.prototype.Xz=function(a){return this.Tb[a].Tm};a.prototype.Yz=function(a){return this.Tb[a].Um};a.prototype.Zz=function(a,b){return this.Tb[a].Ka[b][2]};a.prototype.Xn=function(a){return this.Tb[a].Wo};a.prototype.Tj=function(a,b,c,h,d,e,l,k,t,w,q,y,B,F,D){var C=this.Tb[this.Xk],A,u;if(C.qA||D.length){A=this.ge();A.type=10;A.Pa?gd(this.qe,A.Pa):A.Pa=fd();u=A.Pa;u[0]=b;u[1]=c;u[2]=h;u[3]=d;u[4]=e;u[5]=l;u[6]=k;u[7]=t;u[8]=w;u[9]=q;u[10]=y;u[11]=B;u[12]=F;C.dl?A.Ue=a:A.Ue=
null;if(D.length)for(c=A.Yu,c.length=D.length,a=0,b=D.length;a<b;a++)c[a]=D[a];this.qd=!1}};a.prototype.clear=function(a,b,c,h){var d=this.ge();d.type=7;d.Dd=0;d.Pa||(d.Pa=fd());d.Pa[0]=a;d.Pa[1]=b;d.Pa[2]=c;d.Pa[3]=h;this.qd=!1};a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var g=this.ge();g.type=7;g.Dd=1;g.Pa||(g.Pa=fd());g.Pa[0]=a;g.Pa[1]=b;g.Pa[2]=c;g.Pa[3]=d;this.qd=!1}};a.prototype.Qu=function(a){if(this.Db&&(a=!!a,this.Mk!==a)){var b=this.ge();b.type=14;b.Dd=a?1:0;this.qd=!1;this.Mk=
a;this.ao=null;this.Mk?this.Qd(2):this.Qd(0)}};a.prototype.Ou=function(a){if(this.Db){var b=this.ge();b.type=13;b.Dd=a?1:0;this.qd=!1}};a.prototype.Ns=function(){gd(this.bq,e);this.Nf();this.kf();var a=this.width/2,b=this.height/2;this.sl(-a,b,a,b,a,-b,-a,-b);gd(e,this.qe);this.kf()};a.prototype.Nu=function(a,b,c){this.Qd(3);var d=this.ge();d.type=12;d.Pa||(d.Pa=fd());d.Pa[0]=a;d.Pa[1]=b;d.Pa[2]=c;d.Pa[3]=1;this.qd=!1};a.prototype.RB=function(){this.Qd(0)};a.prototype.BB=function(){this.Qd(2)};a.prototype.oB=
function(){this.ai();this.ka.flush()};var k=[],l={};a.prototype.my=function(){I(k);l={}};a.prototype.En=function(a,b,c){var d;d=!1;b=!!b;var g=a.src+","+d+","+b+(d?",undefined":""),e=null;if("undefined"!==typeof a.src&&l.hasOwnProperty(g))return e=l[g],e.wm++,e;this.ai();var p=this.ka,v=oa(a.width)&&oa(a.height),e=p.createTexture();p.bindTexture(p.TEXTURE_2D,e);p.pixelStorei(p.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var t=p.RGBA,w=p.RGBA,q=p.UNSIGNED_BYTE;if(c&&!this.qh)switch(c){case 1:w=t=p.RGB;break;
case 2:q=p.UNSIGNED_SHORT_4_4_4_4;break;case 3:q=p.UNSIGNED_SHORT_5_5_5_1;break;case 4:w=t=p.RGB,q=p.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!v&&d){c=document.createElement("canvas");c.width=pa(a.width);c.height=pa(a.height);var y=c.getContext("2d");"undefined"!==typeof y.imageSmoothingEnabled?y.imageSmoothingEnabled=b:(y.webkitImageSmoothingEnabled=b,y.mozImageSmoothingEnabled=b,y.msImageSmoothingEnabled=b);y.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);p.texImage2D(p.TEXTURE_2D,0,t,
w,q,c)}else p.texImage2D(p.TEXTURE_2D,0,t,w,q,a);d?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.REPEAT),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.REPEAT)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE));b?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.LINEAR),(v||2<=this.version)&&this.Fs?(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR_MIPMAP_LINEAR),p.generateMipmap(p.TEXTURE_2D)):p.texParameteri(p.TEXTURE_2D,
p.TEXTURE_MIN_FILTER,p.LINEAR)):(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST));p.bindTexture(p.TEXTURE_2D,null);this.si=null;e.Uh=a.width;e.Th=a.height;e.wm=1;e.qs=g;k.push(e);return l[g]=e};a.prototype.Ee=function(a,b,c){var d;this.ai();var e=this.ka;this.qh&&(d=!1);var l=e.createTexture();e.bindTexture(e.TEXTURE_2D,l);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,
e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.si=null;l.Uh=a;l.Th=b;k.push(l);return l};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.wm&&1<a.wm?a.wm--:(this.ai(),a===this.si&&(this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.si=null),a===this.ti&&
(this.ka.activeTexture(this.ka.TEXTURE1),this.ka.bindTexture(this.ka.TEXTURE_2D,null),this.ka.activeTexture(this.ka.TEXTURE0),this.ti=null),Ja(k,a),"undefined"!==typeof a.qs&&delete l[a.qs],this.ka.deleteTexture(a)))};a.prototype.Re=function(a){if(a!==this.ao){var b=this.ge();b.type=6;this.ao=b.Ue=a;this.qd=!1}};Wb=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Zd=(this.tn=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Zc=!!a.dc;this.ft="undefined"!==typeof window.AppMobi||
this.Zc;this.Yd=!!window.c2cocoonjs;this.Ke=!!window.c2ejecta;this.Yd&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Ke&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Bb=this.Zc||this.Yd||this.Ke;this.Ok=
/edge\//i.test(navigator.userAgent);this.qh=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Ok;this.jt=/tizen/i.test(navigator.userAgent);this.Lk=/android/i.test(navigator.userAgent)&&!this.jt&&!this.qh&&!this.Ok;this.nt=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.qh&&!this.Ok;this.GA=/ipad/i.test(navigator.userAgent);this.xj=this.nt||this.GA||this.Ke;this.Qp=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.qh&&!this.Ok;this.et=/amazonwebappplatform/i.test(navigator.userAgent);this.zA=/firefox/i.test(navigator.userAgent);this.CA=/safari/i.test(navigator.userAgent)&&!this.Qp&&!this.qh&&!this.Ok;this.DA=/windows/i.test(navigator.userAgent);this.it=this.un="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.kt=!("undefined"===typeof window.c2isWindows8||
!window.c2isWindows8);this.FA=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Rk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Wp=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.wn=!!window.cr_windows10;this.Vp=this.kt||this.FA||this.Wp||this.wn;this.yA=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.rn=this.Lk&&!this.Qp&&!this.tn&&!this.zA&&!this.et&&!this.Bb;
this.devicePixelRatio=1;this.oi=this.Zd||this.tn||this.ft||this.Yd||this.Lk||this.xj||this.Rk||this.Wp||this.yA||this.jt||this.Ke;this.oi||(this.oi=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.vn=!!(this.xj&&this.Zd&&window.webkit);"undefined"===typeof cr_is_preview||this.un||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.un=!0);this.gt="undefined"!==
typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.ss=document.getElementById("c2canvasdiv");this.ma=this.ka=null;this.Fp="(unavailable)";this.Db=!1;this.$h=0;this.Kb=null;this.an=!1;this.du=this.eu=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Zc&&(window.c2runtime=
this);this.un&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.rn&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.ua=this.width;this.ta=this.height;this.Hm=this.width;this.vk=this.height;this.Cj=window.innerWidth;this.Bj=window.innerHeight;this.Ua=!0;this.Qk=!1;Date.now||
(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.da=[];this.Jb=[];this.iq={};this.df=[];this.rp={};this.hg=[];this.ck=[];this.xo=[];this.Wx=[];this.Xx=[];this.dv=null;this.Yh={};this.Sp=this.oh=!1;this.oe=0;this.Rp=this.Up=!1;this.bf=[];this.Nk=!1;this.Cn=this.$q="";this.yc=null;this.mg="";this.Fl=this.av=!1;this.$m=[];this.Zh=this.Ga=0;this.Ut=30;this.gp=this.hl=0;this.Cg=1;this.Hc=new zb;this.Gg=new zb;this.Mn=this.dn=this.ei=this.Rf=this.wi=this.up=this.zn=0;this.Wh=null;
this.Qm=[];this.qp=[];this.Sm=-1;this.mq=[[]];this.qr=this.Hn=0;this.Zn(null);this.Zt=this.kl=0;this.hq=!0;this.zk=0;this.Gl=[];this.mr=this.Pq=-1;this.yj=!0;this.al=0;this.rh=!1;this.VB=0;this.Zi=null;this.kc=this.mn=!1;this.cu=new ca;this.vq=new ca;this.wq=new ca;this.Ki=[];this.gf=new Cb([]);this.ir=new Cb([]);this.Tg=[];this.pj={};this.bh={};this.Sg={};this.bk={};this.ns={};this.yt=this.Bn=this.lc=this.xc=this.xt=this.An=this.ib=null;this.$j=this.Xp=!1;this.vp=[null,null];this.mh=0;this.Zm="";
this.rg={};this.Dl=this.uh=null;this.bv="";this.Ln=[];this.AB()}}function c(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function b(){try{return!!window.indexedDB}catch(a){return!1}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function e(a,b,c,h){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=h;e.onsuccess=function(d){d=d.target.result;d.onerror=h;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=
c}}catch(f){h(f)}}function k(a,b,c){try{var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=d;h.onerror=c;h.onsuccess=function(d){d=d.target.result;d.onerror=c;var h=d.transaction(["saves"]).objectStore("saves").get(a);h.onsuccess=function(){h.result?b(h.result.data):b(null)}}}catch(e){c(e)}}function l(){fa("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}
function f(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ca||a[b]&&"undefined"!==typeof a[b].tf||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.AB=function(){var a=this;if(this.vn)this.Hz(function(b){a.$k(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.Rk?b=new ActiveXObject("Microsoft.XMLHTTP"):
b=new XMLHttpRequest;var c="data.js";if(this.kt||this.Rk||this.Wp||this.wn)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.Bb&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(h){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(e){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(f){}this.Rk?b.onreadystatechange=function(){4===b.readyState&&a.$k(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.$k(b.response);
else if(a.Ke){var c=b.responseText,c=c.substr(c.indexOf("{"));a.$k(JSON.parse(c))}else a.$k(JSON.parse(b.responseText))},b.onerror=function(a){ha("Error requesting "+c+":");ha(a)});b.send()}};a.prototype.uA=function(){var a=this,b,c,d,h,e,f,g,m,q;this.pi=(!this.Bb||this.Ke||this.Zd)&&this.iC&&!this.rn;0===this.zd&&this.xj&&(this.pi=!1);this.devicePixelRatio=this.pi?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;"object"===typeof window.StatusBar&&
window.StatusBar.hide();this.hd();0<this.zd&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.XA();fa("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.ma.Zs();a.ma.Mi(a.ma.width,a.ma.height,!0);a.xc=null;a.lc=null;a.vp[0]=null;a.vp[1]=null;a.YA();a.Ua=!0;fa("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.Zy&&
(this.Yd||this.Ke||!this.Bb)&&(b={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.Lk||(this.ka=this.canvas.getContext("webgl2",b)),this.ka||(this.ka=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b)))}catch(l){}if(this.ka){if(b=this.ka.getExtension("WEBGL_debug_renderer_info"))this.Fp=this.ka.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.ka.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Db&&(this.Fp+=" [front-to-back enabled]");
this.Bb||(this.bd=document.createElement("canvas"),jQuery(this.bd).appendTo(this.canvas.parentNode),this.bd.oncontextmenu=function(){return!1},this.bd.onselectstart=function(){return!1},this.bd.width=Math.round(this.Hm*this.devicePixelRatio),this.bd.height=Math.round(this.vk*this.devicePixelRatio),jQuery(this.bd).css({width:this.Hm+"px",height:this.vk+"px"}),this.yu(),this.Hq=this.bd.getContext("2d"));this.ma=new Wb(this.ka,this.oi,this.Db);this.ma.Mi(this.canvas.width,this.canvas.height);this.ma.Fs=
0!==this.Sy;this.Kb=null;b=0;for(c=this.da.length;b<c;b++)for(e=this.da[b],d=0,h=e.Ea.length;d<h;d++)g=e.Ea[d],g.oc=this.ma.Ep(g.id),g.Qe=this.ma.Nq(g.oc),this.$j=this.$j||this.ma.ql(g.oc);b=0;for(c=this.df.length;b<c;b++){m=this.df[b];d=0;for(h=m.Ea.length;d<h;d++)g=m.Ea[d],g.oc=this.ma.Ep(g.id),g.Qe=this.ma.Nq(g.oc);m.jf();d=0;for(h=m.Ha.length;d<h;d++){q=m.Ha[d];e=0;for(f=q.Ea.length;e<f;e++)g=q.Ea[e],g.oc=this.ma.Ep(g.id),g.Qe=this.ma.Nq(g.oc),this.$j=this.$j||this.ma.ql(g.oc);q.jf()}}}else{if(0<
this.zd&&this.Zc){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.Kb=AppMobi.canvas.getContext("2d");try{this.Kb.samplingMode=this.Mb?"smooth":"sharp",this.Kb.globalScale=1,this.Kb.HTML5CompatibilityMode=!0,this.Kb.imageSmoothingEnabled=this.Mb}catch(k){}0!==this.width&&0!==this.height&&(this.Kb.width=this.width,this.Kb.height=this.height)}this.Kb||(this.Yd?(b={antialias:!!this.Mb,alpha:!0},this.Kb=this.canvas.getContext("2d",b)):(b={alpha:!0},
this.Kb=this.canvas.getContext("2d",b)),this.ho(this.Kb,this.Mb));this.Hq=this.bd=null}this.qv=function(b){a.Bc(!1,b)};window==window.top||this.Bb||this.Vp||this.Rk||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Yd&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(fa("Reloading for continuous preview"),
this.Cn="__c2_continuouspreview",this.Fl=!0),this.gB&&!this.oi&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var b=window.parent;b&&b.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Ii()});this.Bb||(b=function(a){if(Vb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},"undefined"!==typeof PointerEvent?
document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.zd&&this.pi&&1<this.devicePixelRatio&&this.setSize(this.Ac,this.zc,!0);this.vv();this.nA();this.go();this.ga={}};a.prototype.setSize=function(a,b,c){var d=0,h=0,e=0,f=0,f=0;if(this.Cj!==a||this.Bj!==b||c){this.Cj=a;this.Bj=b;var g=this.zd;if((e=(document.mozFullScreen||document.webkitIsFullScreen||
!!document.msFullscreenElement||document.fullScreen||this.rh)&&!this.Zd)||0!==this.zd||c)e&&(g=this.mh),c=this.devicePixelRatio,4<=g?(5===g&&1!==c&&(a+=1,b+=1),e=this.Ac/this.zc,a/b>e?(e*=b,5===g?(f=e*c/this.Ac,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),e=this.Ac*f/c,f=this.zc*f/c,d=(a-e)/2,h=(b-f)/2,a=e,b=f):(d=(a-e)/2,a=e)):(f=a/e,5===g?(f=f*c/this.zc,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),e=this.Ac*f/c,f=this.zc*f/c,d=(a-e)/2,h=(b-f)/2,a=e):h=(b-f)/2,b=f)):e&&0===g&&(d=Math.floor((a-
this.Ac)/2),h=Math.floor((b-this.zc)/2),a=this.Ac,b=this.zc),2>g&&(this.pk=c),this.Hm=Math.round(a),this.vk=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.Ua=!0,this.Hv?(this.ua=this.width,this.ta=this.height,this.le=!0):this.width<this.Ac&&this.height<this.zc||1===g?(this.ua=this.width,this.ta=this.height,this.le=!0):(this.ua=this.Ac,this.ta=this.zc,this.le=!1,2===g?(e=this.Ac/this.zc,g=this.Cj/this.Bj,g<e?this.ua=this.ta*g:g>e&&(this.ta=this.ua/g)):3===g&&(e=this.Ac/this.zc,
g=this.Cj/this.Bj,g>e?this.ua=this.ta*g:g<e&&(this.ta=this.ua/g))),this.ss&&!this.Bb&&(jQuery(this.ss).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(h)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.Ke?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(h)+
"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.pi&&!this.Bb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.bd&&(this.bd.width=Math.round(a*c),this.bd.height=Math.round(b*c),this.bd.style.width=this.Hm+"px",this.bd.style.height=this.vk+"px"),this.ma&&this.ma.Mi(Math.round(a*c),Math.round(b*c)),this.Zc&&this.Kb&&(this.Kb.width=Math.round(a),this.Kb.height=Math.round(b)),this.Kb&&this.ho(this.Kb,this.Mb),
this.vv(),this.nt&&!this.Zd&&window.scrollTo(0,0)}};a.prototype.vv=function(){if(this.$x&&0!==this.Gq){var a="portrait";2===this.Gq&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",
b)}}};a.prototype.XA=function(){this.ma.my();this.Xp=!0;var a,b,c;a=0;for(b=this.da.length;a<b;a++)c=this.da[a],c.zq&&c.zq()};a.prototype.YA=function(){this.Xp=!1;var a,b,c;a=0;for(b=this.da.length;a<b;a++)c=this.da[a],c.Dq&&c.Dq()};a.prototype.yu=function(){if(!this.Bb){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.rh)&&!this.Zd?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.bd).css(a)}};
var n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.Qk)for(fa("[Construct 2] Suspending"),this.Qk=!0,-1!==this.Pq&&n&&n(this.Pq),-1!==this.mr&&clearTimeout(this.mr),a=0,b=this.Gl.length;a<b;a++)this.Gl[a](!0);else if(!a&&this.Qk){fa("[Construct 2] Resuming");this.Qk=!1;this.zn=sb();this.wi=sb();a=this.hl=this.dn=0;for(b=this.Gl.length;a<
b;a++)this.Gl[a](!1);this.Bc(!1)}};a.prototype.hs=function(a){this.Gl.push(a)};a.prototype.Ng=function(a){return this.Ln[a]};a.prototype.$k=function(a){a&&a.project||ha("Project model unavailable");a=a.project;this.name=a[0];this.Ms=a[1];this.zd=a[12];this.Ac=a[10];this.zc=a[11];this.su=this.Ac/2;this.tu=this.zc/2;this.Bb&&!this.Ke&&(4<=a[12]||0===a[12])&&(fa("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.zd=3);this.yr=a[18];
this.vh=a[19];if(0===this.vh){var b=new Image;b.crossOrigin="anonymous";this.Ru(b,"loading-logo.png");this.uh={In:b}}else if(4===this.vh){b=new Image;b.src="";var c=new Image;c.src="";var d=new Image;d.src="";var h=new Image;h.src="";var e=new Image;e.src="";var f=new Image;f.src="";var g=new Image;g.src="";var m=new Image;m.src="";var q=new Image;q.src="";var l=new Image;l.src="";var k=new Image;k.src="";var n=new Image;n.src="";this.uh={In:[b,c,d,h],lB:[e,f,g,m],pC:[q,l,k,n]}}this.kl=a[21];this.Ln=
ud();this.Pf=new M(this);b=0;for(c=a[2].length;b<c;b++)g=a[2][b],d=this.Ng(g[0]),Xb(g,d.prototype),m=new d(this),m.lo=g[1],m.sh=g[2],m.sD=g[5],m.Wt=g[9],m.Qa&&m.Qa(),this.plugins.push(m);this.Ln=ud();b=0;for(c=a[3].length;b<c;b++){g=a[3][b];e=this.Ng(g[1]);m=null;d=0;for(h=this.plugins.length;d<h;d++)if(this.plugins[d]instanceof e){m=this.plugins[d];break}q=new m.Ab(m);q.name=g[0];q.ya=g[2];q.Op=g[3].slice(0);q.kC=g[3].length;q.ay=g[4];q.Lz=g[5];q.Wa=g[11];q.ya?(q.Gi=[],q.ig=this.zk++,q.Ib=null):
(q.Gi=null,q.ig=-1,q.Ib=[]);q.Xm=null;q.hj=null;q.Gs=null;q.rd=!1;q.Vd=null;g[6]?(q.jr=g[6][0],q.ov=g[6][1],q.kr=g[6][2]):(q.jr=null,q.ov=0,q.kr=0);g[7]?q.Ud=g[7]:q.Ud=null;q.index=b;q.F=[];q.Lm=[];q.Bg=[new bc(q)];q.vf=0;q.Fe=null;q.uy=0;q.Wj=!0;q.yo=cc;q.Qz=dc;q.Vz=ec;q.Oa=fc;q.rl=gc;q.Yn=hc;q.Ji=ic;q.hn=jc;q.xp=kc;q.Ap=lc;q.Be=mc;q.Bp=nc;q.Cm=new Db(this.Ac,this.zc);q.mm=!0;q.nm=!1;q.ga={};q.toString=oc;q.Jb=[];d=0;for(h=g[8].length;d<h;d++){l=g[8][d];k=this.Ng(l[1]);n=null;e=0;for(f=this.Jb.length;e<
f;e++)if(this.Jb[e]instanceof k){n=this.Jb[e];break}n||(n=new k(this),n.tq=[],n.sq=new ca,n.Qa&&n.Qa(),this.Jb.push(n),cd.UB&&n instanceof cd.UB&&(this.dv=n));-1===n.tq.indexOf(q)&&n.tq.push(q);e=new n.Ab(n,q);e.name=l[0];e.Wa=l[2];e.Qa();q.Jb.push(e)}q.global=g[9];q.Tp=g[10];q.Ea=[];d=0;for(h=g[12].length;d<h;d++)q.Ea.push({id:g[12][d][0],name:g[12][d][1],oc:-1,Qe:!1,hc:!0,index:d});q.ID=g[13];this.yr&&!q.ya&&!q.Tp&&m.sh||q.Qa();q.name&&(this.types[q.name]=q);this.da.push(q);m.lo&&(d=new m.nb(q),
d.uid=this.kl++,d.Du=this.Zt++,d.mi=0,d.Ek=pc,d.toString=qc,d.ea=g[14],d.Qa(),q.F.push(d),this.rg[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(e=a[4][b],f=this.da[e[0]],d=1,h=e.length;d<h;d++)g=this.da[e[d]],g.Ib.push(f),f.Gi.push(g);b=0;for(c=a[28].length;b<c;b++){e=a[28][b];f=[];d=0;for(h=e.length;d<h;d++)f.push(this.da[e[d]]);d=0;for(h=f.length;d<h;d++)f[d].rd=!0,f[d].Vd=f}if(0<this.zk)for(b=0,c=this.da.length;b<c;b++)if(g=this.da[b],!g.ya&&g.Ib.length){g.Xm=Array(this.zk);g.hj=Array(this.zk);
g.Gs=Array(this.zk);q=[];d=n=k=l=0;for(h=g.Ib.length;d<h;d++)for(m=g.Ib[d],g.Xm[m.ig]=l,l+=m.kC,g.hj[m.ig]=k,k+=m.ay,g.Gs[m.ig]=n,n+=m.Lz,e=0,f=m.Ea.length;e<f;e++)q.push(Aa({},m.Ea[e]));g.Ea=q.concat(g.Ea);d=0;for(h=g.Ea.length;d<h;d++)g.Ea[d].index=d}b=0;for(c=a[5].length;b<c;b++)g=a[5][b],d=new rc(this,g),this.iq[d.name]=d,this.df.push(d);b=0;for(c=a[6].length;b<c;b++)g=a[6][b],d=new sc(this,g),this.rp[d.name]=d,this.hg.push(d);b=0;for(c=this.hg.length;b<c;b++)this.hg[b].ec();b=0;for(c=this.hg.length;b<
c;b++)this.hg[b].ur();b=0;for(c=this.xo.length;b<c;b++)this.xo[b].ec();I(this.xo);this.Zx=a[7];this.Zm=a[8];this.tg=a[9];this.pk=1;this.Zy=a[13];this.Mb=a[14];this.us=a[15];this.iC=a[17];this.Gq=a[20];this.$x=0<this.Gq;this.gB=a[22];this.le=this.Hv=a[23];this.Sy=a[24];this.mB=a[25];this.Db=a[27]&&!this.qh;this.no=Date.now();I(this.Ln);this.uA()};var h=!1,g=0,r=[];a.prototype.uB=function(a,b){function c(){g--;d.St()}var d=this;a.addEventListener("load",c);a.addEventListener("error",c);r.push([a,b]);
this.St()};a.prototype.St=function(){for(var a;r.length&&100>g;)g++,a=r.shift(),this.Ru(a[0],a[1])};a.prototype.Gv=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){h=a.ps=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",b)};this.Ke?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){h=a.ps=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.uB(a,
b)));this.ck.push(a)};a.prototype.Jz=function(a){var b,c;b=0;for(c=this.ck.length;b<c;b++)if(this.ck[b].qy===a)return this.ck[b];return null};var p=0,v=!1;a.prototype.nA=function(){this.Zi&&(p=this.Zi.PB(this.Zx))};a.prototype.ks=function(){var a=p,b=0,c=0,d=!0,h,e,c=0;for(h=this.ck.length;c<h;c++){e=this.ck[c];var g=e.oy;if(!g||0>=g)g=5E4;a+=g;e.src&&(e.complete||e.loaded)&&!e.ps?b+=g:d=!1}d&&this.mB&&this.Zi&&(v||(this.Zi.WB(),v=!0),c=this.Zi.Wz(),b+=c,c<p&&(d=!1));this.ef=0==a?1:b/a;return d};
var t=!1;a.prototype.go=function(){if(this.Kb||this.ma){var a=this.Kb||this.Hq;this.bd&&this.yu();var b=window.innerWidth,c=window.innerHeight;this.Cj===b&&this.Bj===c||this.setSize(b,c);this.ef=0;this.ut=-1;var d=this;if(this.ks()&&(4!==this.vh||t))this.oA();else{c=Date.now()-this.no;if(a){var e=this.width,g=this.height,b=this.devicePixelRatio;if(3>this.vh&&(this.Yd||500<=c&&this.ut!=this.ef)){a.clearRect(0,0,e,g);var c=e/2,g=g/2,e=0===this.vh&&this.uh.In.complete,f=40*b,q=0,l=80*b,k;if(e){var n=
this.uh.In,l=n.width*b;k=n.height*b;f=l/2;q=k/2;a.drawImage(n,ua(c-f),ua(g-q),l,k)}1>=this.vh?(c=ua(c-f)+.5,g=ua(g+(q+(e?12*b:0)))+.5,a.fillStyle=h?"red":"DodgerBlue",a.fillRect(c,g,Math.floor(l*this.ef),6*b),a.strokeStyle="black",a.strokeRect(c,g,l,6*b),a.strokeStyle="white",a.strokeRect(c-1*b,g-1*b,l+2*b,8*b)):2===this.vh&&(a.font=this.Ke?"12pt ArialMT":"12pt Arial",a.fillStyle=h?"#f00":"#999",a.HD="middle",b=Math.round(100*this.ef)+"%",e=a.measureText?a.measureText(b):null,a.fillText(b,c-(e?e.width:
0)/2,g));this.ut=this.ef}else if(4===this.vh){this.Xy(a);m?m(function(){d.go()}):setTimeout(function(){d.go()},16);return}}setTimeout(function(){d.go()},this.Yd?10:100)}}};var w=-1,q="undefined"===typeof cr_is_preview?200:0,y=!0,B=!1,F=0,D=0,C="undefined"===typeof cr_is_preview?3E3:0,A=null,u=null,z=0;a.prototype.Xy=function(a){if(!t){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),e=this.uh.In,g=this.uh.lB,f=this.uh.pC,m=0;4>m;++m)if(!e[m].complete||!g[m].complete||!f[m].complete)return;
0===z&&(w=Date.now());var m=Date.now(),l=!1,k=a,n,p;y||B?(a.clearRect(0,0,b,d),A&&A.width===b&&A.height===d||(A=document.createElement("canvas"),A.width=b,A.height=d,u=A.getContext("2d")),k=u,l=!0,y&&1===z&&(w=Date.now())):a.globalAlpha=1;k.fillStyle="#333333";k.fillRect(0,0,b,d);256<this.vk?(n=Ka(.22*d,105,.6*b),p=.25*n,k.drawImage(c(g,n),.5*b-n/2,.2*d-p/2,n,p),p=n=Math.min(.395*d,.95*b),k.drawImage(c(e,n),.5*b-n/2,.485*d-p/2,n,p),n=Ka(.22*d,105,.6*b),p=.25*n,k.drawImage(c(f,n),.5*b-n/2,.868*d-p/
2,n,p),k.fillStyle="#3C3C3C",n=b,p=Math.max(.005*d,2),k.fillRect(0,.8*d-p/2,n,p),k.fillStyle=h?"red":"#E0FF65",n=b*this.ef,k.fillRect(.5*b-n/2,.8*d-p/2,n,p)):(p=n=.55*d,k.drawImage(c(e,n),.5*b-n/2,.45*d-p/2,n,p),k.fillStyle="#3C3C3C",n=b,p=Math.max(.005*d,2),k.fillRect(0,.85*d-p/2,n,p),k.fillStyle=h?"red":"#E0FF65",n=b*this.ef,k.fillRect(.5*b-n/2,.85*d-p/2,n,p));l&&(y?a.globalAlpha=0===z?0:Math.min((m-w)/300,1):B&&(a.globalAlpha=Math.max(1-(m-D)/300,0)),a.drawImage(A,0,0,b,d));y&&300<=m-w&&2<=z&&
(y=!1,F=m);!y&&m-F>=C&&!B&&1<=this.ef&&(B=!0,D=m);if(B&&m-D>=300+q||"undefined"!==typeof cr_is_preview&&1<=this.ef&&500>Date.now()-w)t=!0,B=y=!1,this.uh=u=A=null;++z}};a.prototype.oA=function(){this.bd&&(this.canvas.parentNode.removeChild(this.bd),this.bd=this.Hq=null);this.no=Date.now();this.wi=sb();var a,b,c;if(this.yr)for(a=0,b=this.da.length;a<b;a++)c=this.da[a],c.ya||c.Tp||!c.tb.sh||c.Qa();else this.yj=!1;a=0;for(b=this.df.length;a<b;a++)this.df[a].ry();2<=this.zd&&(a=this.Ac/this.zc,b=this.width/
this.height,this.pk=2!==this.zd&&b>a||2===this.zd&&b<a?this.height/this.zc:this.width/this.Ac);this.Ms?this.iq[this.Ms].gr():this.df[0].gr();this.yr||(this.al=1,this.trigger(M.prototype.K.Io,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.da.length;a<b;a++)c=this.da[a],c.fu&&c.fu();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Bc(!1);
this.Zc&&AppMobi.webview.execute("onGameReady();")};a.prototype.Bc=function(a,b,c){if(this.ib){var d=sb();if(c||!this.Qk||a){a||(m?this.Pq=m(this.qv):this.mr=setTimeout(this.qv,this.oi?1:16));b=b||d;var h=this.zd;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Zd)||this.rh)&&0<this.mh&&(h=this.mh);if(0<h){var h=window.innerWidth,e=window.innerHeight;this.Cj===h&&this.Bj===e||this.setSize(h,e)}this.Bb||(c?this.an||(this.an=!0):this.an?
(this.an=!1,0===this.zd&&this.setSize(Math.round(this.eu/this.devicePixelRatio),Math.round(this.du/this.devicePixelRatio),!0)):(this.eu=this.width,this.du=this.height));this.yj&&(c=this.ks(),this.al=this.ef,c&&(this.yj=!1,this.ef=1,this.trigger(M.prototype.K.Io,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.QA(b);!this.Ua&&!this.Yd||this.Xp||this.Fl||a||(this.Ua=!1,this.ma?this.He():this.ih(),this.Dl&&(this.canvas&&this.canvas.toDataURL&&(this.bv=this.canvas.toDataURL(this.Dl[0],this.Dl[1]),
window.cr_onSnapshot&&window.cr_onSnapshot(this.bv),this.trigger(M.prototype.K.ww,null)),this.Dl=null));this.qD||(this.Rf++,this.ei++,this.dn++);this.hl+=sb()-d}}};a.prototype.QA=function(a){var b,c,d,h,e,g,f,q;1E3<=a-this.wi&&(this.wi+=1E3,1E3<=a-this.wi&&(this.wi=a),this.up=this.dn,this.dn=0,this.gp=this.hl,this.hl=0);b=0;0!==this.zn&&(b=a-this.zn,0>b&&(b=0),this.Zh=b/=1E3,.5<this.Zh?this.Zh=0:this.Zh>1/this.Ut&&(this.Zh=1/this.Ut));this.zn=a;this.Ga=this.Zh*this.Cg;this.Hc.add(this.Ga);this.Gg.add(b);
a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.rh)&&!this.Zd;2<=this.zd||a&&0<this.mh?(b=this.Ac/this.zc,c=this.width/this.height,d=this.zd,a&&0<this.mh&&(d=this.mh),this.pk=2!==d&&c>b||2===d&&c<b?this.height/this.zc:this.width/this.Ac,this.ib&&(this.ib.Ku(this.ib.scrollX),this.ib.Lu(this.ib.scrollY))):this.pk=this.pi?this.devicePixelRatio:1;this.hd();this.oe++;this.Pf.GB();this.oe--;this.hd();this.oe++;c=this.cu.Uf();a=0;for(b=c.length;a<
b;a++)c[a].BD();a=0;for(b=this.da.length;a<b;a++)if(g=this.da[a],!g.ya&&(g.Jb.length||g.Ib.length))for(c=0,d=g.F.length;c<d;c++)for(f=g.F[c],h=0,e=f.Da.length;h<e;h++)f.Da[h].Bc();a=0;for(b=this.da.length;a<b;a++)if(g=this.da[a],!g.ya&&(g.Jb.length||g.Ib.length))for(c=0,d=g.F.length;c<d;c++)for(f=g.F[c],h=0,e=f.Da.length;h<e;h++)q=f.Da[h],q.kB&&q.kB();c=this.vq.Uf();a=0;for(b=c.length;a<b;a++)c[a].Bc();this.oe--;this.pA();for(a=0;this.Wh&&10>a++;)this.Ds(this.Wh);a=0;for(b=this.hg.length;a<b;a++)this.hg[a].Jp=
!1;this.ib.ci&&this.ib.ci.nc();I(this.Ki);this.hq=!1;this.oe++;a=0;for(b=this.da.length;a<b;a++)if(g=this.da[a],!g.ya&&(g.Jb.length||g.Ib.length))for(c=0,d=g.F.length;c<d;c++)for(f=g.F[c],h=0,e=f.Da.length;h<e;h++)q=f.Da[h],q.lr&&q.lr();c=this.wq.Uf();a=0;for(b=c.length;a<b;a++)c[a].lr();this.oe--};a.prototype.Ii=function(){var a,b,c,d,h,e,g,f,q;a=0;for(b=this.da.length;a<b;a++)if(g=this.da[a],!g.ya)for(c=0,d=g.F.length;c<d;c++)if(f=g.F[c],f.Ii&&f.Ii(),f.Da)for(h=0,e=f.Da.length;h<e;h++)q=f.Da[h],
q.Ii&&q.Ii()};a.prototype.Ds=function(a){var b=this.ib;this.ib.YB();var c,d,h;if(this.ma)for(c=0,d=this.da.length;c<d;c++)h=this.da[c],h.ya||!h.tr||h.global&&0!==h.F.length||-1!==a.Jk.indexOf(h)||h.tr();b==a&&I(this.Pf.gd);I(this.Ki);this.Iu(!0);a.gr();this.Iu(!1);this.hq=this.Ua=!0;this.hd()};a.prototype.Iu=function(a){var b,c,d,h,e,g,f,q,m;b=0;for(c=this.Jb.length;b<c;b++)d=this.Jb[b],a?d.ll&&d.ll():d.ml&&d.ml();b=0;for(c=this.da.length;b<c;b++)if(d=this.da[b],d.global||d.tb.lo)for(h=0,e=d.F.length;h<
e;h++)if(g=d.F[h],a?g.ll&&g.ll():g.ml&&g.ml(),g.Da)for(f=0,q=g.Da.length;f<q;f++)m=g.Da[f],a?m.ll&&m.ll():m.ml&&m.ml()};a.prototype.Kl=function(a){this.vq.add(a)};a.prototype.aC=function(a){this.wq.add(a)};a.prototype.fi=function(a){return a&&-1!==a.jl?this.Zh*a.jl:this.Ga};a.prototype.ih=function(){this.ib.ih(this.Kb);this.Zc&&this.Kb.present()};a.prototype.He=function(){this.Db&&(this.$h=1,this.ib.fj(this.ma));this.ib.He(this.ma);this.ma.oB()};a.prototype.Uo=function(a){a&&this.Qm.push(a)};a.prototype.zB=
function(a){Ja(this.Qm,a)};a.prototype.hi=function(a){a=a.toString();return this.rg.hasOwnProperty(a)?this.rg[a]:null};var J=[];a.prototype.Lg=function(a){var b,c;b=a.type.name;var d=null;if(this.Yh.hasOwnProperty(b)){if(d=this.Yh[b],d.contains(a))return}else d=J.length?J.pop():new ca,this.Yh[b]=d;d.add(a);this.oh=!0;if(a.rd)for(b=0,c=a.siblings.length;b<c;b++)this.Lg(a.siblings[b]);this.Sp&&d.ak.push(a);this.Rp||(this.oe++,this.trigger(Object.getPrototypeOf(a.type.tb).K.Jr,a),this.oe--)};a.prototype.hd=
function(){if(this.oh){var a,b,c,d,h,e;this.Sp=!0;c=0;for(h=this.bf.length;c<h;++c)for(a=this.bf[c],b=a.type,b.F.push(a),d=0,e=b.Ib.length;d<e;++d)b.Ib[d].F.push(a),b.Ib[d].Wj=!0;I(this.bf);this.mw();lb(this.Yh);this.oh=this.Sp=!1}};a.prototype.mw=function(){for(var a in this.Yh)this.Yh.hasOwnProperty(a)&&this.Qv(this.Yh[a])};a.prototype.Qv=function(a){var b=a.Uf(),c=b[0].type,d,h,e,g,f,q;tb(c.F,a);c.Wj=!0;0===c.F.length&&(c.nm=!1);d=0;for(h=c.Ib.length;d<h;++d)q=c.Ib[d],tb(q.F,a),q.Wj=!0;d=0;for(h=
this.Pf.gd.length;d<h;++d)if(f=this.Pf.gd[d],f.ud.hasOwnProperty(c.index)&&tb(f.ud[c.index].Ef,a),!c.ya)for(e=0,g=c.Ib.length;e<g;++e)q=c.Ib[e],f.ud.hasOwnProperty(q.index)&&tb(f.ud[q.index].Ef,a);if(f=b[0].V){if(f.xe)for(e=f.F,d=0,h=e.length;d<h;++d)g=e[d],a.contains(g)&&(g.gb(),f.cd.update(g,g.Nd,null),g.Nd.set(0,0,-1,-1));tb(f.F,a);f.yl(0)}for(d=0;d<b.length;++d)this.Pv(b[d],c);a.clear();J.push(a);this.Ua=!0};a.prototype.Pv=function(a,b){var c,d,h;c=0;for(d=this.Qm.length;c<d;++c)this.Qm[c](a);
a.dh&&b.Cm.update(a,a.dh,null);(c=a.V)&&c.Qj(a,!0);if(a.Da)for(c=0,d=a.Da.length;c<d;++c)h=a.Da[c],h.Nj&&h.Nj(),h.behavior.sq.remove(a);this.cu.remove(a);this.vq.remove(a);this.wq.remove(a);a.Nj&&a.Nj();this.rg.hasOwnProperty(a.uid.toString())&&delete this.rg[a.uid.toString()];this.Mn--;100>b.Lm.length&&b.Lm.push(a)};a.prototype.Gm=function(a,b,c,d){if(a.ya){var h=ua(Math.random()*a.Gi.length);return this.Gm(a.Gi[h],b,c,d)}return a.Fe?this.eh(a.Fe,b,!1,c,d,!1):null};var S=[];a.prototype.eh=function(a,
b,c,d,h,e){var g,f,q,m;if(!a)return null;var l=this.da[a[1]],k=l.tb.sh;if(this.yj&&k&&!l.Tp||k&&!this.ma&&11===a[0][11])return null;var n=b;k||(b=null);var p;l.Lm.length?(p=l.Lm.pop(),p.ue=!0,l.tb.nb.call(p,l)):(p=new l.tb.nb(l),p.ue=!1);!c||e||this.rg.hasOwnProperty(a[2].toString())?p.uid=this.kl++:p.uid=a[2];this.rg[p.uid.toString()]=p;p.Du=this.Zt++;p.mi=l.F.length;g=0;for(f=this.bf.length;g<f;++g)this.bf[g].type===l&&p.mi++;p.Ek=pc;p.toString=qc;q=a[3];if(p.ue)lb(p.ga);else{p.ga={};if("undefined"!==
typeof cr_is_preview)for(p.ct=[],p.ct.length=q.length,g=0,f=q.length;g<f;g++)p.ct[g]=q[g][1];p.wc=[];p.wc.length=q.length}g=0;for(f=q.length;g<f;g++)p.wc[g]=q[g][0];if(k){var r=a[0];p.x=ia(d)?r[0]:d;p.y=ia(h)?r[1]:h;p.z=r[2];p.width=r[3];p.height=r[4];p.depth=r[5];p.M=r[6];p.opacity=r[7];p.Hd=r[8];p.Id=r[9];p.md=r[10];g=r[11];!this.ma&&l.Ea.length&&(p.md=g);p.rk=Mb(p.md);this.ka&&Sb(p,p.md,this.ka);if(p.ue){g=0;for(f=r[12].length;g<f;g++)for(q=0,m=r[12][g].length;q<m;q++)p.Lb[g][q]=r[12][g][q];p.Wb.set(0,
0,0,0);p.dh.set(0,0,-1,-1);p.Nd.set(0,0,-1,-1);p.Eb.zl(p.Wb);I(p.Zo)}else{p.Lb=r[12].slice(0);g=0;for(f=p.Lb.length;g<f;g++)p.Lb[g]=r[12][g].slice(0);p.hb=[];p.Rg=[];p.Rg.length=l.Ea.length;p.Wb=new xa(0,0,0,0);p.dh=new xa(0,0,-1,-1);p.Nd=new xa(0,0,-1,-1);p.Eb=new za;p.Zo=[];p.Ia=tc;p.jD=uc;p.od=vc;p.gb=wc;p.hC=xc;p.Dv=yc;p.Cf=zc}p.Sf=!1;p.dC=0;p.cC=0;p.bC=null;14===r.length&&(p.Sf=!0,p.dC=r[13][0],p.cC=r[13][1],p.bC=r[13][2]);g=0;for(f=l.Ea.length;g<f;g++)p.Rg[g]=!0;p.zg=!0;p.jf=Cc;p.jf();p.Ev=
!!p.hb.length;p.Yo=!0;p.bp=!0;l.mm=!0;p.visible=!0;p.jl=-1;p.V=b;p.lf=b.F.length;p.$h=0;"undefined"===typeof p.Sa&&(p.Sa=null);this.Ua=p.bg=!0}var y;I(S);g=0;for(f=l.Ib.length;g<f;g++)S.push.apply(S,l.Ib[g].Jb);S.push.apply(S,l.Jb);if(p.ue)for(g=0,f=S.length;g<f;g++){var t=S[g];y=p.Da[g];y.ue=!0;t.behavior.nb.call(y,t,p);r=a[4][g];q=0;for(m=r.length;q<m;q++)y.ea[q]=r[q];y.Qa();t.behavior.sq.add(p)}else for(p.Da=[],g=0,f=S.length;g<f;g++)t=S[g],y=new t.behavior.nb(t,p),y.ue=!1,y.ea=a[4][g].slice(0),
y.Qa(),p.Da.push(y),t.behavior.sq.add(p);r=a[5];if(p.ue)for(g=0,f=r.length;g<f;g++)p.ea[g]=r[g];else p.ea=r.slice(0);this.bf.push(p);this.oh=!0;b&&(b.ok(p,!0),1!==b.Ld||1!==b.Md)&&(l.nm=!0);this.Mn++;if(l.rd){if(p.rd=!0,p.ue?I(p.siblings):p.siblings=[],!c&&!e){g=0;for(f=l.Vd.length;g<f;g++)if(l.Vd[g]!==l){if(!l.Vd[g].Fe)return null;p.siblings.push(this.eh(l.Vd[g].Fe,n,!1,k?p.x:d,k?p.y:h,!0))}g=0;for(f=p.siblings.length;g<f;g++)for(p.siblings[g].siblings.push(p),q=0;q<f;q++)g!==q&&p.siblings[g].siblings.push(p.siblings[q])}}else p.rd=
!1,p.siblings=null;p.Qa();g=0;for(f=p.Da.length;g<f;g++)p.Da[g].zu&&p.Da[g].zu();return p};a.prototype.nj=function(a){var b,c;b=0;for(c=this.ib.Ha.length;b<c;b++){var d=this.ib.Ha[b];if(Ub(d.name,a))return d}return null};a.prototype.Bf=function(a){a=ua(a);0>a&&(a=0);a>=this.ib.Ha.length&&(a=this.ib.Ha.length-1);return this.ib.Ha[a]};a.prototype.mj=function(a){return ka(a)?this.Bf(a):this.nj(a.toString())};a.prototype.ep=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Oa().Va=!0};a.prototype.rl=
function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].rl()};a.prototype.Yn=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Yn()};a.prototype.Ji=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Ji()};a.prototype.Av=function(a){if(a.mm){var b,c,d=a.F;b=0;for(c=d.length;b<c;++b)d[b].Dv();d=this.bf;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].Dv();a.mm=!1}};a.prototype.Ps=function(a,b,c,d){var h,g,e=a?1!==a.Ld||1!==a.Md:!1;if(b.ya)for(a=0,h=b.Gi.length;a<h;++a)g=b.Gi[a],e||g.nm?Ga(d,g.F):(this.Av(g),
g.Cm.$n(c,d));else e||b.nm?Ga(d,b.F):(this.Av(b),b.Cm.$n(c,d))};a.prototype.aA=function(a,b,c,d){var h,g;h=0;for(g=b.length;h<g;++h)this.Ps(a,b[h],c,d)};a.prototype.$z=function(a,b,c){var d=this.dv;d&&this.aA(a,d.tq,b,c)};a.prototype.Hl=function(a,b,c){var d=a.Oa(),h,g,e,f,q=this.uc().Vc.Oe,m,l,k;if(d.Va)for(d.Va=!1,I(d.F),h=0,f=a.F.length;h<f;h++)e=a.F[h],e.gb(),m=e.V.Xb(b,c,!0),l=e.V.Xb(b,c,!1),e.od(m,l)?d.F.push(e):q&&d.Xa.push(e);else{g=0;k=q?d.Xa:d.F;h=0;for(f=k.length;h<f;h++)e=k[h],e.gb(),
m=e.V.Xb(b,c,!0),l=e.V.Xb(b,c,!1),e.od(m,l)&&(q?d.F.push(e):(d.F[g]=d.F[h],g++));k.length=g}a.Be();return d.Ip()};a.prototype.Oi=function(a,b){if(!(a&&b&&a!==b&&a.bg&&b.bg))return!1;a.gb();b.gb();var c=a.V,d=b.V,h,g,e,f,q,m,l,k;if(c===d||c.Ld===d.Ld&&d.Md===d.Md&&c.scale===d.scale&&c.M===d.M&&c.xd===d.xd){if(!a.Wb.vA(b.Wb)||!a.Eb.dt(b.Eb)||a.Sf&&b.Sf)return!1;if(a.Sf)return this.nv(a,b);if(b.Sf)return this.nv(b,a);l=a.Sa&&!a.Sa.ri();h=b.Sa&&!b.Sa.ri();if(!l&&!h)return!0;l?(a.Sa.Vh(a.width,a.height,
a.M),l=a.Sa):(this.gf.Uj(a.Eb,a.x,a.y,a.width,a.height),l=this.gf);h?(b.Sa.Vh(b.width,b.height,b.M),k=b.Sa):(this.gf.Uj(b.Eb,b.x,b.y,b.width,b.height),k=this.gf);return l.Kk(k,b.x-a.x,b.y-a.y)}l=a.Sa&&!a.Sa.ri();h=b.Sa&&!b.Sa.ri();l?(a.Sa.Vh(a.width,a.height,a.M),this.gf.Wu(a.Sa)):this.gf.Uj(a.Eb,a.x,a.y,a.width,a.height);l=this.gf;h?(b.Sa.Vh(b.width,b.height,b.M),this.ir.Wu(b.Sa)):this.ir.Uj(b.Eb,b.x,b.y,b.width,b.height);k=this.ir;h=0;for(g=l.te;h<g;h++)e=2*h,f=e+1,q=l.fc[e],m=l.fc[f],l.fc[e]=c.Ad(q+
a.x,m+a.y,!0),l.fc[f]=c.Ad(q+a.x,m+a.y,!1);l.gb();h=0;for(g=k.te;h<g;h++)e=2*h,f=e+1,q=k.fc[e],m=k.fc[f],k.fc[e]=d.Ad(q+b.x,m+b.y,!0),k.fc[f]=d.Ad(q+b.x,m+b.y,!1);k.gb();return l.Kk(k,0,0)};var N=new za;new xa(0,0,0,0);var L=[];a.prototype.nv=function(a,b){var c,d,h,g,e=b.Wb,f=a.x,q=a.y;a.oD(e,L);var m=b.Sa&&!b.Sa.ri();c=0;for(d=L.length;c<d;++c)if(h=L[c],g=h.vB,e.wA(g,f,q)&&(N.zl(g),N.offset(f,q),N.dt(b.Eb)))if(m)if(b.Sa.Vh(b.width,b.height,b.M),h.Lf){if(h.Lf.Kk(b.Sa,b.x-(f+g.left),b.y-(q+g.top)))return I(L),
!0}else{if(this.gf.Uj(N,0,0,g.right-g.left,g.bottom-g.top),this.gf.Kk(b.Sa,b.x,b.y))return I(L),!0}else if(h.Lf){if(this.gf.Uj(b.Eb,0,0,b.width,b.height),h.Lf.Kk(this.gf,-(f+g.left),-(q+g.top)))return I(L),!0}else return I(L),!0;I(L);return!1};a.prototype.wv=function(a,b){if(!b)return!1;var c,d,h,g,e;c=0;for(d=a.Jb.length;c<d;c++)if(a.Jb[c].behavior instanceof b)return!0;if(!a.ya)for(c=0,d=a.Ib.length;c<d;c++)for(e=a.Ib[c],h=0,g=e.Jb.length;h<g;h++)if(e.Jb[h].behavior instanceof b)return!0;return!1};
a.prototype.rr=function(a){return this.wv(a,cd.PC)};a.prototype.sr=function(a){return this.wv(a,cd.QC)};var P=[];a.prototype.Pi=function(a){var b,c,d;a.gb();this.$z(a.V,a.Wb,P);b=0;for(c=P.length;b<c;++b)if(d=P[b],d.ga.solidEnabled&&this.Oi(a,d))return I(P),d;I(P);return null};a.prototype.sB=function(a,b,c,d){d=d||50;var h=a.x,g=a.y,e,f=null,q=null;for(e=0;e<d;e++)if(a.x=h+b*e,a.y=g+c*e,a.Ia(),!this.Oi(a,f)&&((f=this.Pi(a))&&(q=f),!f&&!f))return q&&this.qB(a,b,c,q),!0;a.x=h;a.y=g;a.Ia();return!1};
a.prototype.qB=function(a,b,c,d){var h=2,g,e=!1;g=!1;for(var f=a.x,q=a.y;16>=h;)g=1/h,h*=2,a.x+=b*g*(e?1:-1),a.y+=c*g*(e?1:-1),a.Ia(),this.Oi(a,d)?g=e=!0:(g=e=!1,f=a.x,q=a.y);g&&(a.x=f,a.y=q,a.Ia())};a.prototype.tB=function(a){var b=0,c=a.x,d=a.y,h=0,g=0,e=0,f=this.Pi(a);if(f){for(;100>=b;){switch(h){case 0:g=0;e=-1;b++;break;case 1:g=1;e=-1;break;case 2:g=1;e=0;break;case 3:e=g=1;break;case 4:g=0;e=1;break;case 5:g=-1;e=1;break;case 6:g=-1;e=0;break;case 7:e=g=-1}h=(h+1)%8;a.x=ua(c+g*b);a.y=ua(d+
e*b);a.Ia();if(!this.Oi(a,f)&&(f=this.Pi(a),!f))return}a.x=c;a.y=d;a.Ia()}};a.prototype.Hu=function(a,b){a.bg&&b.bg&&this.Ki.push([a,b])};a.prototype.Ux=function(a,b,c){var d,h,g;d=0;for(h=this.Ki.length;d<h;++d){g=this.Ki[d];if(g[0]===a)g=g[1];else if(g[1]===a)g=g[0];else continue;if(b.ya){if(-1===b.Gi.indexOf(b))continue}else if(g.type!==b)continue;-1===c.indexOf(g)&&c.push(g)}};a.prototype.iy=function(a,b){var c,d,h;c=0;for(d=this.Ki.length;c<d;c++)if(h=this.Ki[c],h[0]===a&&h[1]===b||h[0]===b&&
h[1]===a)return!0;return!1};a.prototype.fy=function(a,b,c){var d=a.x,h=a.y,g=ra(10,gb(b,c,d,h)),e=Ua(b,c,d,h),f=this.Pi(a);if(!f)return Ra(e+ta);var q=f,m,l,k,p,n=Oa(5);for(m=1;36>m;m++)if(l=e-m*n,a.x=b+Math.cos(l)*g,a.y=c+Math.sin(l)*g,a.Ia(),!this.Oi(a,q)&&(q=this.Pi(a),!q)){k=l;break}36===m&&(k=Ra(e+ta));q=f;for(m=1;36>m;m++)if(l=e+m*n,a.x=b+Math.cos(l)*g,a.y=c+Math.sin(l)*g,a.Ia(),!this.Oi(a,q)&&(q=this.Pi(a),!q)){p=l;break}36===m&&(p=Ra(e+ta));a.x=d;a.y=h;a.Ia();if(p===k)return p;a=Va(p,k)/2;
a=Za(p,k)?Ra(k+a+ta):Ra(p+a);k=Math.cos(e);e=Math.sin(e);p=Math.cos(a);a=Math.sin(a);b=k*p+e*a;return Ua(0,0,k-2*b*p,e-2*b*a)};var G=-1;a.prototype.trigger=function(a,b,c){if(!this.ib)return!1;var d=this.ib.ci;if(!d)return!1;var h=!1,g,e,f;G++;var q=d.mp;e=0;for(f=q.length;e<f;++e)g=this.tv(a,b,q[e],c),h=h||g;g=this.tv(a,b,d,c);G--;return h||g};a.prototype.tv=function(a,b,c,d){var h=!1,g,e,f,q;if(b)for(f=this.or(a,b,b.type.name,c,d),h=h||f,q=b.type.Ib,g=0,e=q.length;g<e;++g)f=this.or(a,b,q[g].name,
c,d),h=h||f;else f=this.or(a,b,"system",c,d),h=h||f;return h};a.prototype.or=function(a,b,c,d,h){var g,e=!1,f=!1,f="undefined"!==typeof h,q=(f?d.Is:d.uv)[c];if(!q)return e;var m=null;d=0;for(g=q.length;d<g;++d)if(q[d].method==a){m=q[d].xk;break}if(!m)return e;var l;f?l=m[h]:l=m;if(!l)return null;d=0;for(g=l.length;d<g;d++)a=l[d][0],h=l[d][1],f=this.Gz(b,c,a,h),e=e||f;return e};a.prototype.Gz=function(a,b,c,d){var h,g,e=!1;this.qr++;var f=this.uc().Vc;f&&this.rl(f.Hh);var q=1<this.qr;this.rl(c.Hh);
q&&this.rB();var m=this.Zn(c);m.Vc=c;a&&(h=this.types[b].Oa(),h.Va=!1,I(h.F),h.F[0]=a,this.types[b].Be());a=!0;if(c.parent){b=m.lv;for(h=c.parent;h;)b.push(h),h=h.parent;b.reverse();h=0;for(g=b.length;h<g;h++)if(!b[h].IB()){a=!1;break}}a&&(this.ei++,c.Oe?c.HB(d):c.nc(),e=e||m.vi);this.Un();q&&this.jB();this.Ji(c.Hh);f&&this.Ji(f.Hh);this.oh&&0===this.oe&&0===G&&!this.Up&&this.hd();this.qr--;return e};a.prototype.jn=function(){var a=this.uc();return a.Vc.Fc[a.Ec]};a.prototype.Pz=function(){var a=this.uc();
return a.Vc.Ae[a.kd]};a.prototype.rB=function(){this.Hn++;this.Hn>=this.mq.length&&this.mq.push([])};a.prototype.jB=function(){this.Hn--};a.prototype.Qs=function(){return this.mq[this.Hn]};a.prototype.Zn=function(a){this.Sm++;this.Sm>=this.qp.length&&this.qp.push(new Kc);var b=this.uc();b.reset(a);return b};a.prototype.Un=function(){this.Sm--};a.prototype.uc=function(){return this.qp[this.Sm]};a.prototype.Ss=function(a,b){for(var c,d,h,g,e,f;b;){c=0;for(d=b.Te.length;c<d;c++)if(f=b.Te[c],f instanceof
Lc&&Ub(a,f.name))return f;b=b.parent}c=0;for(d=this.hg.length;c<d;c++)for(e=this.hg[c],h=0,g=e.jh.length;h<g;h++)if(f=e.jh[h],f instanceof Lc&&Ub(a,f.name))return f;return null};a.prototype.Ts=function(a){var b,c;b=0;for(c=this.df.length;b<c;b++)if(this.df[b].Wa===a)return this.df[b];return null};a.prototype.ln=function(a){var b,c;b=0;for(c=this.da.length;b<c;b++)if(this.da[b].Wa===a)return this.da[b];return null};a.prototype.Rz=function(a){var b,c;b=0;for(c=this.Tg.length;b<c;b++)if(this.Tg[b].Wa===
a)return this.Tg[b];return null};a.prototype.zy=function(a,b){this.Dl=[a,b];this.Ua=!0};a.prototype.pA=function(){var a=this,c=this.$q,d=this.mg,h=this.Cn,g=!1;this.av&&(g=!0,c="__c2_continuouspreview",this.av=!1);if(c.length){this.hd();d=this.MB();if(b()&&!this.Yd)e(c,d,function(){fa("Saved state to IndexedDB storage ("+d.length+" bytes)");a.mg=d;a.trigger(M.prototype.K.Jo,null);d=a.mg="";g&&l()},function(b){try{localStorage.setItem("__c2save_"+c,d),fa("Saved state to WebStorage ("+d.length+" bytes)"),
a.mg=d,a.trigger(M.prototype.K.Jo,null),d=a.mg="",g&&l()}catch(h){fa("Failed to save game state: "+b+"; "+h),a.trigger(M.prototype.K.Ur,null)}});else try{localStorage.setItem("__c2save_"+c,d),fa("Saved state to WebStorage ("+d.length+" bytes)"),a.mg=d,this.trigger(M.prototype.K.Jo,null),d=a.mg="",g&&l()}catch(f){fa("Error saving to WebStorage: "+f),a.trigger(M.prototype.K.Ur,null)}this.Cn=this.$q="";this.yc=null}if(h.length){if(b()&&!this.Yd)k(h,function(b){b?(a.yc=b,fa("Loaded state from IndexedDB storage ("+
a.yc.length+" bytes)")):(a.yc=localStorage.getItem("__c2save_"+h)||"",fa("Loaded state from WebStorage ("+a.yc.length+" bytes)"));a.Fl=!1;a.yc||(a.yc=null,a.trigger(M.prototype.K.$l,null))},function(){a.yc=localStorage.getItem("__c2save_"+h)||"";fa("Loaded state from WebStorage ("+a.yc.length+" bytes)");a.Fl=!1;a.yc||(a.yc=null,a.trigger(M.prototype.K.$l,null))});else{try{this.yc=localStorage.getItem("__c2save_"+h)||"",fa("Loaded state from WebStorage ("+this.yc.length+" bytes)")}catch(q){this.yc=
null}this.Fl=!1;a.yc||(a.yc=null,a.trigger(M.prototype.K.$l,null))}this.$q=this.Cn=""}null!==this.yc&&(this.hd(),this.OA(this.yc)?(this.mg=this.yc,this.trigger(M.prototype.K.Iw,null),this.mg=""):a.trigger(M.prototype.K.$l,null),this.yc=null)};a.prototype.MB=function(){var a,b,c,d,h,g,e,q={c2save:!0,version:1,rt:{time:this.Hc.Aa,walltime:this.Gg.Aa,timescale:this.Cg,tickcount:this.Rf,execcount:this.ei,next_uid:this.kl,running_layout:this.ib.Wa,start_time_offset:Date.now()-this.no},types:{},layouts:{},
events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.da.length;a<b;a++)if(h=this.da[a],!h.ya&&!this.rr(h)){g={instances:[]};kb(h.ga)&&(g.ex=f(h.ga));c=0;for(d=h.F.length;c<d;c++)g.instances.push(this.Zq(h.F[c]));q.types[h.Wa.toString()]=g}a=0;for(b=this.df.length;a<b;a++)c=this.df[a],q.layouts[c.Wa.toString()]=c.Mc();d=q.events.groups;a=0;for(b=this.Tg.length;a<b;a++)c=this.Tg[a],d[c.Wa.toString()]=this.pj[c.Fk].ji;b=q.events.cnds;for(e in this.bh)this.bh.hasOwnProperty(e)&&(a=this.bh[e],kb(a.ga)&&
(b[e]={ex:f(a.ga)}));b=q.events.acts;for(e in this.Sg)this.Sg.hasOwnProperty(e)&&(a=this.Sg[e],kb(a.ga)&&(b[e]={ex:f(a.ga)}));b=q.events.vars;for(e in this.bk)this.bk.hasOwnProperty(e)&&(a=this.bk[e],a.xn||a.parent&&!a.Tk||(b[e]=a.data));q.system=this.Pf.Mc();return JSON.stringify(q)};a.prototype.Gu=function(){var a,b,c,d,h,g;this.rg={};a=0;for(b=this.da.length;a<b;a++)if(c=this.da[a],!c.ya)for(d=0,h=c.F.length;d<h;d++)g=c.F[d],this.rg[g.uid.toString()]=g};a.prototype.OA=function(a){var b;try{b=JSON.parse(a)}catch(c){return!1}if(!b.c2save||
1<b.version)return!1;this.Nk=!0;a=b.rt;this.Hc.reset();this.Hc.Aa=a.time;this.Gg.reset();this.Gg.Aa=a.walltime||0;this.Cg=a.timescale;this.Rf=a.tickcount;this.ei=a.execcount;this.no=Date.now()-a.start_time_offset;var d=a.running_layout;if(d!==this.ib.Wa)if(d=this.Ts(d))this.Ds(d);else return;var h,g,e,f,q,m,l;m=b.types;for(g in m)if(m.hasOwnProperty(g)&&(f=this.ln(parseInt(g,10)))&&!f.ya&&!this.rr(f)){m[g].ex?f.ga=m[g].ex:lb(f.ga);q=f.F;e=m[g].instances;d=0;for(h=sa(q.length,e.length);d<h;d++)this.Dn(q[d],
e[d]);d=e.length;for(h=q.length;d<h;d++)this.Lg(q[d]);d=q.length;for(h=e.length;d<h;d++){q=null;if(f.tb.sh&&(q=this.ib.kn(e[d].w.l),!q))continue;q=this.eh(f.Fe,q,!1,0,0,!0);this.Dn(q,e[d])}f.Wj=!0}this.hd();this.Gu();h=b.layouts;for(g in h)h.hasOwnProperty(g)&&(d=this.Ts(parseInt(g,10)))&&d.sd(h[g]);h=b.events.groups;for(g in h)h.hasOwnProperty(g)&&(d=this.Rz(parseInt(g,10)))&&this.pj[d.Fk]&&this.pj[d.Fk].wl(h[g]);d=b.events.cnds;for(g in this.bh)this.bh.hasOwnProperty(g)&&(d.hasOwnProperty(g)?this.bh[g].ga=
d[g].ex:this.bh[g].ga={});d=b.events.acts;for(g in this.Sg)this.Sg.hasOwnProperty(g)&&(d.hasOwnProperty(g)?this.Sg[g].ga=d[g].ex:this.Sg[g].ga={});d=b.events.vars;for(g in d)d.hasOwnProperty(g)&&this.bk.hasOwnProperty(g)&&(this.bk[g].data=d[g]);this.kl=a.next_uid;this.Nk=!1;d=0;for(h=this.$m.length;d<h;++d)q=this.$m[d],this.trigger(Object.getPrototypeOf(q.type.tb).K.Ph,q);I(this.$m);this.Pf.sd(b.system);d=0;for(h=this.da.length;d<h;d++)if(f=this.da[d],!f.ya&&!this.rr(f))for(b=0,g=f.F.length;b<g;b++){q=
f.F[b];if(f.rd)for(m=q.Ek(),I(q.siblings),a=0,e=f.Vd.length;a<e;a++)l=f.Vd[a],f!==l&&q.siblings.push(l.F[m]);q.Yf&&q.Yf();if(q.Da)for(a=0,e=q.Da.length;a<e;a++)m=q.Da[a],m.Yf&&m.Yf()}return this.Ua=!0};a.prototype.Zq=function(a,b){var c,d,h,g,e;g=a.type;h=g.tb;var q={};b?q.c2=!0:q.uid=a.uid;kb(a.ga)&&(q.ex=f(a.ga));if(a.wc&&a.wc.length)for(q.ivs={},c=0,d=a.wc.length;c<d;c++)q.ivs[a.type.Op[c].toString()]=a.wc[c];if(h.sh){h={x:a.x,y:a.y,w:a.width,h:a.height,l:a.V.Wa,zi:a.Cf()};0!==a.M&&(h.a=a.M);1!==
a.opacity&&(h.o=a.opacity);.5!==a.Hd&&(h.hX=a.Hd);.5!==a.Id&&(h.hY=a.Id);0!==a.md&&(h.bm=a.md);a.visible||(h.v=a.visible);a.bg||(h.ce=a.bg);-1!==a.jl&&(h.mts=a.jl);if(g.Ea.length)for(h.fx=[],c=0,d=g.Ea.length;c<d;c++)e=g.Ea[c],h.fx.push({name:e.name,active:a.Rg[e.index],params:a.Lb[e.index]});q.w=h}if(a.Da&&a.Da.length)for(q.behs={},c=0,d=a.Da.length;c<d;c++)g=a.Da[c],g.Mc&&(q.behs[g.type.Wa.toString()]=g.Mc());a.Mc&&(q.data=a.Mc());return q};a.prototype.Tz=function(a,b){var c,d;c=0;for(d=a.Op.length;c<
d;c++)if(a.Op[c]===b)return c;return-1};a.prototype.Oz=function(a,b){var c,d;c=0;for(d=a.Da.length;c<d;c++)if(a.Da[c].type.Wa===b)return c;return-1};a.prototype.Dn=function(a,b,c){var d,h,g,e,f;f=a.type;var q=f.tb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.ga=b.ex:lb(a.ga);if(h=b.ivs)for(d in h)h.hasOwnProperty(d)&&(g=this.Tz(f,parseInt(d,10)),0>g||g>=a.wc.length||(e=h[d],null===e&&(e=NaN),a.wc[g]=e));if(q.sh){g=b.w;a.V.Wa!==g.l&&(h=a.V,a.V=this.ib.kn(g.l),a.V?(h.Qj(a,!0),a.V.ok(a,!0),a.Ia(),a.V.yl(0)):
(a.V=h,c||this.Lg(a)));a.x=g.x;a.y=g.y;a.width=g.w;a.height=g.h;a.lf=g.zi;a.M=g.hasOwnProperty("a")?g.a:0;a.opacity=g.hasOwnProperty("o")?g.o:1;a.Hd=g.hasOwnProperty("hX")?g.hX:.5;a.Id=g.hasOwnProperty("hY")?g.hY:.5;a.visible=g.hasOwnProperty("v")?g.v:!0;a.bg=g.hasOwnProperty("ce")?g.ce:!0;a.jl=g.hasOwnProperty("mts")?g.mts:-1;a.md=g.hasOwnProperty("bm")?g.bm:0;a.rk=Mb(a.md);this.ka&&Sb(a,a.md,this.ka);a.Ia();if(g.hasOwnProperty("fx"))for(c=0,h=g.fx.length;c<h;c++)e=f.Ap(g.fx[c].name),0>e||(a.Rg[e]=
g.fx[c].active,a.Lb[e]=g.fx[c].params);a.jf()}if(f=b.behs)for(d in f)f.hasOwnProperty(d)&&(c=this.Oz(a,parseInt(d,10)),0>c||a.Da[c].sd(f[d]));b.data&&a.sd(b.data)};a.prototype.Js=function(a,b,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,c)},c)};a.prototype.Hz=function(a,b){this.Js("data.js",function(c){var d=new FileReader;d.onload=function(b){a(b.target.result)};d.onerror=b;d.readAsText(c)},b)};var V=[],O=0;a.prototype.pq=function(){if(V.length&&
!(8<=O)){O++;var a=V.shift();this.Ey(a.filename,a.ZB,a.cz)}};a.prototype.Ks=function(a,b,c){var d=this;V.push({filename:a,ZB:function(a){O--;d.pq();b(a)},cz:function(a){O--;d.pq();c(a)}});this.pq()};a.prototype.Ey=function(a,b,c){this.Js(a,function(a){var c=new FileReader;c.onload=function(a){b(a.target.result)};c.readAsArrayBuffer(a)},c)};a.prototype.Iz=function(a,b,c){var d="",h=a.toLowerCase(),g=h.substr(h.length-4),h=h.substr(h.length-5);".mp4"===g?d="video/mp4":".webm"===h?d="video/webm":".m4a"===
g?d="audio/mp4":".mp3"===g&&(d="audio/mpeg");this.Ks(a,function(a){a=URL.createObjectURL(new Blob([a],{type:d}));b(a)},c)};a.prototype.xA=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};a.prototype.Ru=function(a,b){this.vn&&!this.xA(b)?this.Iz(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};a.prototype.ho=function(a,b){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=
b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=b)};Mc=function(b){return new a(document.getElementById(b))};Nc=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=Mc;window.cr_createDCRuntime=Nc;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.j=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.zy(a,c)};
window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.c=a;this.ci=null;this.scrollX=this.c.Ac/2;this.scrollY=this.c.zc/2;this.scale=1;this.M=0;this.jj=!0;this.name=b[0];this.fB=b[1];this.eB=b[2];this.width=b[1];this.height=b[2];this.xv=b[3];this.Zu=b[4];this.Wa=b[5];var c=b[6],d,e;this.Ha=[];this.Jk=[];d=0;for(e=c.length;d<e;d++){var f=new Oc(this,c[d]);f.au=d;this.Ha.push(f)}c=b[7];this.ph=[];d=0;for(e=c.length;d<e;d++){var f=c[d],m=this.c.da[f[1]];m.Fe||(m.Fe=f);this.ph.push(f);-1===this.Jk.indexOf(m)&&this.Jk.push(m)}this.Ea=
[];this.hb=[];this.zg=!0;this.Lb=[];d=0;for(e=b[8].length;d<e;d++)this.Ea.push({id:b[8][d][0],name:b[8][d][1],oc:-1,Qe:!1,hc:!0,index:d}),this.Lb.push(b[8][d][2].slice(0));this.jf();this.Qq=new xa(0,0,1,1);this.Rq=new xa(0,0,1,1);this.Dh={}}function c(a,b){return a.lf-b.lf}function b(a,b){this.Ic=a;this.c=a.c;this.F=[];this.scale=1;this.M=0;this.gg=!1;this.Dg=new xa(0,0,0,0);this.rv=new za;this.yb=this.pb=this.zb=this.ob=0;this.Ti=!1;this.Jg=-1;this.fp=0;this.name=b[0];this.index=b[1];this.Wa=b[2];
this.visible=b[3];this.Ze=b[4];this.hf=b[5];this.Ld=b[6];this.Md=b[7];this.opacity=b[8];this.cn=b[9];this.xe=b[10];this.xd=b[11];this.md=b[12];this.Yy=b[13];this.rk="source-over";this.pd=this.vd=0;this.cd=null;this.ng=d();this.ff=!0;this.Dj=new xa(0,0,-1,-1);this.Uc=new xa(0,0,-1,-1);this.xe&&(this.cd=new Eb(this.c.Ac,this.c.zc));this.Mf=!1;var c=b[14],e,f;this.gv=[];this.ne=[];this.uk=[];e=0;for(f=c.length;e<f;e++){var m=c[e],l=this.c.da[m[1]];l.Fe||(l.Fe=m,l.uy=this.index);this.ne.push(m);-1===
this.Ic.Jk.indexOf(l)&&this.Ic.Jk.push(l)}Ea(this.gv,this.ne);this.Ea=[];this.hb=[];this.zg=!0;this.Lb=[];e=0;for(f=b[15].length;e<f;e++)this.Ea.push({id:b[15][e][0],name:b[15][e][1],oc:-1,Qe:!1,hc:!0,index:e}),this.Lb.push(b[15][e][2].slice(0));this.jf();this.Qq=new xa(0,0,1,1);this.Rq=new xa(0,0,1,1)}function d(){return f.length?f.pop():[]}function e(a){I(a);f.push(a)}a.prototype.LB=function(a){var b=a.type.Wa.toString();this.Dh.hasOwnProperty(b)||(this.Dh[b]=[]);this.Dh[b].push(this.c.Zq(a))};
a.prototype.Ws=function(){var a=this.Ha[0];return!a.hf&&1===a.opacity&&!a.cn&&a.visible};a.prototype.jf=function(){I(this.hb);this.zg=!0;var a,b,c;a=0;for(b=this.Ea.length;a<b;a++)c=this.Ea[a],c.hc&&(this.hb.push(c),c.Qe||(this.zg=!1))};a.prototype.zp=function(a){var b,c,d;b=0;for(c=this.Ea.length;b<c;b++)if(d=this.Ea[b],d.name===a)return d;return null};var k=[],l=!0;a.prototype.gr=function(){this.Zu&&(this.ci=this.c.rp[this.Zu],this.ci.ur());this.c.ib=this;this.width=this.fB;this.height=this.eB;
this.scrollX=this.c.Ac/2;this.scrollY=this.c.zc/2;var a,b,d,e,f,m,n;a=0;for(d=this.c.da.length;a<d;a++)if(b=this.c.da[a],!b.ya)for(f=b.F,b=0,e=f.length;b<e;b++)if(m=f[b],m.V){var q=m.V.au;q>=this.Ha.length&&(q=this.Ha.length-1);m.V=this.Ha[q];-1===m.V.F.indexOf(m)&&m.V.F.push(m);m.V.Ti=!0}if(!l)for(a=0,d=this.Ha.length;a<d;++a)this.Ha[a].F.sort(c);I(k);this.cy();a=0;for(d=this.Ha.length;a<d;a++)m=this.Ha[a],m.ty(),m.Ao();f=!1;if(!this.jj){for(n in this.Dh)if(this.Dh.hasOwnProperty(n)&&(b=this.c.ln(parseInt(n,
10)))&&!b.ya&&this.c.sr(b)){e=this.Dh[n];a=0;for(d=e.length;a<d;a++){m=null;if(b.tb.sh&&(m=this.kn(e[a].w.l),!m))continue;m=this.c.eh(b.Fe,m,!1,0,0,!0);this.c.Dn(m,e[a]);f=!0;k.push(m)}I(e)}a=0;for(d=this.Ha.length;a<d;a++)this.Ha[a].F.sort(c),this.Ha[a].Ti=!0}f&&(this.c.hd(),this.c.Gu());for(a=0;a<k.length;a++)if(m=k[a],m.type.rd)for(d=m.Ek(),b=0,e=m.type.Vd.length;b<e;b++)n=m.type.Vd[b],m.type!==n&&(n.F.length>d?m.siblings.push(n.F[d]):n.Fe&&(f=this.c.eh(n.Fe,m.V,!0,m.x,m.y,!0),this.c.hd(),n.yo(),
m.siblings.push(f),k.push(f)));a=0;for(d=this.ph.length;a<d;a++)m=this.ph[a],b=this.c.da[m[1]],b.rd||this.c.eh(this.ph[a],null,!0);this.c.Wh=null;this.c.hd();if(this.c.Kb&&!this.c.Bb)for(a=0,d=this.c.da.length;a<d;a++)n=this.c.da[a],!n.ya&&n.F.length&&n.Lq&&n.Lq(this.c.Kb);if(this.c.Nk)Ea(this.c.$m,k);else for(a=0,d=k.length;a<d;a++)m=k[a],this.c.trigger(Object.getPrototypeOf(m.type.tb).K.Ph,m);I(k);this.c.Nk||this.c.trigger(M.prototype.K.Or,null);this.jj=!1};a.prototype.ry=function(){var a,b,c,d,
e;b=a=0;for(c=this.ph.length;a<c;a++)d=this.ph[a],e=this.c.da[d[1]],e.global?e.rd||this.c.eh(d,null,!0):(this.ph[b]=d,b++);Da(this.ph,b)};a.prototype.YB=function(){this.c.Nk||this.c.trigger(M.prototype.K.Hw,null);this.c.Rp=!0;I(this.c.Pf.gd);var a,b,c,d,e,f;if(!this.jj)for(a=0,b=this.Ha.length;a<b;a++)for(this.Ha[a].xr(),e=this.Ha[a].F,c=0,d=e.length;c<d;c++)f=e[c],f.type.global||this.c.sr(f.type)&&this.LB(f);a=0;for(b=this.Ha.length;a<b;a++){e=this.Ha[a].F;c=0;for(d=e.length;c<d;c++)f=e[c],f.type.global||
this.c.Lg(f);this.c.hd();I(e);this.Ha[a].Ti=!0}a=0;for(b=this.c.da.length;a<b;a++)if(e=this.c.da[a],!(e.global||e.tb.sh||e.tb.lo||e.ya)){c=0;for(d=e.F.length;c<d;c++)this.c.Lg(e.F[c]);this.c.hd()}l=!1;this.c.Rp=!1};new xa(0,0,0,0);a.prototype.ih=function(a){var b,c=a,d=!1,e=!this.c.le;e&&(this.c.Bn||(this.c.Bn=document.createElement("canvas"),b=this.c.Bn,b.width=this.c.ua,b.height=this.c.ta,this.c.yt=b.getContext("2d"),d=!0),b=this.c.Bn,c=this.c.yt,b.width!==this.c.ua&&(b.width=this.c.ua,d=!0),b.height!==
this.c.ta&&(b.height=this.c.ta,d=!0),d&&this.c.ho(c,this.c.Mb));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.c.us&&!this.Ws()&&c.clearRect(0,0,this.c.ua,this.c.ta);var f,m,d=0;for(f=this.Ha.length;d<f;d++)m=this.Ha[d],m.visible&&0<m.opacity&&11!==m.md&&(m.F.length||!m.hf)?m.ih(c):m.Ao();e&&a.drawImage(b,0,0,this.c.width,this.c.height)};a.prototype.fj=function(a){a.Qu(!0);this.c.lc||(this.c.lc=a.Ee(this.c.ua,this.c.ta,this.c.Mb));if(this.c.lc.Uh!==this.c.ua||this.c.lc.Th!==this.c.ta)a.deleteTexture(this.c.lc),
this.c.lc=a.Ee(this.c.ua,this.c.ta,this.c.Mb);a.Re(this.c.lc);this.c.le||a.Mi(this.c.ua,this.c.ta);var b,c;for(b=this.Ha.length-1;0<=b;--b)c=this.Ha[b],c.visible&&1===c.opacity&&c.zg&&0===c.md&&(c.F.length||!c.hf)?c.fj(a):c.Ao();a.Qu(!1)};a.prototype.He=function(a){var b=0<this.hb.length||this.c.$j||!this.c.le||this.c.Db;if(b){this.c.lc||(this.c.lc=a.Ee(this.c.ua,this.c.ta,this.c.Mb));if(this.c.lc.Uh!==this.c.ua||this.c.lc.Th!==this.c.ta)a.deleteTexture(this.c.lc),this.c.lc=a.Ee(this.c.ua,this.c.ta,
this.c.Mb);a.Re(this.c.lc);this.c.le||a.Mi(this.c.ua,this.c.ta)}else this.c.lc&&(a.Re(null),a.deleteTexture(this.c.lc),this.c.lc=null);this.c.us&&!this.Ws()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Ha.length;c<d;c++)e=this.Ha[c],e.visible&&0<e.opacity&&(e.F.length||!e.hf)?e.He(a):e.Ao();b&&(0===this.hb.length||1===this.hb.length&&this.c.le?(1===this.hb.length?(b=this.hb[0].index,a.Qd(this.hb[0].oc),a.Tj(null,1/this.c.ua,1/this.c.ta,0,0,1,1,this.scale,this.M,0,0,this.c.ua/2,this.c.ta/2,this.c.Hc.Aa,
this.Lb[b]),a.Xn(this.hb[0].oc)&&(this.c.Ua=!0)):a.Qd(0),this.c.le||a.Mi(this.c.width,this.c.height),a.Re(null),a.Ou(!1),a.Sj(1),a.we(this.c.lc),a.Mu(),a.Nf(),a.kf(),b=this.c.width/2,c=this.c.height/2,a.sl(-b,c,b,c,b,-c,-b,-c),a.we(null),a.Ou(!0)):this.Tq(a,null,null,null))};a.prototype.Dk=function(){return 0<this.hb.length||this.c.$j||!this.c.le||this.c.Db?this.c.lc:null};a.prototype.Us=function(){var a=this.Ha[0].Je(),b,c,d;b=1;for(c=this.Ha.length;b<c;b++)d=this.Ha[b],(0!==d.Ld||0!==d.Md)&&d.Je()<
a&&(a=d.Je());return a};a.prototype.Ku=function(a){if(!this.xv){var b=1/this.Us()*this.c.ua/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.c.Ua=!0)};a.prototype.Lu=function(a){if(!this.xv){var b=1/this.Us()*this.c.ta/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.c.Ua=!0)};a.prototype.cy=function(){this.Ku(this.scrollX);this.Lu(this.scrollY)};a.prototype.Tq=function(a,b,c,d){var e=c?c.hb:b?b.hb:this.hb,f=1,m=0,q=0,l=0,k=
this.c.ua,n=this.c.ta;c?(f=c.V.Je(),m=c.V.Yc(),q=c.V.ob,l=c.V.pb,k=c.V.zb,n=c.V.yb):b&&(f=b.Je(),m=b.Yc(),q=b.ob,l=b.pb,k=b.zb,n=b.yb);var D=this.c.vp,C,A,u,z,J=0,S=1,N,L,P=this.c.ua,G=this.c.ta,V=P/2,O=G/2,Q=b?b.Qq:this.Qq,K=b?b.Rq:this.Rq,E=0,T=0,H=0,U=0,ba=P,Fa=P,Z=G,la=G,na=u=0;z=c?c.V.Yc():0;if(c){C=0;for(A=e.length;C<A;C++)u+=a.Xz(e[C].oc),na+=a.Yz(e[C].oc);U=c.Wb;E=b.Ad(U.left,U.top,!0,!0);H=b.Ad(U.left,U.top,!1,!0);ba=b.Ad(U.right,U.bottom,!0,!0);Z=b.Ad(U.right,U.bottom,!1,!0);0!==z&&(C=b.Ad(U.right,
U.top,!0,!0),A=b.Ad(U.right,U.top,!1,!0),T=b.Ad(U.left,U.bottom,!0,!0),U=b.Ad(U.left,U.bottom,!1,!0),z=Math.min(E,ba,C,T),ba=Math.max(E,ba,C,T),E=z,z=Math.min(H,Z,A,U),Z=Math.max(H,Z,A,U),H=z);E-=u;H-=na;ba+=u;Z+=na;K.left=E/P;K.top=1-H/G;K.right=ba/P;K.bottom=1-Z/G;T=E=ua(E);U=H=ua(H);Fa=ba=va(ba);la=Z=va(Z);T-=u;U-=na;Fa+=u;la+=na;0>E&&(E=0);0>H&&(H=0);ba>P&&(ba=P);Z>G&&(Z=G);0>T&&(T=0);0>U&&(U=0);Fa>P&&(Fa=P);la>G&&(la=G);Q.left=E/P;Q.top=1-H/G;Q.right=ba/P;Q.bottom=1-Z/G}else Q.left=K.left=0,
Q.top=K.top=0,Q.right=K.right=1,Q.bottom=K.bottom=1;na=c&&(a.ql(e[0].oc)||0!==u||0!==na||1!==c.opacity||c.type.tb.Wt)||b&&!c&&1!==b.opacity;a.Mu();if(na){D[J]||(D[J]=a.Ee(P,G,this.c.Mb));if(D[J].Uh!==P||D[J].Th!==G)a.deleteTexture(D[J]),D[J]=a.Ee(P,G,this.c.Mb);a.Qd(0);a.Re(D[J]);L=la-U;a.clearRect(T,G-U-L,Fa-T,L);c?c.He(a):(a.we(this.c.xc),a.Sj(b.opacity),a.Nf(),a.translate(-V,-O),a.kf(),a.Eh(E,Z,ba,Z,ba,H,E,H,Q));K.left=K.top=0;K.right=K.bottom=1;c&&(z=Q.top,Q.top=Q.bottom,Q.bottom=z);J=1;S=0}a.Sj(1);
u=e.length-1;var $a=a.Oq(e[u].oc)||!b&&!c&&!this.c.le;C=z=0;for(A=e.length;C<A;C++){D[J]||(D[J]=a.Ee(P,G,this.c.Mb));if(D[J].Uh!==P||D[J].Th!==G)a.deleteTexture(D[J]),D[J]=a.Ee(P,G,this.c.Mb);a.Qd(e[C].oc);z=e[C].index;a.Xn(e[C].oc)&&(this.c.Ua=!0);0!=C||na?(a.Tj(d,1/P,1/G,K.left,K.top,K.right,K.bottom,f,m,q,l,(q+k)/2,(l+n)/2,this.c.Hc.Aa,c?c.Lb[z]:b?b.Lb[z]:this.Lb[z]),a.we(null),C!==u||$a?(a.Re(D[J]),L=la-U,N=G-U-L,a.clearRect(T,N,Fa-T,L)):(c?a.Gh(c.vd,c.pd):b&&a.Gh(b.vd,b.pd),a.Re(d)),a.we(D[S]),
a.Nf(),a.translate(-V,-O),a.kf(),a.Eh(E,Z,ba,Z,ba,H,E,H,Q),C!==u||$a||a.we(null)):(a.Re(D[J]),L=la-U,N=G-U-L,a.clearRect(T,N,Fa-T,L),c?(c.Tc&&c.Tc.wb?(N=c.Tc.wb,S=1/N.width,N=1/N.height):(S=1/c.width,N=1/c.height),a.Tj(d,S,N,K.left,K.top,K.right,K.bottom,f,m,q,l,(q+k)/2,(l+n)/2,this.c.Hc.Aa,c.Lb[z]),c.He(a)):(a.Tj(d,1/P,1/G,0,0,1,1,f,m,q,l,(q+k)/2,(l+n)/2,this.c.Hc.Aa,b?b.Lb[z]:this.Lb[z]),a.we(b?this.c.xc:this.c.lc),a.Nf(),a.translate(-V,-O),a.kf(),a.Eh(E,Z,ba,Z,ba,H,E,H,Q)),K.left=K.top=0,K.right=
K.bottom=1,c&&!$a&&(z=Z,Z=H,H=z));J=0===J?1:0;S=0===J?1:0}$a&&(a.Qd(0),c?a.Gh(c.vd,c.pd):b?a.Gh(b.vd,b.pd):this.c.le||(a.Mi(this.c.width,this.c.height),V=this.c.width/2,O=this.c.height/2,H=E=0,ba=this.c.width,Z=this.c.height),a.Re(d),a.we(D[S]),a.Nf(),a.translate(-V,-O),a.kf(),c&&1===e.length&&!na?a.Eh(E,H,ba,H,ba,Z,E,Z,Q):a.Eh(E,Z,ba,Z,ba,H,E,H,Q),a.we(null))};a.prototype.kn=function(a){var b,c;b=0;for(c=this.Ha.length;b<c;b++)if(this.Ha[b].Wa===a)return this.Ha[b];return null};a.prototype.Mc=function(){var a,
b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.M,w:this.width,h:this.height,fv:this.jj,persist:this.Dh,fx:[],layers:{}};a=0;for(b=this.Ea.length;a<b;a++)c=this.Ea[a],d.fx.push({name:c.name,active:c.hc,params:this.Lb[c.index]});a=0;for(b=this.Ha.length;a<b;a++)c=this.Ha[a],d.layers[c.Wa.toString()]=c.Mc();return d};a.prototype.sd=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.M=a.a;this.width=a.w;this.height=a.h;this.Dh=a.persist;"undefined"!==typeof a.fv&&
(this.jj=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.zp(f[b].name))d.hc=f[b].active,this.Lb[d.index]=f[b].params;this.jf();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.kn(parseInt(e,10)))&&a.sd(b[e])};rc=a;b.prototype.jf=function(){I(this.hb);this.zg=!0;var a,b,c;a=0;for(b=this.Ea.length;a<b;a++)c=this.Ea[a],c.hc&&(this.hb.push(c),c.Qe||(this.zg=!1))};b.prototype.zp=function(a){var b,c,d;b=0;for(c=this.Ea.length;b<c;b++)if(d=this.Ea[b],d.name===a)return d;return null};b.prototype.ty=
function(){var a,b,c,d,e,f;b=a=0;for(c=this.ne.length;a<c;a++){d=this.ne[a];e=this.c.da[d[1]];f=this.c.sr(e);e=!0;if(!f||this.Ic.jj){d=this.c.eh(d,this,!0);if(!d)continue;k.push(d);d.type.global&&(e=!1,this.uk.push(d.uid))}e&&(this.ne[b]=this.ne[a],b++)}this.ne.length=b;this.c.hd();!this.c.ma&&this.Ea.length&&(this.md=this.Yy);this.rk=Mb(this.md);this.c.ka&&Sb(this,this.md,this.c.ka);this.ff=!0};b.prototype.Qj=function(a,b){var c=Ha(this.F,a);0>c||(b&&this.xe&&a.Nd&&a.Nd.right>=a.Nd.left&&(a.gb(),
this.cd.update(a,a.Nd,null),a.Nd.set(0,0,-1,-1)),c===this.F.length-1?this.F.pop():(Ca(this.F,c),this.yl(c)),this.ff=!0)};b.prototype.ok=function(a,b){a.lf=this.F.length;this.F.push(a);b&&this.xe&&a.Nd&&a.Ia();this.ff=!0};b.prototype.nB=function(a){this.F.unshift(a);this.yl(0)};b.prototype.VA=function(a,b,c){var d=a.Cf();b=b.Cf();Ca(this.F,d);d<b&&b--;c&&b++;b===this.F.length?this.F.push(a):this.F.splice(b,0,a);this.yl(d<b?d:b)};b.prototype.yl=function(a){-1===this.Jg?this.Jg=a:a<this.Jg&&(this.Jg=
a);this.ff=this.Ti=!0};b.prototype.xr=function(){if(this.Ti){-1===this.Jg&&(this.Jg=0);var a,b,c;if(this.xe)for(a=this.Jg,b=this.F.length;a<b;++a)c=this.F[a],c.lf=a,this.cd.SA(c.Nd);else for(a=this.Jg,b=this.F.length;a<b;++a)this.F[a].lf=a;this.Ti=!1;this.Jg=-1}};b.prototype.Je=function(a){return this.Uz()*(this.c.le||a?this.c.pk:1)};b.prototype.Uz=function(){return(this.scale*this.Ic.scale-1)*this.xd+1};b.prototype.Yc=function(){return this.gg?0:Ra(this.Ic.M+this.M)};var f=[],m=[],n=[];b.prototype.Dp=
function(){this.xr();this.cd.$n(this.ob,this.pb,this.zb,this.yb,n);if(!n.length)return d();if(1===n.length){var a=d();Ea(a,n[0]);I(n);return a}for(var b=!0;1<n.length;){for(var a=n,c=void 0,f=void 0,l=void 0,k=void 0,w=void 0,c=0,f=a.length;c<f-1;c+=2){var l=a[c],k=a[c+1],w=d(),q=l,y=k,B=w,F=0,D=0,C=0,A=q.length,u=y.length,z=void 0,J=void 0;for(B.length=A+u;F<A&&D<u;++C)z=q[F],J=y[D],z.lf<J.lf?(B[C]=z,++F):(B[C]=J,++D);for(;F<A;++F,++C)B[C]=q[F];for(;D<u;++D,++C)B[C]=y[D];b||(e(l),e(k));m.push(w)}1===
f%2&&(b?(l=d(),Ea(l,a[f-1]),m.push(l)):m.push(a[f-1]));Ea(a,m);I(m);b=!1}a=n[0];I(n);return a};b.prototype.ih=function(a){this.Mf=this.cn||1!==this.opacity||0!==this.md;var b=this.c.canvas,c=a,d=!1;this.Mf&&(this.c.An||(this.c.An=document.createElement("canvas"),b=this.c.An,b.width=this.c.ua,b.height=this.c.ta,this.c.xt=b.getContext("2d"),d=!0),b=this.c.An,c=this.c.xt,b.width!==this.c.ua&&(b.width=this.c.ua,d=!0),b.height!==this.c.ta&&(b.height=this.c.ta,d=!0),d&&this.c.ho(c,this.c.Mb),this.hf&&c.clearRect(0,
0,this.c.ua,this.c.ta));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.hf||(c.fillStyle="rgb("+this.Ze[0]+","+this.Ze[1]+","+this.Ze[2]+")",c.fillRect(0,0,this.c.ua,this.c.ta));c.save();this.gg=!0;var d=this.Xb(0,0,!0,!0),f=this.Xb(0,0,!1,!0);this.gg=!1;this.c.tg&&(d=Math.round(d),f=Math.round(f));this.bo(d,f,c);var m=this.Je();c.scale(m,m);c.translate(-d,-f);this.xe?(this.Uc.left=this.cd.Ed(this.ob),this.Uc.top=this.cd.Fd(this.pb),this.Uc.right=this.cd.Ed(this.zb),this.Uc.bottom=this.cd.Fd(this.yb),
this.ff||!this.Uc.wk(this.Dj)?(e(this.ng),d=this.Dp(),this.ff=!1,this.Dj.sk(this.Uc)):d=this.ng):d=this.F;for(var l,q=null,f=0,m=d.length;f<m;++f)l=d[f],l!==q&&(this.Ty(l,c),q=l);this.xe&&(this.ng=d);c.restore();this.Mf&&(a.globalCompositeOperation=this.rk,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.Ty=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.gb();var c=a.Wb;c.right<this.ob||c.bottom<this.pb||c.left>this.zb||c.top>this.yb||(b.globalCompositeOperation=a.rk,a.ih(b))}};
b.prototype.Ao=function(){this.gg=!0;var a=this.Xb(0,0,!0,!0),b=this.Xb(0,0,!1,!0);this.gg=!1;this.c.tg&&(a=Math.round(a),b=Math.round(b));this.bo(a,b,null)};b.prototype.bo=function(a,b,c){var d=this.Je();this.ob=a;this.pb=b;this.zb=a+1/d*this.c.ua;this.yb=b+1/d*this.c.ta;this.ob>this.zb&&(a=this.ob,this.ob=this.zb,this.zb=a);this.pb>this.yb&&(a=this.pb,this.pb=this.yb,this.yb=a);a=this.Yc();0!==a&&(c&&(c.translate(this.c.ua/2,this.c.ta/2),c.rotate(-a),c.translate(this.c.ua/-2,this.c.ta/-2)),this.Dg.set(this.ob,
this.pb,this.zb,this.yb),this.Dg.offset((this.ob+this.zb)/-2,(this.pb+this.yb)/-2),this.rv.Xu(this.Dg,a),this.rv.os(this.Dg),this.Dg.offset((this.ob+this.zb)/2,(this.pb+this.yb)/2),this.ob=this.Dg.left,this.pb=this.Dg.top,this.zb=this.Dg.right,this.yb=this.Dg.bottom)};b.prototype.fj=function(a){if(this.Mf=this.cn){this.c.xc||(this.c.xc=a.Ee(this.c.ua,this.c.ta,this.c.Mb));if(this.c.xc.Uh!==this.c.ua||this.c.xc.Th!==this.c.ta)a.deleteTexture(this.c.xc),this.c.xc=a.Ee(this.c.ua,this.c.ta,this.c.Mb);
a.Re(this.c.xc)}this.gg=!0;var b=this.Xb(0,0,!0,!0),c=this.Xb(0,0,!1,!0);this.gg=!1;this.c.tg&&(b=Math.round(b),c=Math.round(c));this.bo(b,c,null);b=this.Je();a.Nf();a.scale(b,b);a.Wq(-this.Yc());a.translate((this.ob+this.zb)/-2,(this.pb+this.yb)/-2);a.kf();this.xe?(this.Uc.left=this.cd.Ed(this.ob),this.Uc.top=this.cd.Fd(this.pb),this.Uc.right=this.cd.Ed(this.zb),this.Uc.bottom=this.cd.Fd(this.yb),this.ff||!this.Uc.wk(this.Dj)?(e(this.ng),b=this.Dp(),this.ff=!1,this.Dj.sk(this.Uc)):b=this.ng):b=this.F;
for(var d,f=null,c=b.length-1;0<=c;--c)d=b[c],d!==f&&(this.Vy(b[c],a),f=d);this.xe&&(this.ng=b);this.hf||(this.fp=this.c.$h++,a.io(this.fp),a.Nu(1,1,1),a.Ns(),a.BB())};b.prototype.He=function(a){var b=0,c=0;if(this.Mf=this.cn||1!==this.opacity||0<this.hb.length||0!==this.md){this.c.xc||(this.c.xc=a.Ee(this.c.ua,this.c.ta,this.c.Mb));if(this.c.xc.Uh!==this.c.ua||this.c.xc.Th!==this.c.ta)a.deleteTexture(this.c.xc),this.c.xc=a.Ee(this.c.ua,this.c.ta,this.c.Mb);a.Re(this.c.xc);this.hf&&a.clear(0,0,0,
0)}this.hf||(this.c.Db?(a.io(this.fp),a.Nu(this.Ze[0]/255,this.Ze[1]/255,this.Ze[2]/255),a.Ns(),a.RB()):a.clear(this.Ze[0]/255,this.Ze[1]/255,this.Ze[2]/255,1));this.gg=!0;var d=this.Xb(0,0,!0,!0),b=this.Xb(0,0,!1,!0);this.gg=!1;this.c.tg&&(d=Math.round(d),b=Math.round(b));this.bo(d,b,null);d=this.Je();a.Nf();a.scale(d,d);a.Wq(-this.Yc());a.translate((this.ob+this.zb)/-2,(this.pb+this.yb)/-2);a.kf();this.xe?(this.Uc.left=this.cd.Ed(this.ob),this.Uc.top=this.cd.Fd(this.pb),this.Uc.right=this.cd.Ed(this.zb),
this.Uc.bottom=this.cd.Fd(this.yb),this.ff||!this.Uc.wk(this.Dj)?(e(this.ng),b=this.Dp(),this.ff=!1,this.Dj.sk(this.Uc)):b=this.ng):b=this.F;var f,m,l=null,c=0;for(f=b.length;c<f;++c)m=b[c],m!==l&&(this.Uy(b[c],a),l=m);this.xe&&(this.ng=b);this.Mf&&(b=this.hb.length?this.hb[0].oc:0,c=this.hb.length?this.hb[0].index:0,0===this.hb.length||1===this.hb.length&&!a.Oq(b)&&1===this.opacity?(1===this.hb.length?(a.Qd(b),a.Tj(this.Ic.Dk(),1/this.c.ua,1/this.c.ta,0,0,1,1,d,this.Yc(),this.ob,this.pb,(this.ob+
this.zb)/2,(this.pb+this.yb)/2,this.c.Hc.Aa,this.Lb[c]),a.Xn(b)&&(this.c.Ua=!0)):a.Qd(0),a.Re(this.Ic.Dk()),a.Sj(this.opacity),a.we(this.c.xc),a.Gh(this.vd,this.pd),a.Nf(),a.kf(),d=this.c.ua/2,b=this.c.ta/2,a.sl(-d,b,d,b,d,-b,-d,-b),a.we(null)):this.Ic.Tq(a,this,null,this.Ic.Dk()))};b.prototype.Uy=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.gb();var c=a.Wb;c.right<this.ob||c.bottom<this.pb||c.left>this.zb||c.top>this.yb||(b.io(a.$h),a.Ev?this.Wy(a,b):(b.Qd(0),b.Gh(a.vd,a.pd),a.He(b)))}};
b.prototype.Vy=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.gb();var c=a.Wb;c.right<this.ob||c.bottom<this.pb||c.left>this.zb||c.top>this.yb||(a.$h=this.c.$h++,0===a.md&&1===a.opacity&&a.zg&&a.fj&&(b.io(a.$h),a.fj(b)))}};b.prototype.Wy=function(a,b){var c=a.hb[0].oc,d=a.hb[0].index,e=this.Je();if(1!==a.hb.length||b.Oq(c)||b.pB(c)||(a.M||a.V.Yc())&&b.ql(c)||1!==a.opacity||a.type.tb.Wt)this.Ic.Tq(b,this,a,this.Mf?this.c.xc:this.Ic.Dk()),b.Nf(),b.scale(e,e),b.Wq(-this.Yc()),b.translate((this.ob+
this.zb)/-2,(this.pb+this.yb)/-2),b.kf();else{b.Qd(c);b.Gh(a.vd,a.pd);b.Xn(c)&&(this.c.Ua=!0);var f=0,m=0,q=0,l=0;b.ql(c)&&(l=a.Wb,f=this.Ad(l.left,l.top,!0,!0),m=this.Ad(l.left,l.top,!1,!0),q=this.Ad(l.right,l.bottom,!0,!0),l=this.Ad(l.right,l.bottom,!1,!0),f=f/windowWidth,m=1-m/windowHeight,q=q/windowWidth,l=1-l/windowHeight);var k;a.Tc&&a.Tc.wb?(k=a.Tc.wb,c=1/k.width,k=1/k.height):(c=1/a.width,k=1/a.height);b.Tj(this.Mf?this.c.xc:this.Ic.Dk(),c,k,f,m,q,l,e,this.Yc(),this.ob,this.pb,(this.ob+this.zb)/
2,(this.pb+this.yb)/2,this.c.Hc.Aa,a.Lb[d]);a.He(b)}};b.prototype.Xb=function(a,b,c,d){var e=this.c.devicePixelRatio;this.c.pi&&(a*=e,b*=e);var e=this.c.su,f=this.c.tu,e=(this.Ic.scrollX-e)*this.Ld+e,f=(this.Ic.scrollY-f)*this.Md+f,m=e,q=f,l=1/this.Je(!d);d?(m-=this.c.ua*l/2,q-=this.c.ta*l/2):(m-=this.c.width*l/2,q-=this.c.height*l/2);m+=a*l;q+=b*l;b=this.Yc();0!==b&&(m-=e,q-=f,a=Math.cos(b),b=Math.sin(b),d=m*a-q*b,q=q*a+m*b,m=d+e,q+=f);return c?m:q};b.prototype.Ad=function(a,b,c,d){var e=this.c.su,
f=this.c.tu,m=(this.Ic.scrollX-e)*this.Ld+e,q=(this.Ic.scrollY-f)*this.Md+f,f=m,e=q,l=this.Yc();if(0!==l){a-=m;b-=q;var k=Math.cos(-l),l=Math.sin(-l),n=a*k-b*l;b=b*k+a*l;a=n+m;b+=q}m=1/this.Je(!d);d?(f-=this.c.ua*m/2,e-=this.c.ta*m/2):(f-=this.c.width*m/2,e-=this.c.height*m/2);f=(a-f)/m;e=(b-e)/m;a=this.c.devicePixelRatio;this.c.pi&&!d&&(f/=a,e/=a);return c?f:e};b.prototype.Mc=function(){var a,b,c,d={s:this.scale,a:this.M,vl:this.ob,vt:this.pb,vr:this.zb,vb:this.yb,v:this.visible,bc:this.Ze,t:this.hf,
px:this.Ld,py:this.Md,o:this.opacity,zr:this.xd,fx:[],cg:this.uk,instances:[]};a=0;for(b=this.Ea.length;a<b;a++)c=this.Ea[a],d.fx.push({name:c.name,active:c.hc,params:this.Lb[c.index]});return d};b.prototype.sd=function(a){var b,d,e;this.scale=a.s;this.M=a.a;this.ob=a.vl;this.pb=a.vt;this.zb=a.vr;this.yb=a.vb;this.visible=a.v;this.Ze=a.bc;this.hf=a.t;this.Ld=a.px;this.Md=a.py;this.opacity=a.o;this.xd=a.zr;this.uk=a.cg||[];Ea(this.ne,this.gv);var f=new ca;b=0;for(e=this.uk.length;b<e;++b)f.add(this.uk[b]);
d=b=0;for(e=this.ne.length;b<e;++b)f.contains(this.ne[b][2])||(this.ne[d]=this.ne[b],++d);Da(this.ne,d);d=a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.zp(d[b].name))a.hc=d[b].active,this.Lb[a.index]=d[b].params;this.jf();this.F.sort(c);this.Ti=!0};Oc=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,f,m;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=v.length&&(v.length=b.length+1);v[b.length]||(v[b.length]=[]);m=v[b.length];d=0;for(e=m.length;d<e;d++)if(f=m[d],a(b,f))return f;m.push(b);return b}
function d(a,b){this.c=a;this.uv={};this.Is={};this.Jp=!1;this.Ys=new ca;this.mp=[];this.Vo=[];this.name=b[0];var c=b[1];this.jh=[];var d,e;d=0;for(e=c.length;d<e;d++)this.$s(c[d],null,this.jh)}function e(a){this.type=a;this.F=[];this.Xa=[];this.Va=!0}function k(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.ub=[];this.Hh=[];this.Xs=this.to=this.nr=this.qn=this.group=this.cv=!1;this.Fc=[];this.Ae=[];this.Te=[];this.Fk="";this.ji=this.qn=this.group=!1;this.Dm=null;c[1]&&(this.Fk=c[1][1].toLowerCase(),
this.group=!0,this.qn=!!c[1][0],this.Dm=[],this.ji=this.qn,this.c.Tg.push(this),this.c.pj[this.Fk]=this);this.Oe=c[2];this.Wa=c[4];this.group||(this.c.ns[this.Wa.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Pc(this,d[a]);e.index=a;this.Fc.push(e);this.gs(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Qc(this,d[a]),e.index=a,this.Ae.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.$s(c[a],this,this.Te);this.yn=!1;this.Fc.length&&(this.yn=null==this.Fc[0].type&&
this.Fc[0].Xc==M.prototype.K.Fr)}function l(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.rd))for(c=0,d=a.Vd.length;c<d;c++)e=a.Vd[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function f(a,b){this.ke=a;this.sheet=a.sheet;this.c=a.c;this.Ka=[];this.Sb=[];this.ga={};this.index=-1;this.mk=!1;this.Xc=this.c.Ng(b[1]);this.trigger=0<b[3];this.Hs=2===b[3];this.If=b[4];this.Pp=b[5];this.HA=b[6];this.Wa=b[7];this.c.bh[this.Wa.toString()]=this;-1===b[0]?(this.type=null,this.nc=this.Yq,this.Sh=null,this.$e=
-1):(this.type=this.c.da[b[0]],this.nc=this.HA?this.JB:this.Xq,b[2]?(this.Sh=this.type.hn(b[2]),this.$e=this.type.xp(b[2])):(this.Sh=null,this.$e=-1),this.ke.parent&&this.ke.parent.jo());this.Hs&&(this.nc=this.KB);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var f=new Rc(this,e[c]);this.Ka.push(f)}this.Sb.length=e.length}}function m(a,b){this.ke=a;this.sheet=a.sheet;this.c=a.c;this.Ka=[];this.Sb=[];this.ga={};this.index=-1;this.mk=!1;this.Xc=this.c.Ng(b[1]);-1===b[0]?(this.type=null,
this.nc=this.Yq,this.Sh=null,this.$e=-1):(this.type=this.c.da[b[0]],this.nc=this.Xq,b[2]?(this.Sh=this.type.hn(b[2]),this.$e=this.type.xp(b[2])):(this.Sh=null,this.$e=-1));this.Wa=b[3];this.c.Sg[this.Wa.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var f=new Rc(this,e[c]);this.Ka.push(f)}this.Sb.length=e.length}}function n(){w++;t.length===w&&t.push(new Sc);return t[w]}function h(a,b){this.Pe=a;this.ke=a.ke;this.sheet=a.sheet;this.c=a.c;this.type=b[0];this.yf=null;this.Ag=
0;this.get=null;this.ws=0;this.Ic=null;this.key=0;this.object=null;this.index=0;this.Nl=this.Ni=this.Nl=this.Ni=this.Ls=this.di=this.Ol=null;this.Ve=!1;var c,d,e;switch(b[0]){case 0:case 7:this.yf=new Tc(this,b[1]);this.Ag=0;this.get=this.eA;break;case 1:this.yf=new Tc(this,b[1]);this.Ag=0;this.get=this.fA;break;case 5:this.yf=new Tc(this,b[1]);this.Ag=0;this.get=this.jA;break;case 3:case 8:this.ws=b[1];this.get=this.cA;break;case 6:this.Ic=this.c.iq[b[1]];this.get=this.kA;break;case 9:this.key=b[1];
this.get=this.iA;break;case 4:this.object=this.c.da[b[1]];this.get=this.lA;this.ke.gs(this.object);this.Pe instanceof Qc?this.ke.jo():this.ke.parent&&this.ke.parent.jo();break;case 10:this.index=b[1];a.type&&a.type.ya?(this.get=this.gA,this.Ve=!0):this.get=this.hA;break;case 11:this.Ol=b[1];this.di=null;this.get=this.dA;break;case 2:case 12:this.Ls=b[1];this.get=this.bA;break;case 13:for(this.get=this.mA,this.Ni=[],this.Nl=[],c=1,d=b.length;c<d;c++)e=new Rc(this.Pe,b[c]),this.Ni.push(e),this.Nl.push(0)}}
function g(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.ub=[];this.name=c[1];this.Pl=c[2];this.Mp=c[3];this.Tk=!!c[4];this.xn=!!c[5];this.Wa=c[6];this.c.bk[this.Wa.toString()]=this;this.data=this.Mp;this.parent?(this.Di=this.Tk||this.xn?-1:this.c.VB++,this.c.Xx.push(this)):(this.Di=-1,this.c.Wx.push(this))}function r(a,b,c){this.sheet=a;this.parent=b;this.c=a.c;this.ub=[];this.Ik=null;this.sA=c[1];this.hc=!0}function p(){this.lv=[];this.reset(null)}var v=[];d.prototype.toString=function(){return this.name};
d.prototype.$s=function(a,b,c){switch(a[0]){case 0:a=new Uc(this,b,a);if(a.Oe)for(c.push(a),c=0,b=a.Fc.length;c<b;c++)a.Fc[c].trigger&&this.bt(a,c);else a.mt()?this.bt(a,0):c.push(a);break;case 1:a=new Lc(this,b,a);c.push(a);break;case 2:a=new Vc(this,b,a),c.push(a)}};d.prototype.ec=function(){var a,b;a=0;for(b=this.jh.length;a<b;a++)this.jh[a].ec(a<b-1&&this.jh[a+1].yn)};d.prototype.ur=function(){I(this.mp);I(this.Vo);this.es(this);I(this.Vo)};d.prototype.es=function(a){var b,c,d,e,f=a.mp,m=a.Vo,
g=this.Ys.Uf();b=0;for(c=g.length;b<c;++b)d=g[b],e=d.Ik,!d.hc||a===e||-1<m.indexOf(e)||(m.push(e),e.es(a),f.push(e))};d.prototype.nc=function(a){this.c.ED||(this.Jp=!0,a||(this.c.Up=!0));var b,c;b=0;for(c=this.jh.length;b<c;b++){var d=this.jh[b];d.nc();this.c.ep(d.ub);this.c.oh&&this.c.hd()}a||(this.c.Up=!1)};d.prototype.bt=function(a,b){a.Oe||this.c.xo.push(a);var c,d,e=a.Fc[b],f;e.type?f=e.type.name:f="system";var m=(c=e.Hs)?this.Is:this.uv;m[f]||(m[f]=[]);f=m[f];m=e.Xc;if(c){if(e.Ka.length&&(e=
e.Ka[0],1===e.type&&2===e.yf.type)){e=e.yf.value.toLowerCase();c=0;for(d=f.length;c<d;c++)if(f[c].method==m){c=f[c].xk;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:m,xk:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==m){f[c].xk.push([a,b]);return}vd&&m===vd.prototype.K.Xi?f.unshift({method:m,xk:[[a,b]]}):f.push({method:m,xk:[[a,b]]})}};sc=d;e.prototype.Ip=function(){return this.Va?this.type.F.length:this.F.length};e.prototype.Xd=function(){return this.Va?this.type.F:
this.F};e.prototype.ol=function(a){a&&(a.c.uc().Vc.Oe?(this.Va&&(I(this.F),Ea(this.Xa,a.type.F),this.Va=!1),a=this.Xa.indexOf(a),-1!==a&&(this.F.push(this.Xa[a]),this.Xa.splice(a,1))):(this.Va=!1,I(this.F),this.F[0]=a))};bc=e;window._c2hh_="80165BBC2AF380AB5F497757127E6AD6A20F84DD";k.prototype.ec=function(a){var c,d=this.parent;if(this.group)for(this.to=!0;d;){if(!d.group){this.to=!1;break}d=d.parent}this.nr=!this.mt()&&(!this.parent||this.parent.group&&this.parent.to);this.Xs=!!a;this.Hh=this.ub.slice(0);
for(d=this.parent;d;){a=0;for(c=d.ub.length;a<c;a++)this.Tx(d.ub[a]);d=d.parent}this.ub=b(this.ub);this.Hh=b(this.Hh);a=0;for(c=this.Fc.length;a<c;a++)this.Fc[a].ec();a=0;for(c=this.Ae.length;a<c;a++)this.Ae[a].ec();a=0;for(c=this.Te.length;a<c;a++)this.Te[a].ec(a<c-1&&this.Te[a+1].yn)};k.prototype.wl=function(a){if(this.ji!==!!a){this.ji=!!a;var b;a=0;for(b=this.Dm.length;a<b;++a)this.Dm[a].zv();0<b&&this.c.ib.ci&&this.c.ib.ci.ur()}};k.prototype.gs=function(a){l(a,this.ub)};k.prototype.Tx=function(a){l(a,
this.Hh)};k.prototype.jo=function(){this.cv=!0;this.parent&&this.parent.jo()};k.prototype.mt=function(){return this.Fc.length?this.Fc[0].trigger:!1};k.prototype.nc=function(){var a,b,c=!1,d=this.c,e=this.c.uc();e.Vc=this;var f=this.Fc;this.yn||(e.pp=!1);if(this.Oe){0===f.length&&(c=!0);e.Ec=0;for(a=f.length;e.Ec<a;e.Ec++)b=f[e.Ec],b.trigger||(b=b.nc())&&(c=!0);(e.vi=c)&&this.co()}else{e.Ec=0;for(a=f.length;e.Ec<a;e.Ec++)if(b=f[e.Ec].nc(),!b){e.vi=!1;this.nr&&d.oh&&d.hd();return}e.vi=!0;this.co()}this.$y(e)};
k.prototype.$y=function(a){a.vi&&this.Xs&&(a.pp=!0);this.nr&&this.c.oh&&this.c.hd()};k.prototype.HB=function(a){this.c.uc().Vc=this;this.Fc[a].nc()&&(this.co(),this.c.uc().vi=!0)};k.prototype.co=function(){var a=this.c.uc(),b;a.kd=0;for(b=this.Ae.length;a.kd<b;a.kd++)if(this.Ae[a.kd].nc())return;this.Ju()};k.prototype.DB=function(){var a=this.c.uc(),b;for(b=this.Ae.length;a.kd<b;a.kd++)if(this.Ae[a.kd].nc())return;this.Ju()};k.prototype.Ju=function(){if(this.Te.length){var a,b,c,d,e=this.Te.length-
1;this.c.Zn(this);if(this.cv)for(a=0,b=this.Te.length;a<b;a++)c=this.Te[a],(d=!this.to||!this.group&&a<e)&&this.c.Yn(c.ub),c.nc(),d?this.c.Ji(c.ub):this.c.ep(c.ub);else for(a=0,b=this.Te.length;a<b;a++)this.Te[a].nc();this.c.Un()}};k.prototype.IB=function(){var a=this.c.uc();a.Vc=this;var b=!1,c;a.Ec=0;for(c=this.Fc.length;a.Ec<c;a.Ec++)if(this.Fc[a.Ec].nc())b=!0;else if(!this.Oe)return!1;return this.Oe?b:!0};k.prototype.EB=function(){this.c.ei++;var a=this.c.uc().Ec,b=this.c.Zn(this);if(!this.Oe)for(b.Ec=
a+1,a=this.Fc.length;b.Ec<a;b.Ec++)if(!this.Fc[b.Ec].nc()){this.c.Un();return}this.co();this.c.Un()};k.prototype.AA=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Fc[b].type===a.type)return!1;return!0};Uc=k;f.prototype.ec=function(){var a,b,c;a=0;for(b=this.Ka.length;a<b;a++)c=this.Ka[a],c.ec(),c.Ve&&(this.mk=!0)};f.prototype.KB=function(){return!0};f.prototype.Yq=function(){var a,b;a=0;for(b=this.Ka.length;a<b;a++)this.Sb[a]=this.Ka[a].get();return hb(this.Xc.apply(this.c.Pf,
this.Sb),this.Pp)};f.prototype.JB=function(){var a,b;a=0;for(b=this.Ka.length;a<b;a++)this.Sb[a]=this.Ka[a].get();a=this.Xc.apply(this.Sh?this.Sh:this.type,this.Sb);this.type.Be();return a};f.prototype.Xq=function(){var a,b,c,d,e,f,m,g,l=this.type,h=l.Oa(),k=this.ke.Oe&&!this.trigger;b=0;var n=l.rd,p=l.ya,r=l.ig,t=this.$e,v=-1<t,w=this.mk,Q=this.Ka,K=this.Sb,E=this.Pp,T=this.Xc,H;if(w)for(b=0,e=Q.length;b<e;++b)f=Q[b],f.Ve||(K[b]=f.get(0));else for(b=0,e=Q.length;b<e;++b)K[b]=Q[b].get(0);if(h.Va){I(h.F);
I(h.Xa);H=l.F;a=0;for(d=H.length;a<d;++a){g=H[a];if(w)for(b=0,e=Q.length;b<e;++b)f=Q[b],f.Ve&&(K[b]=f.get(a));v?(b=0,p&&(b=g.type.hj[r]),b=T.apply(g.Da[t+b],K)):b=T.apply(g,K);(m=hb(b,E))?h.F.push(g):k&&h.Xa.push(g)}l.finish&&l.finish(!0);h.Va=!1;l.Be();return h.Ip()}c=0;H=(m=k&&!this.ke.AA(this))?h.Xa:h.F;var U=!1;a=0;for(d=H.length;a<d;++a){g=H[a];if(w)for(b=0,e=Q.length;b<e;++b)f=Q[b],f.Ve&&(K[b]=f.get(a));v?(b=0,p&&(b=g.type.hj[r]),b=T.apply(g.Da[t+b],K)):b=T.apply(g,K);if(hb(b,E))if(U=!0,m){if(h.F.push(g),
n)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Oa().F.push(f)}else{H[c]=g;if(n)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Oa().F[c]=f;c++}else if(m){H[c]=g;if(n)for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Oa().Xa[c]=f;c++}else if(k&&(h.Xa.push(g),n))for(b=0,e=g.siblings.length;b<e;b++)f=g.siblings[b],f.type.Oa().Xa.push(f)}Da(H,c);if(n)for(p=l.Vd,a=0,d=p.length;a<d;a++)g=p[a].Oa(),m?Da(g.Xa,c):Da(g.F,c);c=U;if(m&&!U)for(a=0,d=h.F.length;a<d;a++){g=h.F[a];
if(w)for(b=0,e=Q.length;b<e;b++)f=Q[b],f.Ve&&(K[b]=f.get(a));b=v?T.apply(g.Da[t],K):T.apply(g,K);if(hb(b,E)){U=!0;break}}l.finish&&l.finish(c||k);return k?U:h.Ip()};Pc=f;m.prototype.ec=function(){var a,b,c;a=0;for(b=this.Ka.length;a<b;a++)c=this.Ka[a],c.ec(),c.Ve&&(this.mk=!0)};m.prototype.Yq=function(){var a=this.c,b,c,d=this.Ka,e=this.Sb;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.Xc.apply(a.Pf,e)};m.prototype.Xq=function(){var a=this.type,b=this.$e,c=a.ig,d=this.mk,e=this.Ka,f=this.Sb,
m=this.Xc,g=a.Oa().Xd(),a=a.ya,l=-1<b,h,k,n,p,r,t;if(d)for(k=0,p=e.length;k<p;++k)r=e[k],r.Ve||(f[k]=r.get(0));else for(k=0,p=e.length;k<p;++k)f[k]=e[k].get(0);h=0;for(n=g.length;h<n;++h){t=g[h];if(d)for(k=0,p=e.length;k<p;++k)r=e[k],r.Ve&&(f[k]=r.get(h));l?(k=0,a&&(k=t.type.hj[c]),m.apply(t.Da[b+k],f)):m.apply(t,f)}return!1};Qc=m;var t=[],w=-1;h.prototype.ec=function(){var a,b;if(11===this.type)this.di=this.c.Ss(this.Ol,this.ke.parent);else if(13===this.type)for(a=0,b=this.Ni.length;a<b;a++)this.Ni[a].ec();
this.yf&&this.yf.ec()};h.prototype.UA=function(a){this.Ve||!a||a.tb.lo||(this.Ve=!0)};h.prototype.Uu=function(){this.Ve=!0};h.prototype.eA=function(a){this.Ag=a||0;a=n();this.yf.get(a);w--;return a.data};h.prototype.fA=function(a){this.Ag=a||0;a=n();this.yf.get(a);w--;return ma(a.data)?a.data:""};h.prototype.lA=function(){return this.object};h.prototype.cA=function(){return this.ws};h.prototype.jA=function(a){this.Ag=a||0;a=n();this.yf.get(a);w--;return a.Gc()?this.c.Bf(a.data):this.c.nj(a.data)};
h.prototype.kA=function(){return this.Ic};h.prototype.iA=function(){return this.key};h.prototype.hA=function(){return this.index};h.prototype.gA=function(a){a=a||0;var b=this.Pe.type,c=null,c=b.Oa(),d=c.Xd();if(d.length)c=d[a%d.length].type;else if(c.Xa.length)c=c.Xa[a%c.Xa.length].type;else if(b.F.length)c=b.F[a%b.F.length].type;else return 0;return this.index+c.Xm[b.ig]};h.prototype.dA=function(){return this.di};h.prototype.bA=function(){return this.Ls};h.prototype.mA=function(){var a,b;a=0;for(b=
this.Ni.length;a<b;a++)this.Nl[a]=this.Ni[a].get();return this.Nl};Rc=h;g.prototype.ec=function(){this.ub=b(this.ub)};g.prototype.yg=function(a){var b=this.c.Qs();this.parent&&!this.Tk&&b?(this.Di>=b.length&&(b.length=this.Di+1),b[this.Di]=a):this.data=a};g.prototype.ii=function(){var a=this.c.Qs();return!this.parent||this.Tk||!a||this.xn?this.data:this.Di>=a.length||"undefined"===typeof a[this.Di]?this.Mp:a[this.Di]};g.prototype.nc=function(){!this.parent||this.Tk||this.xn||this.yg(this.Mp)};Lc=
g;r.prototype.toString=function(){return"include:"+this.Ik.toString()};r.prototype.ec=function(){this.Ik=this.c.rp[this.sA];this.sheet.Ys.add(this);this.ub=b(this.ub);for(var a=this.parent;a;)a.group&&a.Dm.push(this),a=a.parent;this.zv()};r.prototype.nc=function(){this.parent&&this.c.rl(this.c.da);this.Ik.Jp||this.Ik.nc(!0);this.parent&&this.c.Ji(this.c.da)};r.prototype.zv=function(){for(var a=this.parent;a;){if(a.group&&!a.ji){this.hc=!1;return}a=a.parent}this.hc=!0};Vc=r;p.prototype.reset=function(a){this.Vc=
a;this.kd=this.Ec=0;I(this.lv);this.pp=this.vi=!1};Kc=p})();
(function(){function a(a,b){this.Pe=a;this.c=a.c;this.type=b[0];this.get=[this.sz,this.oz,this.Cz,this.Fz,this.dz,this.Dz,this.xz,this.lz,this.wz,this.Bz,this.ez,this.Az,this.mz,this.yz,this.uz,this.vz,this.pz,this.qz,this.kz,this.Ez,this.zz,this.rz,this.jz,this.nz][this.type];var c=null;this.qg=this.Ka=this.Sb=this.Xc=this.so=this.second=this.first=this.value=null;this.$e=-1;this.cf=null;this.Fv=-1;this.di=this.Ol=null;this.Rj=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Tc(a,b[1]);break;case 18:this.first=new Tc(a,b[1]);this.second=new Tc(a,b[2]);this.so=new Tc(a,b[3]);break;case 19:this.Xc=this.c.Ng(b[1]);this.Xc!==M.prototype.xa.random&&this.Xc!==M.prototype.xa.jy||this.Pe.Uu();this.Sb=[];this.Ka=[];3===b.length?(c=b[2],this.Sb.length=c.length+1):this.Sb.length=1;break;case 20:this.qg=this.c.da[b[1]];this.$e=-1;this.Xc=this.c.Ng(b[2]);this.Rj=b[3];bd.Function&&this.Xc===bd.Function.prototype.xa.xC&&this.Pe.Uu();b[4]?this.cf=new Tc(a,b[4]):this.cf=null;this.Sb=
[];this.Ka=[];6===b.length?(c=b[5],this.Sb.length=c.length+1):this.Sb.length=1;break;case 21:this.qg=this.c.da[b[1]];this.Rj=b[2];b[3]?this.cf=new Tc(a,b[3]):this.cf=null;this.Fv=b[4];break;case 22:this.qg=this.c.da[b[1]];this.qg.hn(b[2]);this.$e=this.qg.xp(b[2]);this.Xc=this.c.Ng(b[3]);this.Rj=b[4];b[5]?this.cf=new Tc(a,b[5]):this.cf=null;this.Sb=[];this.Ka=[];7===b.length?(c=b[6],this.Sb.length=c.length+1):this.Sb.length=1;break;case 23:this.Ol=b[1],this.di=null}this.Pe.UA(this.qg);4<=this.type&&
17>=this.type&&(this.first=new Tc(a,b[1]),this.second=new Tc(a,b[2]));if(c){var d,e;d=0;for(e=c.length;d<e;d++)this.Ka.push(new Tc(a,c[d]))}}function c(){++k;e.length===k&&e.push(new Sc);return e[k]}function b(a,b,c){var d,e;d=0;for(e=a.length;d<e;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||$c.Wi;this.data=b||0;this.Hi=null;this.type==$c.Wi&&(this.data=Math.floor(this.data))}a.prototype.ec=function(){23===this.type&&(this.di=this.Pe.c.Ss(this.Ol,this.Pe.ke.parent));this.first&&this.first.ec();
this.second&&this.second.ec();this.so&&this.so.ec();this.cf&&this.cf.ec();if(this.Ka){var a,b;a=0;for(b=this.Ka.length;a<b;a++)this.Ka[a].ec()}};var e=[],k=-1;a.prototype.Ez=function(a){var d=this.Ka,e=this.Sb;e[0]=a;a=c();b(d,e,a);--k;this.Xc.apply(this.c.Pf,e)};a.prototype.zz=function(a){var d=this.qg,e=this.Sb,n=this.Ka,h=this.cf,g=this.Xc,r=this.Pe.Ag,p=d.Oa(),v=p.Xd();if(!v.length)if(p.Xa.length)v=p.Xa;else{this.Rj?a.he(""):a.xb(0);return}e[0]=a;a.Hi=d;a=c();b(n,e,a);h&&(h.get(a),a.Gc()&&(r=
a.data,v=d.F));--k;d=v.length;if(r>=d||r<=-d)r%=d;0>r&&(r+=d);g.apply(v[r],e)};a.prototype.jz=function(a){var d=this.qg,e=this.Sb,n=this.Ka,h=this.cf,g=this.$e,r=this.Xc,p=this.Pe.Ag,v=d.Oa(),t=v.Xd();if(!t.length)if(v.Xa.length)t=v.Xa;else{this.Rj?a.he(""):a.xb(0);return}e[0]=a;a.Hi=d;a=c();b(n,e,a);h&&(h.get(a),a.Gc()&&(p=a.data,t=d.F));--k;n=t.length;if(p>=n||p<=-n)p%=n;0>p&&(p+=n);p=t[p];t=0;d.ya&&(t=p.type.hj[d.ig]);r.apply(p.Da[g+t],e)};a.prototype.rz=function(a){var b=this.cf,d=this.qg,e=this.Fv,
h=this.Pe.Ag,g=d.Oa(),r=g.Xd();if(!r.length)if(g.Xa.length)r=g.Xa;else{this.Rj?a.he(""):a.xb(0);return}if(b){g=c();b.get(g);if(g.Gc()){h=g.data;r=d.F;0!==r.length&&(h%=r.length,0>h&&(h+=r.length));h=d.Bp(h);d=h.wc[e];ma(d)?a.he(d):a.fa(d);--k;return}--k}b=r.length;if(h>=b||h<=-b)h%=b;0>h&&(h+=b);h=r[h];r=0;d.ya&&(r=h.type.Xm[d.ig]);d=h.wc[e+r];ma(d)?a.he(d):a.fa(d)};a.prototype.sz=function(a){a.type=$c.Wi;a.data=this.value};a.prototype.oz=function(a){a.type=$c.Vi;a.data=this.value};a.prototype.Cz=
function(a){a.type=$c.String;a.data=this.value};a.prototype.Fz=function(a){this.first.get(a);a.Gc()&&(a.data=-a.data)};a.prototype.dz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Gc()&&b.Gc()&&(a.data+=b.data,b.tj()&&a.Hj());--k};a.prototype.Dz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Gc()&&b.Gc()&&(a.data-=b.data,b.tj()&&a.Hj());--k};a.prototype.xz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Gc()&&b.Gc()&&(a.data*=b.data,b.tj()&&a.Hj());--k};a.prototype.lz=
function(a){this.first.get(a);var b=c();this.second.get(b);a.Gc()&&b.Gc()&&(a.data/=b.data,a.Hj());--k};a.prototype.wz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Gc()&&b.Gc()&&(a.data%=b.data,b.tj()&&a.Hj());--k};a.prototype.Bz=function(a){this.first.get(a);var b=c();this.second.get(b);a.Gc()&&b.Gc()&&(a.data=Math.pow(a.data,b.data),b.tj()&&a.Hj());--k};a.prototype.ez=function(a){this.first.get(a);var b=c();this.second.get(b);b.wj()||a.wj()?this.gz(a,b):this.fz(a,b);--k};a.prototype.gz=
function(a,b){a.wj()&&b.wj()?this.iz(a,b):this.hz(a,b)};a.prototype.iz=function(a,b){a.data+=b.data};a.prototype.hz=function(a,b){a.wj()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.he(a.data.toString()+b.data)};a.prototype.fz=function(a,b){a.xb(a.data&&b.data?1:0)};a.prototype.Az=function(a){this.first.get(a);var b=c();this.second.get(b);a.Gc()&&b.Gc()&&(a.data||b.data?a.xb(1):a.xb(0));--k};a.prototype.kz=function(a){this.first.get(a);a.data?this.second.get(a):this.so.get(a)};a.prototype.mz=
function(a){this.first.get(a);var b=c();this.second.get(b);a.xb(a.data===b.data?1:0);--k};a.prototype.yz=function(a){this.first.get(a);var b=c();this.second.get(b);a.xb(a.data!==b.data?1:0);--k};a.prototype.uz=function(a){this.first.get(a);var b=c();this.second.get(b);a.xb(a.data<b.data?1:0);--k};a.prototype.vz=function(a){this.first.get(a);var b=c();this.second.get(b);a.xb(a.data<=b.data?1:0);--k};a.prototype.pz=function(a){this.first.get(a);var b=c();this.second.get(b);a.xb(a.data>b.data?1:0);--k};
a.prototype.qz=function(a){this.first.get(a);var b=c();this.second.get(b);a.xb(a.data>=b.data?1:0);--k};a.prototype.nz=function(a){var b=this.di.ii();ka(b)?a.fa(b):a.he(b)};Tc=a;d.prototype.tj=function(){return this.type===$c.Vi};d.prototype.Gc=function(){return this.type===$c.Wi||this.type===$c.Vi};d.prototype.wj=function(){return this.type===$c.String};d.prototype.Hj=function(){this.tj()||(this.wj()&&(this.data=parseFloat(this.data)),this.type=$c.Vi)};d.prototype.xb=function(a){this.type=$c.Wi;
this.data=Math.floor(a)};d.prototype.fa=function(a){this.type=$c.Vi;this.data=a};d.prototype.he=function(a){this.type=$c.String;this.data=a};d.prototype.Vu=function(a){ka(a)?(this.type=$c.Vi,this.data=a):ma(a)?(this.type=$c.String,this.data=a.toString()):(this.type=$c.Wi,this.data=0)};Sc=d;$c={Wi:0,Vi:1,String:2}})();function M(a){this.c=a;this.gd=[]}
M.prototype.Mc=function(){var a={},c,b,d,e,k,l,f,m;a.waits=[];var n=a.waits,h;c=0;for(b=this.gd.length;c<b;c++){l=this.gd[c];h={t:l.time,st:l.ko,s:l.Cl,ev:l.bi.Wa,sm:[],sols:{}};l.bi.Ae[l.kd]&&(h.act=l.bi.Ae[l.kd].Wa);d=0;for(e=l.ub.length;d<e;d++)h.sm.push(l.ub[d].Wa);for(k in l.ud)if(l.ud.hasOwnProperty(k)){f=this.c.da[parseInt(k,10)];m={sa:l.ud[k].ul,insts:[]};d=0;for(e=l.ud[k].Ef.length;d<e;d++)m.insts.push(l.ud[k].Ef[d].uid);h.sols[f.Wa.toString()]=m}n.push(h)}return a};
M.prototype.sd=function(a){a=a.waits;var c,b,d,e,k,l,f,m,n,h,g;I(this.gd);c=0;for(b=a.length;c<b;c++)if(l=a[c],m=this.c.ns[l.ev.toString()]){n=-1;d=0;for(e=m.Ae.length;d<e;d++)if(m.Ae[d].Wa===l.act){n=d;break}if(-1!==n){f={ud:{},ub:[],np:!1};f.time=l.t;f.ko=l.st||"";f.Cl=!!l.s;f.bi=m;f.kd=n;d=0;for(e=l.sm.length;d<e;d++)(m=this.c.ln(l.sm[d]))&&f.ub.push(m);for(k in l.sols)if(l.sols.hasOwnProperty(k)&&(m=this.c.ln(parseInt(k,10)))){n=l.sols[k];h={ul:n.sa,Ef:[]};d=0;for(e=n.insts.length;d<e;d++)(g=
this.c.hi(n.insts[d]))&&h.Ef.push(g);f.ud[m.index.toString()]=h}this.gd.push(f)}}};
(function(){function a(){}function c(){}function b(){var a;l.length?a=l.pop():a={ud:{},ub:[]};a.np=!1;return a}function d(){var a;f.length?a=f.pop():a={Ef:[]};a.ul=!1;return a}function e(){}var k=M.prototype;a.prototype.$v=function(){return!0};a.prototype.Or=function(){return!0};a.prototype.Hw=function(){return!0};a.prototype.Sv=function(a,b,c){return ad(a,b,c)};a.prototype.ow=function(a,b,c){return a?ad(100*a.opacity,b,c):!1};a.prototype.Hx=function(){var a=this.c.jn().ga;"undefined"===typeof a.TriggerOnce_lastTick&&
(a.TriggerOnce_lastTick=-1);var b=a.TriggerOnce_lastTick,c=this.c.Rf;a.TriggerOnce_lastTick=c;return this.c.hq||b!==c-1};a.prototype.Zv=function(a){var b=this.c.jn(),c=b.ga.Every_lastTime||0,d=this.c.Hc.Aa;"undefined"===typeof b.ga.Every_seconds&&(b.ga.Every_seconds=a);var e=b.ga.Every_seconds;if(d>=c+e)return b.ga.Every_lastTime=c+e,d>=b.ga.Every_lastTime+.04&&(b.ga.Every_lastTime=d),b.ga.Every_seconds=a,!0;d<c-.1&&(b.ga.Every_lastTime=d);return!1};a.prototype.Wv=function(a,b,c){return ad(a.ii(),
b,c)};a.prototype.iw=function(a){return(a=this.c.pj[a.toLowerCase()])&&a.ji};a.prototype.Fr=function(){var a=this.c.uc();return a.pp?!1:!a.vi};a.prototype.Io=function(){return!0};a.prototype.ww=function(){return!0};a.prototype.Jo=function(){return!0};a.prototype.Ur=function(){return!0};a.prototype.Iw=function(){return!0};a.prototype.$l=function(){return!0};a.prototype.Kv=function(a,b,c){return Va(Oa(a),Oa(c))<=Oa(b)};a.prototype.hw=function(a,b){return Za(Oa(a),Oa(b))};a.prototype.fw=function(a,b,
c){a=Ta(a);b=Ta(b);c=Ta(c);return Za(c,b)?Za(a,b)&&!Za(a,c):!(!Za(a,b)&&Za(a,c))};k.K=new a;c.prototype.aw=function(a){this.c.yj||this.c.Wh||(this.c.Wh=a)};c.prototype.Yv=function(a,b,c,d){if(b&&a&&(b=this.c.Gm(a,b,c,d))){this.c.oe++;var e;this.c.trigger(Object.getPrototypeOf(a.tb).K.Ph,b);if(b.rd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.c.trigger(Object.getPrototypeOf(e.type.tb).K.Ph,e);this.c.oe--;a=a.Oa();a.Va=!1;I(a.F);a.F[0]=b;if(b.rd)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],
a=e.type.Oa(),a.Va=!1,I(a.F),a.F[0]=e}};c.prototype.jx=function(a,b){a&&(b=Ka(b/100,0,1),a.opacity!==b&&(a.opacity=b,this.c.Ua=!0))};c.prototype.rx=function(a,b){0===a.Pl?ka(b)?a.yg(b):a.yg(parseFloat(b)):1===a.Pl&&a.yg(b.toString())};c.prototype.Iv=function(a,b){0===a.Pl?ka(b)?a.yg(a.ii()+b):a.yg(a.ii()+parseFloat(b)):1===a.Pl&&a.yg(a.ii()+b.toString())};c.prototype.Fx=function(a,b){0===a.Pl&&(ka(b)?a.yg(a.ii()-b):a.yg(a.ii()-parseFloat(b)))};c.prototype.bx=function(a,b){var c=this.c.pj[a.toLowerCase()];
if(c)switch(b){case 0:c.wl(!1);break;case 1:c.wl(!0);break;case 2:c.wl(!c.ji)}};c.prototype.qx=function(a){0>a&&(a=0);this.c.Cg=a};var l=[],f=[];c.prototype.Jx=function(a){if(!(0>a)){var c,e,f,k=this.c.uc(),l=b();l.time=this.c.Hc.Aa+a;l.ko="";l.Cl=!1;l.bi=k.Vc;l.kd=k.kd+1;a=0;for(c=this.c.da.length;a<c;a++)f=this.c.da[a],e=f.Oa(),e.Va&&-1===k.Vc.ub.indexOf(f)||(l.ub.push(f),f=d(),f.ul=e.Va,Ea(f.Ef,e.F),l.ud[a.toString()]=f);this.gd.push(l);return!0}};c.prototype.Kx=function(a){var c,e,f,k=this.c.uc(),
l=b();l.time=-1;l.ko=a.toLowerCase();l.Cl=!1;l.bi=k.Vc;l.kd=k.kd+1;a=0;for(c=this.c.da.length;a<c;a++)f=this.c.da[a],e=f.Oa(),e.Va&&-1===k.Vc.ub.indexOf(f)||(l.ub.push(f),f=d(),f.ul=e.Va,Ea(f.Ef,e.F),l.ud[a.toString()]=f);this.gd.push(l);return!0};c.prototype.zx=function(a){a=a.toLowerCase();var b,c,d;b=0;for(c=this.gd.length;b<c;++b)d=this.gd[b],-1===d.time&&d.ko===a&&(d.Cl=!0)};c.prototype.kx=function(a,b){a&&a.scale!==b&&(a.scale=b,this.c.Ua=!0)};c.prototype.Yw=function(){if(!this.c.yj&&!this.c.Wh&&
this.c.ib){this.c.Wh=this.c.ib;var a,b,c;a=0;for(b=this.c.Tg.length;a<b;a++)c=this.c.Tg[a],c.wl(c.qn)}};k.ca=new c;e.prototype["int"]=function(a,b){ma(b)?(a.xb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.xb(b)};e.prototype["float"]=function(a,b){ma(b)?(a.fa(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.fa(b)};e.prototype.random=function(a,b,c){void 0===c?a.fa(Math.random()*b):a.fa(Math.random()*(c-b)+b)};e.prototype.sqrt=function(a,b){a.fa(Math.sqrt(b))};e.prototype.abs=function(a,b){a.fa(Math.abs(b))};
e.prototype.round=function(a,b){a.xb(Math.round(b))};e.prototype.floor=function(a,b){a.xb(Math.floor(b))};e.prototype.ceil=function(a,b){a.xb(Math.ceil(b))};e.prototype.sin=function(a,b){a.fa(Math.sin(Oa(b)))};e.prototype.cos=function(a,b){a.fa(Math.cos(Oa(b)))};e.prototype.tan=function(a,b){a.fa(Math.tan(Oa(b)))};e.prototype.asin=function(a,b){a.fa(Pa(Math.asin(b)))};e.prototype.acos=function(a,b){a.fa(Pa(Math.acos(b)))};e.prototype.atan=function(a,b){a.fa(Pa(Math.atan(b)))};e.prototype.exp=function(a,
b){a.fa(Math.exp(b))};e.prototype.log10=function(a,b){a.fa(Math.log(b)/Math.LN10)};e.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.fa(b)};e.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.fa(b)};e.prototype.Ga=function(a){a.fa(this.c.Ga)};e.prototype.Cg=function(a){a.fa(this.c.Cg)};
e.prototype.time=function(a){a.fa(this.c.Hc.Aa)};e.prototype.Rf=function(a){a.xb(this.c.Rf)};e.prototype.Mn=function(a){a.xb(this.c.Mn)};e.prototype.up=function(a){a.xb(this.c.up)};e.prototype.wf=function(a,b,c,d,e){a.fa(gb(b,c,d,e))};e.prototype.M=function(a,b,c,d,e){a.fa(Pa(Ua(b,c,d,e)))};e.prototype.NA=function(a,b,c,d){a.fa(jb(b,c,d))};e.prototype.KA=function(a,b){var c=this.c.mj(b);c?a.fa(c.scale):a.fa(0)};e.prototype.JA=function(a,b){var c=this.c.mj(b);c?a.fa(100*c.opacity):a.fa(0)};e.prototype.MA=
function(a){a.xb(this.c.ib.width)};e.prototype.LA=function(a){a.xb(this.c.ib.height)};e.prototype.left=function(a,b,c){a.he(ma(b)?b.substr(0,c):"")};e.prototype.right=function(a,b,c){a.he(ma(b)?b.substr(b.length-c):"")};e.prototype.replace=function(a,b,c,d){ma(b)&&ma(c)&&ma(d)?a.he(b.replace(new RegExp(Ab(c),"gi"),d)):a.he(ma(b)?b:"")};e.prototype.trim=function(a,b){a.he(ma(b)?b.trim():"")};e.prototype.jy=function(a){var b=ua(Math.random()*(arguments.length-1));a.Vu(arguments[b+1])};e.prototype.gp=
function(a){a.fa(this.c.gp/1E3)};e.prototype.mC=function(a,b){var c=this.c.mj(b);a.fa(c?c.ob:0)};e.prototype.oC=function(a,b){var c=this.c.mj(b);a.fa(c?c.pb:0)};e.prototype.nC=function(a,b){var c=this.c.mj(b);a.fa(c?c.zb:0)};e.prototype.lC=function(a,b){var c=this.c.mj(b);a.fa(c?c.yb:0)};e.prototype.al=function(a){a.fa(this.c.al)};k.xa=new e;k.GB=function(){var a,b,c,d,e,k,v=this.c.uc();a=0;for(c=this.gd.length;a<c;a++){d=this.gd[a];if(-1===d.time){if(!d.Cl)continue}else if(d.time>this.c.Hc.Aa)continue;
v.Vc=d.bi;v.kd=d.kd;v.Ec=0;for(b in d.ud)d.ud.hasOwnProperty(b)&&(e=this.c.da[parseInt(b,10)].Oa(),k=d.ud[b],e.Va=k.ul,Ea(e.F,k.Ef),e=k,I(e.Ef),f.push(e));d.bi.DB();this.c.ep(d.ub);d.np=!0}b=a=0;for(c=this.gd.length;a<c;a++)d=this.gd[a],this.gd[b]=d,d.np?(lb(d.ud),I(d.ub),l.push(d)):b++;Da(this.gd,b)}})();
(function(){Xb=function(a,b){var d=a[1],e=a[3],k=a[4],l=a[5],f=a[6],m=a[7],n=a[8];b.K||(b.K={});b.ca||(b.ca={});b.xa||(b.xa={});var h=b.K,g=b.ca,r=b.xa;e&&(h.AC=function(a,b){return ad(this.x,a,b)},h.BC=function(a,b){return ad(this.y,a,b)},h.FC=function(){var a=this.V;this.gb();var b=this.Wb;return!(b.right<a.ob||b.bottom<a.pb||b.left>a.zb||b.top>a.yb)},h.GC=function(){this.gb();var a=this.Wb,b=this.c.ib;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},h.SC=function(a,b,c){var d=this.Oa(),
e=d.Xd();if(!e.length)return!1;var f=e[0],g=f,k=gb(f.x,f.y,b,c),h,l,m;h=1;for(l=e.length;h<l;h++)if(f=e[h],m=gb(f.x,f.y,b,c),0===a&&m<k||1===a&&m>k)k=m,g=f;d.ol(g);return!0},g.xx=function(a){this.x!==a&&(this.x=a,this.Ia())},g.yx=function(a){this.y!==a&&(this.y=a,this.Ia())},g.Xr=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Ia()},g.mx=function(a,b){var c=a.Vz(this);if(c){var d;c.Ie?(d=c.Ie(b,!0),c=c.Ie(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.Ia()}},
g.LC=function(a){0!==a&&(this.x+=Math.cos(this.M)*a,this.y+=Math.sin(this.M)*a,this.Ia())},g.KC=function(a,b){0!==b&&(this.x+=Math.cos(Oa(a))*b,this.y+=Math.sin(Oa(a))*b,this.Ia())},r.em=function(a){a.fa(this.x)},r.fm=function(a){a.fa(this.y)},r.Ga=function(a){a.fa(this.c.fi(this))});k&&(h.Xv=function(a,b){return ad(this.width,a,b)},h.yC=function(a,b){return ad(this.height,a,b)},g.wx=function(a){this.width!==a&&(this.width=a,this.Ia())},g.cx=function(a){this.height!==a&&(this.height=a,this.Ia())},
g.nx=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Ia()},r.Lx=function(a){a.fa(this.width)},r.dw=function(a){a.fa(this.height)},r.uC=function(a){this.gb();a.fa(this.Wb.left)},r.wC=function(a){this.gb();a.fa(this.Wb.top)},r.vC=function(a){this.gb();a.fa(this.Wb.right)},r.tC=function(a){this.gb();a.fa(this.Wb.bottom)});l&&(h.Kv=function(a,b){return Va(this.M,Oa(b))<=Oa(a)},h.hw=function(a){return Za(this.M,Oa(a))},h.fw=function(a,b){var c=Ta(a),d=Ta(b),e=Ra(this.M);
return Za(d,c)?Za(e,c)&&!Za(e,d):!(!Za(e,c)&&Za(e,d))},g.cm=function(a){a=Oa(Qa(a));isNaN(a)||this.M===a||(this.M=a,this.Ia())},g.WC=function(a){0===a||isNaN(a)||(this.M+=Oa(a),this.M=Ra(this.M),this.Ia())},g.XC=function(a){0===a||isNaN(a)||(this.M-=Oa(a),this.M=Ra(this.M),this.Ia())},g.YC=function(a,b){var c=Ya(this.M,Oa(b),Oa(a));isNaN(c)||this.M===c||(this.M=c,this.Ia())},g.ZC=function(a,b,c){a=Ya(this.M,Math.atan2(c-this.y,b-this.x),Oa(a));isNaN(a)||this.M===a||(this.M=a,this.Ia())},g.cD=function(a,
b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.M===c||(this.M=c,this.Ia())},r.Jv=function(a){a.fa(Sa(this.M))});d||(h.Vv=function(a,b,c){return ad(this.wc[a],b,c)},h.gw=function(a){return this.wc[a]},h.TC=function(a,b){var c=this.Oa(),d=c.Xd();if(!d.length)return!1;var e=d[0],f=e,g=e.wc[b],k,h,l;k=1;for(h=d.length;k<h;k++)if(e=d[k],l=e.wc[b],0===a&&l<g||1===a&&l>g)g=l,f=e;c.ol(f);return!0},h.RC=function(a){var b,c,d,e,f;if(this.c.jn().Pp){f=this.Oa();if(f.Va)for(f.Va=!1,I(f.F),I(f.Xa),d=this.F,
b=0,c=d.length;b<c;b++)e=d[b],e.uid===a?f.Xa.push(e):f.F.push(e);else{d=b=0;for(c=f.F.length;b<c;b++)e=f.F[b],f.F[d]=e,e.uid===a?f.Xa.push(e):d++;Da(f.F,d)}this.Be();return!!f.F.length}e=this.c.hi(a);if(!e)return!1;f=this.Oa();if(!f.Va&&-1===f.F.indexOf(e))return!1;if(this.ya)for(a=e.type.Ib,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.ol(e),this.Be(),!0}else if(e.type===this)return f.ol(e),this.Be(),!0;return!1},h.Ph=function(){return!0},h.Jr=function(){return!0},g.hx=function(a,b){var c=this.wc;
ka(c[a])?c[a]=ka(b)?b:parseFloat(b):ma(c[a])&&(c[a]=ma(b)?b:b.toString())},g.sC=function(a,b){var c=this.wc;ka(c[a])?c[a]=ka(b)?c[a]+b:c[a]+parseFloat(b):ma(c[a])&&(c[a]=ma(b)?c[a]+b:c[a]+b.toString())},g.dD=function(a,b){var c=this.wc;ka(c[a])&&(c[a]=ka(b)?c[a]-b:c[a]-parseFloat(b))},g.ax=function(a,b){this.wc[a]=b?1:0},g.eD=function(a){this.wc[a]=1-this.wc[a]},g.jd=function(){this.c.Lg(this)},g.pw||(g.pw=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.c.Dn(this,b,!0);this.Yf&&this.Yf();
if(this.Da)for(a=0,b=this.Da.length;a<b;++a)c=this.Da[a],c.Yf&&c.Yf()}),r.CC=function(a){var b=a.Hi.F.length,c,d,e;c=0;for(d=this.c.bf.length;c<d;c++)e=this.c.bf[c],a.Hi.ya?0<=e.type.Ib.indexOf(a.Hi)&&b++:e.type===a.Hi&&b++;a.xb(b)},r.VC=function(a){a.xb(a.Hi.Oa().Xd().length)},r.fD=function(a){a.xb(this.uid)},r.DC=function(a){a.xb(this.Ek())},r.Mv||(r.Mv=function(a){a.he(JSON.stringify(this.c.Zq(this,!0)))}));f&&(h.HC=function(){return this.visible},g.tx=function(a){!a!==!this.visible&&(this.visible=
!!a,this.c.Ua=!0)},h.zC=function(a,b){return ad(Tb(100*this.opacity),a,b)},g.bD=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.c.Ua=!0)},r.Opacity=function(a){a.fa(Tb(100*this.opacity))});m&&(h.EC=function(a){return a?this.V===a:!1},h.UC=function(a){var b=this.Oa(),c=b.Xd();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.V.index>e.V.index||d.V.index===e.V.index&&d.Cf()>e.Cf())e=d}else if(d.V.index<e.V.index||d.V.index===e.V.index&&
d.Cf()<e.Cf())e=d;b.ol(e);return!0},g.OC=function(){var a=this.V,b=a.F;b.length&&b[b.length-1]===this||(a.Qj(this,!1),a.ok(this,!1),this.c.Ua=!0)},g.MC=function(){var a=this.V,b=a.F;b.length&&b[0]===this||(a.Qj(this,!1),a.nB(this),this.c.Ua=!0)},g.NC=function(a){a&&a!=this.V&&(this.V.Qj(this,!0),this.V=a,a.ok(this,!0),this.c.Ua=!0)},g.hD=function(a,b){var c=0===a;if(b){var d=b.Qz(this);d&&d.uid!==this.uid&&(this.V.index!==d.V.index&&(this.V.Qj(this,!0),this.V=d.V,d.V.ok(this,!0)),this.V.VA(this,d,
c),this.c.Ua=!0)}},r.JC=function(a){a.xb(this.V.au)},r.IC=function(a){a.he(this.V.name)},r.gD=function(a){a.xb(this.Cf())});n&&(g.$C=function(a,b){if(this.c.ma){var c=this.type.Ap(b);if(!(0>c)){var d=1===a;this.Rg[c]!==d&&(this.Rg[c]=d,this.jf(),this.c.Ua=!0)}}},g.aD=function(a,b,c){if(this.c.ma){var d=this.type.Ap(a);0>d||(a=this.type.Ea[d],d=this.Lb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.c.ma.Zz(a.oc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.hc&&(this.c.Ua=!0))))}})};tc=function(){this.bp=this.Yo=
!0;this.type.mm=!0;this.c.Ua=!0;var a,b,d=this.Zo;a=0;for(b=d.length;a<b;++a)d[a](this);this.V.xe&&this.gb()};uc=function(a){a&&this.Zo.push(a)};wc=function(){if(this.Yo){var a=this.Wb,b=this.Eb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.Hd*this.width,-this.Id*this.height);this.M?(a.offset(-this.x,-this.y),b.Xu(a,this.M),b.offset(this.x,this.y),b.os(a)):b.zl(a);a.normalize();this.Yo=!1;this.hC()}};var a=new xa(0,0,0,0);xc=function(){if(this.V.xe){var c=this.V.cd,b=this.Wb;
a.set(c.Ed(b.left),c.Fd(b.top),c.Ed(b.right),c.Fd(b.bottom));this.Nd.wk(a)||(this.Nd.right<this.Nd.left?c.update(this,null,a):c.update(this,this.Nd,a),this.Nd.sk(a),this.V.ff=!0)}};yc=function(){if(this.bp&&this.bg){this.gb();var c=this.type.Cm,b=this.Wb;a.set(c.Ed(b.left),c.Fd(b.top),c.Ed(b.right),c.Fd(b.bottom));this.dh.wk(a)||(this.dh.right<this.dh.left?c.update(this,null,a):c.update(this,this.dh,a),this.dh.sk(a),this.bp=!1)}};vc=function(a,b){return this.Wb.od(a,b)&&this.Eb.od(a,b)?this.Sf?this.GD(a,
b):this.Sa&&!this.Sa.ri()?(this.Sa.Vh(this.width,this.height,this.M),this.Sa.od(a-this.x,b-this.y)):!0:!1};pc=function(){this.type.yo();return this.mi};zc=function(){this.V.xr();return this.lf};Cc=function(){I(this.hb);var a,b,d,e=!0;a=0;for(b=this.Rg.length;a<b;a++)this.Rg[a]&&(d=this.type.Ea[a],this.hb.push(d),d.Qe||(e=!1));this.Ev=!!this.hb.length;this.zg=e};qc=function(){return"Inst"+this.Du};dc=function(a){if(a&&a.rd&&a.type!=this){var b,d,e;b=0;for(d=a.siblings.length;b<d;b++)if(e=a.siblings[b],
e.type==this)return e}a=this.Oa().Xd();return a.length?a[0]:null};ec=function(a){var b=this.Oa().Xd();return b.length?b[a.Ek()%b.length]:null};cc=function(){if(this.Wj&&!this.ya){var a,b;a=0;for(b=this.F.length;a<b;a++)this.F[a].mi=a;var d=a,e=this.c.bf;a=0;for(b=e.length;a<b;++a)e[a].type===this&&(e[a].mi=d++);this.Wj=!1}};nc=function(a){if(a<this.F.length)return this.F[a];a-=this.F.length;var b=this.c.bf,d,e;d=0;for(e=b.length;d<e;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};fc=
function(){return this.Bg[this.vf]};gc=function(){this.vf++;this.vf===this.Bg.length?this.Bg.push(new bc(this)):(this.Bg[this.vf].Va=!0,I(this.Bg[this.vf].Xa))};hc=function(){this.vf++;this.vf===this.Bg.length&&this.Bg.push(new bc(this));var a=this.Bg[this.vf],b=this.Bg[this.vf-1];b.Va?a.Va=!0:(a.Va=!1,Ea(a.F,b.F));I(a.Xa)};ic=function(){this.vf--};jc=function(a){var b,d,e,k,l,f=0;if(!this.ya)for(b=0,d=this.Ib.length;b<d;b++)for(l=this.Ib[b],e=0,k=l.Jb.length;e<k;e++){if(a===l.Jb[e].name)return this.ga.lastBehIndex=
f,l.Jb[e];f++}b=0;for(d=this.Jb.length;b<d;b++){if(a===this.Jb[b].name)return this.ga.lastBehIndex=f,this.Jb[b];f++}return null};kc=function(a){return this.hn(a)?this.ga.lastBehIndex:-1};lc=function(a){var b,d;b=0;for(d=this.Ea.length;b<d;b++)if(this.Ea[b].name===a)return b;return-1};mc=function(){if(this.rd&&!this.ya){var a,b,d,e,k,l,f;this.yo();l=this.Oa();var m=l.Va,n=(a=this.c.uc())&&a.Vc&&a.Vc.Oe;a=0;for(b=this.Vd.length;a<b;a++)if(k=this.Vd[a],k!==this&&(k.yo(),f=k.Oa(),f.Va=m,!m)){I(f.F);d=
0;for(e=l.F.length;d<e;++d)f.F[d]=k.Bp(l.F[d].mi);if(n)for(I(f.Xa),d=0,e=l.Xa.length;d<e;++d)f.Xa[d]=k.Bp(l.Xa[d].mi)}}};oc=function(){return"Type"+this.Wa};ad=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();
var td={exposure:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float exposure;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\ngl_FragColor = vec4(front.rgb * pow(2.0, exposure), front.a);\n}",Tm:0,Um:0,ip:!1,Qe:!0,Wo:!1,Ka:[["exposure",0,1]]}};function wd(a){this.c=a}
(function(){function a(a){-1===Kb.indexOf(a)&&Kb.push(a)}function c(b){var c=b.U,d;try{d=c.play()}catch(e){a(b);return}d?d.catch(function(){a(b)}):Xc&&!G.kc&&a(b)}function b(){var b,c,e,f;Yc||Wc||!E||(d(),"running"===E.state&&(Yc=!0));var g=Kb.slice(0);I(Kb);if(!Z)for(b=0,c=g.length;b<c;++b)e=g[b],e.Pd||e.$d||(f=e.U.play())&&f.catch(function(){a(e)})}function d(){"suspended"===E.state&&E.resume&&E.resume();if(E.createBuffer){var a=E.createBuffer(1,220,22050),b=E.createBufferSource();b.buffer=a;b.connect(E.destination);
n(b)}}function e(a){a=Math.pow(10,a/20);isFinite(a)||(a=0);0>a&&(a=0);1<a&&(a=1);return a}function k(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function l(a){a=a.toLowerCase();return ea.hasOwnProperty(a)&&ea[a].length?ea[a][0].me():E.destination}function f(){return E.createGain?E.createGain():E.createGainNode()}function m(a){return E.createDelay?E.createDelay(a):E.createDelayNode(a)}function n(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function h(a,b,c,d){a.start?a.start(d||0,b):a.noteGrainOn(d||
0,b,c-b)}function g(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}function r(a,b,c,d,e,g){this.type="filter";this.Rb=[a,b,c,d,e,g];this.Za=f();this.Ba=f();this.Ba.gain.value=g;this.wa=f();this.wa.gain.value=1-g;this.jc=E.createBiquadFilter();this.jc.type="number"===typeof this.jc.type?a:Zc[a];this.jc.frequency.value=b;this.jc.detune&&(this.jc.detune.value=c);this.jc.Q.value=d;this.jc.gain.value=e;this.Za.connect(this.jc);this.Za.connect(this.wa);this.jc.connect(this.Ba)}function p(a,b,c){this.type=
"delay";this.Rb=[a,b,c];this.Za=f();this.Ba=f();this.Ba.gain.value=c;this.wa=f();this.wa.gain.value=1-c;this.il=f();this.Ge=m(a);this.Ge.delayTime.value=a;this.Mm=f();this.Mm.gain.value=b;this.Za.connect(this.il);this.Za.connect(this.wa);this.il.connect(this.Ba);this.il.connect(this.Ge);this.Ge.connect(this.Mm);this.Mm.connect(this.il)}function v(a,b,c,d){this.type="convolve";this.Rb=[b,c,d];this.Za=f();this.Ba=f();this.Ba.gain.value=c;this.wa=f();this.wa.gain.value=1-c;this.Xh=E.createConvolver();
a&&(this.Xh.normalize=b,this.Xh.buffer=a);this.Za.connect(this.Xh);this.Za.connect(this.wa);this.Xh.connect(this.Ba)}function t(a,b,c,d,e){this.type="flanger";this.Rb=[a,b,c,d,e];this.Za=f();this.wa=f();this.wa.gain.value=1-e/2;this.Ba=f();this.Ba.gain.value=e/2;this.Ym=f();this.Ym.gain.value=d;this.Ge=m(a+b);this.Ge.delayTime.value=a;this.Lc=E.createOscillator();this.Lc.frequency.value=c;this.fe=f();this.fe.gain.value=b;this.Za.connect(this.Ge);this.Za.connect(this.wa);this.Ge.connect(this.Ba);this.Ge.connect(this.Ym);
this.Ym.connect(this.Ge);this.Lc.connect(this.fe);this.fe.connect(this.Ge.delayTime);n(this.Lc)}function w(a,b,c,d,e,g){this.type="phaser";this.Rb=[a,b,c,d,e,g];this.Za=f();this.wa=f();this.wa.gain.value=1-g/2;this.Ba=f();this.Ba.gain.value=g/2;this.jc=E.createBiquadFilter();this.jc.type="number"===typeof this.jc.type?7:"allpass";this.jc.frequency.value=a;this.jc.detune&&(this.jc.detune.value=b);this.jc.Q.value=c;this.Lc=E.createOscillator();this.Lc.frequency.value=e;this.fe=f();this.fe.gain.value=
d;this.Za.connect(this.jc);this.Za.connect(this.wa);this.jc.connect(this.Ba);this.Lc.connect(this.fe);this.fe.connect(this.jc.frequency);n(this.Lc)}function q(a){this.type="gain";this.Rb=[a];this.fb=f();this.fb.gain.value=a}function y(a,b){this.type="tremolo";this.Rb=[a,b];this.fb=f();this.fb.gain.value=1-b/2;this.Lc=E.createOscillator();this.Lc.frequency.value=a;this.fe=f();this.fe.gain.value=b/2;this.Lc.connect(this.fe);this.fe.connect(this.fb.gain);n(this.Lc)}function B(a,b){this.type="ringmod";
this.Rb=[a,b];this.Za=f();this.Ba=f();this.Ba.gain.value=b;this.wa=f();this.wa.gain.value=1-b;this.tl=f();this.tl.gain.value=0;this.Lc=E.createOscillator();this.Lc.frequency.value=a;this.Lc.connect(this.tl.gain);n(this.Lc);this.Za.connect(this.tl);this.Za.connect(this.wa);this.tl.connect(this.Ba)}function F(a,b,c,d,e){this.type="distortion";this.Rb=[a,b,c,d,e];this.Za=f();this.Wn=f();this.Vn=f();this.NB(c,Math.pow(10,d/20));this.Ba=f();this.Ba.gain.value=e;this.wa=f();this.wa.gain.value=1-e;this.Do=
E.createWaveShaper();this.Km=new Float32Array(65536);this.Mz(a,b);this.Do.Km=this.Km;this.Za.connect(this.Wn);this.Za.connect(this.wa);this.Wn.connect(this.Do);this.Do.connect(this.Vn);this.Vn.connect(this.Ba)}function D(a,b,c,d,e){this.type="compressor";this.Rb=[a,b,c,d,e];this.fb=E.createDynamicsCompressor();try{this.fb.threshold.value=a,this.fb.knee.value=b,this.fb.ratio.value=c,this.fb.attack.value=d,this.fb.release.value=e}catch(f){}}function C(a,b){this.type="analyser";this.Rb=[a,b];this.fb=
E.createAnalyser();this.fb.fftSize=a;this.fb.smoothingTimeConstant=b;this.Kz=new Float32Array(this.fb.frequencyBinCount);this.$u=new Uint8Array(a);this.nl=0}function A(){this.lb=null;this.Fn=0}function u(a,b){this.src=a;this.Ta=K;this.Ff=b;this.lm=!1;var c=this;this.Ij=this.Oj=null;this.Pj=[];this.eo=0;this.Br=this.Wm=this.hv=this.Rn=!1;1===K&&b&&!Zb&&(this.Ta=0,this.Oj=f());this.$f=this.cb=null;var d;switch(this.Ta){case 0:this.cb=new Audio;this.cb.crossOrigin="anonymous";this.cb.addEventListener("canplaythrough",
function(){c.Br=!0});1===K&&E.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.hv=!0,this.cb.addEventListener("canplay",function(){!c.Ij&&c.cb&&(c.Ij=E.createMediaElementSource(c.cb),c.Ij.connect(c.Oj))}));this.cb.autoplay=!1;this.cb.AD="auto";this.cb.src=a;break;case 1:G.vn?G.Ks(a,function(a){c.$f=a;c.As()},function(){c.Wm=!0}):(d=new XMLHttpRequest,d.open("GET",a,!0),d.responseType="arraybuffer",d.onload=function(){c.$f=d.response;c.As()},d.onerror=function(){c.Wm=!0},d.send());
break;case 2:this.cb=!0;break;case 3:this.cb=!0}}function z(a,b){var c=this;this.tag=b;this.Pd=this.Af=!0;this.src=a.src;this.buffer=a;this.Ta=K;this.Ff=a.Ff;this.playbackRate=1;this.qj=!0;this.$d=this.ve=!1;this.Od=0;this.Sk=this.uj=this.If=!1;this.volume=1;this.Fq=function(a){if(!c.$d&&!c.ve){var b=this;b||(b=a.target);b===c.km&&(c.qj=!0,c.Pd=!0,O=c.tag,G.trigger(wd.prototype.K.Yl,V))}};this.km=null;this.sj=1===Fa&&!this.Ff||2===Fa;this.Kj=1;this.startTime=this.sj?G.Hc.Aa:G.Gg.Aa;this.mc=this.tc=
null;this.Jf=!1;this.$c=null;this.pu=this.ou=this.nu=this.mu=this.ru=this.qu=0;this.U=null;var d=!1;1!==this.Ta||0!==this.buffer.Ta||this.buffer.hv||(this.Ta=0);switch(this.Ta){case 0:this.Ff?(this.U=a.cb,d=!a.lm,a.lm=!0):(this.U=new Audio,this.U.crossOrigin="anonymous",this.U.autoplay=!1,this.U.src=a.cb.src,d=!0);d&&this.U.addEventListener("ended",function(){O=c.tag;c.Pd=!0;G.trigger(wd.prototype.K.Yl,V)});break;case 1:this.tc=f();this.tc.connect(l(b));1===this.buffer.Ta?a.cb&&(this.U=E.createBufferSource(),
this.U.buffer=a.cb,this.U.connect(this.tc)):(this.U=this.buffer.cb,this.buffer.Oj.connect(this.tc),this.buffer.lm||(this.buffer.lm=!0,this.buffer.cb.addEventListener("ended",function(){O=c.tag;c.Pd=!0;G.trigger(wd.prototype.K.Yl,V)})));break;case 2:this.U=new window.Media(Q+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(c.qj=!0,c.Pd=!0,O=c.tag,G.trigger(wd.prototype.K.Yl,V))});break;case 3:this.U=!0}}function J(a){I(ab);if(a.length){var b,c,d;b=0;for(c=H.length;b<c;b++)d=H[b],Ub(a,
d.tag)&&ab.push(d)}else U&&!U.li()&&(I(ab),ab[0]=U)}function S(a,b){ea.hasOwnProperty(a)?ea[a].push(b):ea[a]=[b];var c,d,e,f,g=E.destination;if(ea.hasOwnProperty(a)&&(e=ea[a],e.length))for(g=e[0].me(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.De(E.destination):f.De(e[c+1].me());J(a);c=0;for(d=ab.length;c<d;c++)ab[c].wB(g);xb&&$b===a&&(xb.disconnect(),xb.connect(g))}function N(){}function L(){}var P=wd.prototype;P.Ab=function(a){this.tb=a;this.c=a.c};P.Ab.prototype.Qa=function(){};var G=null,V=null,
O="",Q="",K=0,E=null,T=[],H=[],U=null,ba=!1,Fa=0,Z=!1,la=1,na=0,$a=0,Wc=!1,ib=1,Jb=1,La=10,Yb=1E4,ac=1,xb=null,$b="",Xc=!1,Kb=[],Zb=!1,Yc=!1;document.addEventListener("pointerup",b,!0);document.addEventListener("touchend",b,!0);document.addEventListener("click",b,!0);document.addEventListener("keydown",b,!0);document.addEventListener("gamepadconnected",b,!0);var ea={},Zc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");r.prototype.De=function(a){this.Ba.disconnect();
this.Ba.connect(a);this.wa.disconnect();this.wa.connect(a)};r.prototype.remove=function(){this.Za.disconnect();this.jc.disconnect();this.Ba.disconnect();this.wa.disconnect()};r.prototype.me=function(){return this.Za};p.prototype.De=function(a){this.Ba.disconnect();this.Ba.connect(a);this.wa.disconnect();this.wa.connect(a)};p.prototype.remove=function(){this.Za.disconnect();this.il.disconnect();this.Ge.disconnect();this.Mm.disconnect();this.Ba.disconnect();this.wa.disconnect()};p.prototype.me=function(){return this.Za};
v.prototype.De=function(a){this.Ba.disconnect();this.Ba.connect(a);this.wa.disconnect();this.wa.connect(a)};v.prototype.remove=function(){this.Za.disconnect();this.Xh.disconnect();this.Ba.disconnect();this.wa.disconnect()};v.prototype.me=function(){return this.Za};t.prototype.De=function(a){this.wa.disconnect();this.wa.connect(a);this.Ba.disconnect();this.Ba.connect(a)};t.prototype.remove=function(){this.Za.disconnect();this.Ge.disconnect();this.Lc.disconnect();this.fe.disconnect();this.wa.disconnect();
this.Ba.disconnect();this.Ym.disconnect()};t.prototype.me=function(){return this.Za};w.prototype.De=function(a){this.wa.disconnect();this.wa.connect(a);this.Ba.disconnect();this.Ba.connect(a)};w.prototype.remove=function(){this.Za.disconnect();this.jc.disconnect();this.Lc.disconnect();this.fe.disconnect();this.wa.disconnect();this.Ba.disconnect()};w.prototype.me=function(){return this.Za};q.prototype.De=function(a){this.fb.disconnect();this.fb.connect(a)};q.prototype.remove=function(){this.fb.disconnect()};
q.prototype.me=function(){return this.fb};y.prototype.De=function(a){this.fb.disconnect();this.fb.connect(a)};y.prototype.remove=function(){this.Lc.disconnect();this.fe.disconnect();this.fb.disconnect()};y.prototype.me=function(){return this.fb};B.prototype.De=function(a){this.Ba.disconnect();this.Ba.connect(a);this.wa.disconnect();this.wa.connect(a)};B.prototype.remove=function(){this.Lc.disconnect();this.tl.disconnect();this.Za.disconnect();this.Ba.disconnect();this.wa.disconnect()};B.prototype.me=
function(){return this.Za};F.prototype.NB=function(a,b){.01>a&&(a=.01);this.Wn.gain.value=a;this.Vn.gain.value=Math.pow(1/a,.6)*b};F.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};F.prototype.Mz=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Km[32768+f]=e,this.Km[32768-f-1]=-e};F.prototype.De=function(a){this.Ba.disconnect();this.Ba.connect(a);this.wa.disconnect();
this.wa.connect(a)};F.prototype.remove=function(){this.Za.disconnect();this.Wn.disconnect();this.Do.disconnect();this.Vn.disconnect();this.Ba.disconnect();this.wa.disconnect()};F.prototype.me=function(){return this.Za};D.prototype.De=function(a){this.fb.disconnect();this.fb.connect(a)};D.prototype.remove=function(){this.fb.disconnect()};D.prototype.me=function(){return this.fb};C.prototype.Bc=function(){this.fb.getFloatFrequencyData(this.Kz);this.fb.getByteTimeDomainData(this.$u);for(var a=this.fb.fftSize,
b=0,c=this.nl=0,d=0;b<a;b++)d=(this.$u[b]-128)/128,0>d&&(d=-d),this.nl<d&&(this.nl=d),c+=d*d;this.nl=k(this.nl);k(Math.sqrt(c/a))};C.prototype.De=function(a){this.fb.disconnect();this.fb.connect(a)};C.prototype.remove=function(){this.fb.disconnect()};C.prototype.me=function(){return this.fb};A.prototype.xl=function(a){this.lb=a};A.prototype.pn=function(){return!!this.lb};A.prototype.Bc=function(){};u.prototype.xB=function(){var a,b,c,d;c=a=0;for(b=H.length;a<b;++a)d=H[a],H[c]=d,d.buffer===this?d.stop():
++c;H.length=c;this.Ij&&(this.Ij.disconnect(),this.Ij=null);this.Oj&&(this.Oj.disconnect(),this.Oj=null);this.$f=this.cb=null};u.prototype.As=function(){if(!this.cb&&this.$f){var a=this;if(E.decodeAudioData)E.decodeAudioData(this.$f,function(b){a.cb=b;a.$f=null;var c,d,e;if(ia(a.Sn)||Z)ia(a.Fm)||(c=a.Fm.Xh,c.normalize=a.$t,c.buffer=b);else if(a.Pj.length){c=0;for(d=a.Pj.length;c<d;c++){b=a.Pj[c];e=new z(a,b.pv);e.dr(!0);if("undefined"!==typeof b.bu&&(b.lb=G.hi(b.bu),!b.lb))continue;if(b.lb){var f=
fb(b.lb.x,b.lb.y,-b.lb.V.Yc(),na,$a,!0),g=fb(b.lb.x,b.lb.y,-b.lb.V.Yc(),na,$a,!1);e.cr(f,g,Pa(b.lb.M-b.lb.V.Yc()),b.Kp,b.uq,b.xq);e.xl(b.lb)}else e.cr(b.x,b.y,b.R,b.Kp,b.uq,b.xq);e.play(a.nq,a.Ar,a.eo);a.Rn&&e.pause();H.push(e)}I(a.Pj)}else e=new z(a,a.Sn||""),e.play(a.nq,a.Ar,a.eo),a.Rn&&e.pause(),H.push(e)},function(){a.Wm=!0});else if(this.cb=E.createBuffer(this.$f,!1),this.$f=null,ia(this.Sn)||Z)ia(this.Fm)||(b=this.Fm.Xh,b.normalize=this.$t,b.buffer=this.cb);else{var b=new z(this,this.Sn);b.play(this.nq,
this.Ar,this.eo);this.Rn&&b.pause();H.push(b)}}};u.prototype.ht=function(){switch(this.Ta){case 0:var a=4<=this.cb.readyState;a&&(this.Br=!0);return a||this.Br;case 1:return!!this.$f||!!this.cb;case 2:return!0;case 3:return!0}return!1};u.prototype.BA=function(){switch(this.Ta){case 0:return this.ht();case 1:return!!this.cb;case 2:return!0;case 3:return!0}return!1};u.prototype.rA=function(){switch(this.Ta){case 0:return!!this.cb.error;case 1:return this.Wm}return!1};z.prototype.li=function(){switch(this.Ta){case 0:return this.U.ended;
case 1:return 1===this.buffer.Ta?!this.Af&&!this.Pd&&this.U.loop||this.$d?!1:this.qj:this.U.ended;case 2:return this.qj;case 3:!0}return!0};z.prototype.hy=function(){return this.Af||this.Pd?!0:this.li()};z.prototype.dr=function(a){1===K&&(!this.Jf&&a?this.tc&&(this.mc||(this.mc=E.createPanner(),this.mc.panningModel="number"===typeof this.mc.panningModel?ib:["equalpower","HRTF","soundfield"][ib],this.mc.distanceModel="number"===typeof this.mc.distanceModel?Jb:["linear","inverse","exponential"][Jb],
this.mc.refDistance=La,this.mc.maxDistance=Yb,this.mc.rolloffFactor=ac),this.tc.disconnect(),this.tc.connect(this.mc),this.mc.connect(l(this.tag)),this.Jf=!0):this.Jf&&!a&&this.tc&&(this.mc.disconnect(),this.tc.disconnect(),this.tc.connect(l(this.tag)),this.Jf=!1))};z.prototype.cr=function(a,b,c,d,e,f){this.Jf&&1===K&&(this.mc.setPosition(a,b,0),this.mc.setOrientation(Math.cos(Oa(c)),Math.sin(Oa(c)),0),this.mc.coneInnerAngle=d,this.mc.coneOuterAngle=e,this.mc.coneOuterGain=f,this.qu=a,this.ru=b,this.mu=
c,this.nu=d,this.ou=e,this.pu=f)};z.prototype.xl=function(a){this.Jf&&1===K&&(this.$c||(this.$c=new A),this.$c.xl(a))};z.prototype.Bc=function(a){if(this.Jf&&1===K&&this.$c&&this.$c.pn()&&this.Pk()){this.$c.Bc(a);a=this.$c.lb;var b=fb(a.x,a.y,-a.V.Yc(),na,$a,!0),c=fb(a.x,a.y,-a.V.Yc(),na,$a,!1);this.mc.setPosition(b,c,0);b=0;"undefined"!==typeof this.$c.lb.M&&(b=a.M-a.V.Yc(),this.mc.setOrientation(Math.cos(b),Math.sin(b),0))}};z.prototype.play=function(a,b,d,e){var f=this.U;this.If=a;this.volume=
b;d=d||0;e=e||0;switch(this.Ta){case 0:1!==f.playbackRate&&(f.playbackRate=1);f.volume!==b*la&&(f.volume=b*la);f.loop!==a&&(f.loop=a);f.muted&&(f.muted=!1);if(f.currentTime!==d)try{f.currentTime=d}catch(g){}c(this);break;case 1:this.muted=!1;this.Kj=1;if(1===this.buffer.Ta)this.tc.gain.value=b*la,this.Af||(this.U=E.createBufferSource(),this.U.buffer=this.buffer.cb,this.U.connect(this.tc)),this.U.onended=this.Fq,this.km=this.U,this.U.loop=a,this.qj=!1,0===d?n(this.U,e):h(this.U,d,this.gi(),e);else{1!==
f.playbackRate&&(f.playbackRate=1);f.loop!==a&&(f.loop=a);f.volume=b*la;if(f.currentTime!==d)try{f.currentTime=d}catch(k){}c(this)}break;case 2:(!this.Af&&this.Pd||0!==d)&&f.seekTo(d);f.play();this.qj=!1;break;case 3:G.Zc?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.sj?G.Hc.Aa:G.Gg.Aa)-d;this.$d=this.Pd=this.Af=!1};z.prototype.stop=function(){switch(this.Ta){case 0:this.U.paused||this.U.pause();break;case 1:1===this.buffer.Ta?
g(this.U):this.U.paused||this.U.pause();break;case 2:this.U.stop();break;case 3:G.Zc&&AppMobi.context.stopSound(this.src)}this.Pd=!0;this.$d=!1};z.prototype.pause=function(){if(!(this.Af||this.Pd||this.li()||this.$d)){switch(this.Ta){case 0:this.U.paused||this.U.pause();break;case 1:1===this.buffer.Ta?(this.Od=this.Cp(!0),this.If&&(this.Od=this.Od%this.gi()),this.$d=!0,g(this.U)):this.U.paused||this.U.pause();break;case 2:this.U.pause();break;case 3:G.Zc&&AppMobi.context.stopSound(this.src)}this.$d=
!0}};z.prototype.CB=function(){if(!(this.Af||this.Pd||this.li())&&this.$d){switch(this.Ta){case 0:c(this);break;case 1:1===this.buffer.Ta?(this.U=E.createBufferSource(),this.U.buffer=this.buffer.cb,this.U.connect(this.tc),this.U.onended=this.Fq,this.km=this.U,this.U.loop=this.If,this.tc.gain.value=la*this.volume*this.Kj,this.zo(),this.startTime=(this.sj?G.Hc.Aa:G.Gg.Aa)-this.Od/(this.playbackRate||.001),h(this.U,this.Od,this.gi())):c(this);break;case 2:this.U.play();break;case 3:G.Zc&&AppMobi.context.resumeSound(this.src)}this.$d=
!1}};z.prototype.seek=function(a){if(!(this.Af||this.Pd||this.li()))switch(this.Ta){case 0:try{this.U.currentTime=a}catch(b){}break;case 1:if(1===this.buffer.Ta)this.$d?this.Od=a:(this.pause(),this.Od=a,this.CB());else try{this.U.currentTime=a}catch(c){}break;case 3:G.Zc&&AppMobi.context.seekSound(this.src,a)}};z.prototype.wB=function(a){1===this.Ta&&(this.Jf?(this.mc.disconnect(),this.mc.connect(a)):(this.tc.disconnect(),this.tc.connect(a)))};z.prototype.gi=function(){var a=0;switch(this.Ta){case 0:"undefined"!==
typeof this.U.duration&&(a=this.U.duration);break;case 1:a=this.buffer.cb.duration;break;case 2:a=this.U.getDuration();break;case 3:G.Zc&&(a=AppMobi.context.getDurationSound(this.src))}return a};z.prototype.Cp=function(a){var b=this.gi(),c=0;switch(this.Ta){case 0:"undefined"!==typeof this.U.currentTime&&(c=this.U.currentTime);break;case 1:if(1===this.buffer.Ta){if(this.$d)return this.Od;c=(this.sj?G.Hc.Aa:G.Gg.Aa)-this.startTime}else"undefined"!==typeof this.U.currentTime&&(c=this.U.currentTime);
break;case 3:G.Zc&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.If&&c>b&&(c=b);return c};z.prototype.Pk=function(){return!this.$d&&!this.Af&&!this.Pd&&!this.li()};z.prototype.TB=function(){return!this.Af&&!this.Pd&&!this.li()};z.prototype.SB=function(a){this.volume=a;this.Cv()};z.prototype.Cv=function(){var a=this.volume*la;isFinite(a)||(a=0);switch(this.Ta){case 0:"undefined"!==typeof this.U.volume&&this.U.volume!==a&&(this.U.volume=a);break;case 1:1===this.buffer.Ta?
this.tc.gain.value=a*this.Kj:"undefined"!==typeof this.U.volume&&this.U.volume!==a&&(this.U.volume=a)}};z.prototype.Rm=function(a){switch(this.Ta){case 0:this.U.muted!==!!a&&(this.U.muted=!!a);break;case 1:1===this.buffer.Ta?(this.Kj=a?0:1,this.tc.gain.value=la*this.volume*this.Kj):this.U.muted!==!!a&&(this.U.muted=!!a)}};z.prototype.OB=function(){this.uj=!0;this.Rm(this.uj||this.Sk)};z.prototype.Tu=function(a){this.Sk=!!a;this.Rm(this.uj||this.Sk)};z.prototype.zo=function(){var a=this.playbackRate;
this.sj&&(a*=G.Cg);switch(this.Ta){case 0:this.U.playbackRate!==a&&(this.U.playbackRate=a);break;case 1:1===this.buffer.Ta?this.U.playbackRate.value!==a&&(this.U.playbackRate.value=a):this.U.playbackRate!==a&&(this.U.playbackRate=a)}};z.prototype.QB=function(a){switch(this.Ta){case 0:a?this.Pk()?(this.ve=!0,this.U.pause()):this.ve=!1:this.ve&&(this.U.play(),this.ve=!1);break;case 1:a?this.Pk()?(this.ve=!0,1===this.buffer.Ta?(this.Od=this.Cp(!0),this.If&&(this.Od=this.Od%this.gi()),g(this.U)):this.U.pause()):
this.ve=!1:this.ve&&(1===this.buffer.Ta?(this.U=E.createBufferSource(),this.U.buffer=this.buffer.cb,this.U.connect(this.tc),this.U.onended=this.Fq,this.km=this.U,this.U.loop=this.If,this.tc.gain.value=la*this.volume*this.Kj,this.zo(),this.startTime=(this.sj?G.Hc.Aa:G.Gg.Aa)-this.Od/(this.playbackRate||.001),h(this.U,this.Od,this.gi())):this.U.play(),this.ve=!1);break;case 2:a?this.Pk()?(this.U.pause(),this.ve=!0):this.ve=!1:this.ve&&(this.ve=!1,this.U.play())}};P.nb=function(a){this.type=a;G=this.c=
a.c;V=this;this.be=null;this.Zk=-600;this.c.vn&&(Zb=!0);!(this.c.xj||this.c.Lk&&(this.c.Qp||this.c.rn))||this.c.tn||this.c.Bb||this.c.et||Zb||(Xc=!0);E=null;"undefined"!==typeof AudioContext?(K=1,E=new AudioContext):"undefined"!==typeof webkitAudioContext&&(K=1,E=new webkitAudioContext);this.c.xj&&E&&(E.close&&E.close(),"undefined"!==typeof AudioContext?E=new AudioContext:"undefined"!==typeof webkitAudioContext&&(E=new webkitAudioContext));1!==K&&(this.c.Zd&&"undefined"!==typeof window.Media?K=2:
this.c.ft&&(K=3));2===K&&(Q=location.href,a=Q.lastIndexOf("/"),-1<a&&(Q=Q.substr(0,a+1)),Q=Q.replace("file://",""));if(this.c.CA&&this.c.DA&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.c.Lg(this);else{if(this.c.Zc)ba=this.c.Lk;else try{ba=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')&&!this.c.wn}catch(b){ba=!1}this.c.Kl(this)}};var Ma=P.nb.prototype;Ma.Qa=function(){this.c.Zi=
this;Fa=this.ea[0];this.xg=this.ea[1];this.hB=0!==this.ea[2];this.Yt=0;ib=this.ea[3];Jb=this.ea[4];this.Zk=-this.ea[5];La=this.ea[6];Yb=this.ea[7];ac=this.ea[8];this.be=new A;var a=this.c.ua||this.c.width,b=this.c.ta||this.c.height;1===K&&(E.listener.setPosition(a/2,b/2,this.Zk),E.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){xb&&xb.disconnect();$b=b.toLowerCase();xb=E.createMediaStreamSource(a);xb.connect(l($b))});this.c.hs(function(a){V.cB(a)});var c=this;this.c.Uo(function(a){c.yq(a)})};
Ma.yq=function(a){var b,c,d;b=0;for(c=H.length;b<c;b++)d=H[b],d.$c&&d.$c.lb===a&&(d.$c.lb=null,d.Jf&&d.Pk()&&d.If&&d.stop());this.be.lb===a&&(this.be.lb=null)};Ma.Mc=function(){var a={silent:Z,masterVolume:la,listenerZ:this.Zk,listenerUid:this.be.pn()?this.be.lb.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,g,k;c=0;for(d=H.length;c<d;c++)e=H[c],!e.TB()||3===this.xg||e.Ff&&1===this.xg||!e.Ff&&2===this.xg||(f=e.Cp(),e.If&&(f=f%e.gi()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.Ff,playbackTime:f,
volume:e.volume,looping:e.If,muted:e.uj,playbackRate:e.playbackRate,paused:e.$d,resume_position:e.Od},e.Jf&&(f.pan={},k=f.pan,e.$c&&e.$c.pn()?k.objUid=e.$c.lb.uid:(k.x=e.qu,k.y=e.ru,k.a=e.mu),k.ia=e.nu,k.oa=e.ou,k.og=e.pu),b.push(f));b=a.effects;for(g in ea)if(ea.hasOwnProperty(g)){e=[];c=0;for(d=ea[g].length;c<d;c++)e.push({type:ea[g][c].type,params:ea[g][c].Rb});b[g]=e}return a};var yb=[];Ma.sd=function(a){var b=a.silent;la=a.masterVolume;this.Zk=a.listenerZ;this.be.xl(null);var c=a.listenerUid;
-1!==c&&(this.be.Fn=c,yb.push(this.be));var c=a.playing,d,e,f,g,k,h,l,m,n,u,L;if(3!==this.xg)for(d=0,e=H.length;d<e;d++)n=H[d],n.Ff&&1===this.xg||(n.Ff||2!==this.xg)&&n.stop();for(k in ea)if(ea.hasOwnProperty(k))for(d=0,e=ea[k].length;d<e;d++)ea[k][d].remove();lb(ea);for(k in a.effects)if(a.effects.hasOwnProperty(k))for(h=a.effects[k],d=0,e=h.length;d<e;d++)switch(f=h[d].type,u=h[d].params,f){case "filter":S(k,new r(u[0],u[1],u[2],u[3],u[4],u[5]));break;case "delay":S(k,new p(u[0],u[1],u[2]));break;
case "convolve":f=u[2];n=this.gn(f,!1);n.cb?f=new v(n.cb,u[0],u[1],f):(f=new v(null,u[0],u[1],f),n.$t=u[0],n.Fm=f);S(k,f);break;case "flanger":S(k,new t(u[0],u[1],u[2],u[3],u[4]));break;case "phaser":S(k,new w(u[0],u[1],u[2],u[3],u[4],u[5]));break;case "gain":S(k,new q(u[0]));break;case "tremolo":S(k,new y(u[0],u[1]));break;case "ringmod":S(k,new B(u[0],u[1]));break;case "distortion":S(k,new F(u[0],u[1],u[2],u[3],u[4]));break;case "compressor":S(k,new D(u[0],u[1],u[2],u[3],u[4]));break;case "analyser":S(k,
new C(u[0],u[1]))}d=0;for(e=c.length;d<e;d++)3===this.xg||(a=c[d],f=a.buffersrc,g=a.is_music,k=a.tag,h=a.playbackTime,l=a.looping,m=a.volume,L=(u=a.pan)&&u.hasOwnProperty("objUid")?u.objUid:-1,g&&1===this.xg)||!g&&2===this.xg||((n=this.wp(f,k,g,l,m))?(n.Od=a.resume_position,n.dr(!!u),n.play(l,m,h),n.zo(),n.Cv(),n.Rm(n.uj||n.Sk),a.paused&&n.pause(),a.muted&&n.OB(),n.Rm(n.uj||n.Sk),u&&(-1!==L?(n.$c=n.$c||new A,n.$c.Fn=L,yb.push(n.$c)):n.cr(u.x,u.y,u.a,u.ia,u.oa,u.og))):(n=this.gn(f,g),n.eo=h,n.Rn=a.paused,
u&&(-1!==L?n.Pj.push({bu:L,Kp:u.ia,uq:u.oa,xq:u.og,pv:k}):n.Pj.push({x:u.x,y:u.y,R:u.a,Kp:u.ia,uq:u.oa,xq:u.og,pv:k}))));if(b&&!Z){d=0;for(e=H.length;d<e;d++)H[d].Tu(!0);Z=!0}else if(!b&&Z){d=0;for(e=H.length;d<e;d++)H[d].Tu(!1);Z=!1}};Ma.Yf=function(){var a,b,c,d;a=0;for(b=yb.length;a<b;a++)c=yb[a],d=this.c.hi(c.Fn),c.xl(d),c.Fn=-1,d&&(na=d.x,$a=d.y);I(yb)};Ma.cB=function(a){if(!this.hB){!a&&E&&E.resume&&(E.resume(),Wc=!1);var b,c;b=0;for(c=H.length;b<c;b++)H[b].QB(a);a&&E&&E.suspend&&(E.suspend(),
Wc=!0)}};Ma.Bc=function(){var a=this.c.Ga,b,c,d;b=0;for(c=H.length;b<c;b++)d=H[b],d.Bc(a),0!==Fa&&d.zo();var e,f;for(e in ea)if(ea.hasOwnProperty(e))for(d=ea[e],b=0,c=d.length;b<c;b++)f=d[b],f.Bc&&f.Bc();1===K&&this.be.pn()&&(this.be.Bc(a),na=this.be.lb.x,$a=this.be.lb.y,E.listener.setPosition(this.be.lb.x,this.be.lb.y,this.Zk))};var Lb=[];Ma.PB=function(a){var b,c,d,e,f,g=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&ba||!f&&!ba)Lb.push({filename:e,
size:d,lb:null}),g+=d;return g};Ma.WB=function(){var a,b,c,d;a=0;for(b=Lb.length;a<b;++a)c=Lb[a],d=this.c.Zm+c.filename,c.lb=this.gn(d,!1)};Ma.Wz=function(){var a=0,b,c,d;b=0;for(c=Lb.length;b<c;++b)d=Lb[b],d.lb.BA()||d.lb.rA()||this.c.Bb||this.c.rn?a+=d.size:d.lb.ht()&&(a+=Math.floor(d.size/2));return a};Ma.yB=function(){var a,b,c,d;c=a=0;for(b=T.length;a<b;++a)d=T[a],T[c]=d,d.Ff?d.xB():++c;T.length=c};Ma.gn=function(a,b){var c,d,e,f=null;c=0;for(d=T.length;c<d;c++)if(e=T[c],e.src===a){f=e;break}f||
(Zb&&b&&this.yB(),f=new u(a,b),T.push(f));return f};Ma.wp=function(a,b,c,d,e){var f,g,k;f=0;for(g=H.length;f<g;f++)if(k=H[f],k.src===a&&(k.hy()||c))return k.tag=b,k;a=this.gn(a,c);if(!a.cb)return"<preload>"!==b&&(a.Sn=b,a.nq=d,a.Ar=e),null;k=new z(a,b);H.push(k);return k};var ab=[];N.prototype.Yl=function(a){return Ub(O,a)};P.K=new N;L.prototype.Play=function(a,b,c,d){!Z&&(c=e(c),U=this.wp(this.c.Zm+a[0]+(ba?".ogg":".m4a"),d,a[1],0!==b,c))&&(U.dr(!1),U.play(0!==b,c,0,this.Yt),this.Yt=0)};L.prototype.ux=
function(a,b){J(a);var c=e(b),d,f;d=0;for(f=ab.length;d<f;d++)ab[d].SB(c)};L.prototype.Vw=function(a){if(!Z){var b=a[1];a=this.c.Zm+a[0]+(ba?".ogg":".m4a");3===K?this.c.Zc?AppMobi.context.loadSound(a):AppMobi.player.loadSound(a):2!==K&&this.wp(a,"<preload>",b,!1)}};L.prototype.Ex=function(a){J(a);var b;a=0;for(b=ab.length;a<b;a++)ab[a].stop()};P.ca=new L;P.xa=new function(){}})();function xd(a){this.c=a}
(function(){function a(){l&&f&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(a){m.bB(a)})}function c(){}function b(){}function d(a){console&&console.warn&&console.warn("Fullscreen request failed: ",a);h.setSize(window.innerWidth,window.innerHeight)}var e=xd.prototype;e.Ab=function(a){this.tb=a;this.c=a.c};var k=e.Ab.prototype;k.Qa=function(){};var l=!1,f=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var b=
document.createElement("script");b.onload=function(){l=!0;a()};b.src="offlineClient.js";document.head.appendChild(b)}});var m=null;k.fu=function(){f=!0;a()};e.nb=function(a){this.type=a;this.c=a.c};k=e.nb.prototype;k.Qa=function(){var a=this;window.addEventListener("resize",function(){a.c.trigger(xd.prototype.K.Ow,a)});m=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.c.trigger(xd.prototype.K.Lw,a)}),window.addEventListener("offline",function(){a.c.trigger(xd.prototype.K.Jw,
a)}));this.c.Zc||(document.addEventListener("appMobi.device.update.available",function(){a.c.trigger(xd.prototype.K.Mo,a)}),document.addEventListener("backbutton",function(){a.c.trigger(xd.prototype.K.Xl,a)}),document.addEventListener("menubutton",function(){a.c.trigger(xd.prototype.K.Pr,a)}),document.addEventListener("searchbutton",function(){a.c.trigger(xd.prototype.K.Pw,a)}),document.addEventListener("tizenhwkey",function(b){var c;switch(b.keyName){case "back":c=a.c.trigger(xd.prototype.K.Xl,a);
!c&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(c=a.c.trigger(xd.prototype.K.Pr,a))||b.preventDefault()}}));this.c.wn&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(b){a.c.trigger(xd.prototype.K.Xl,a)&&(b.handled=!0)}):this.c.Vp&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.c.trigger(xd.prototype.K.Xl,a)});this.c.hs(function(b){b?a.c.trigger(xd.prototype.K.Mw,
a):a.c.trigger(xd.prototype.K.Nw,a)});this.lt="undefined"!==typeof window.is_scirra_arcade};k.bB=function(a){a=a.data.type;"downloading-update"===a?this.c.trigger(xd.prototype.K.Sw,this):"update-ready"===a||"update-pending"===a?this.c.trigger(xd.prototype.K.Mo,this):"offline-ready"===a&&this.c.trigger(xd.prototype.K.Kw,this)};c.prototype.Lw=function(){return!0};c.prototype.Jw=function(){return!0};c.prototype.Mo=function(){return!0};c.prototype.Nw=function(){return!0};c.prototype.Mw=function(){return!0};
c.prototype.Ow=function(){return!0};c.prototype.Xl=function(){return!0};c.prototype.Pr=function(){return!0};c.prototype.Pw=function(){return!0};c.prototype.Sw=function(){return!0};c.prototype.Mo=function(){return!0};c.prototype.Kw=function(){return!0};e.K=new c;b.prototype.Rv=function(){this.c.Yd?CocoonJS.App.forceToFinish():window.tizen?window.tizen.application.getCurrentApplication().exit():navigator.app&&navigator.app.exitApp?navigator.app.exitApp():navigator.device&&navigator.device.exitApp?navigator.device.exitApp():
this.lt||this.c.Bb||window.close()};b.prototype.bw=function(a,b){this.c.Yd?CocoonJS.App.openURL(a):this.c.Ke?ejecta.openURL(a):this.c.Vp?Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(a)):navigator.app&&navigator.app.loadUrl?navigator.app.loadUrl(a,{openExternal:!0}):this.c.Zd?window.open(a,"_system"):this.lt||this.c.Bb||window.open(a,b)};var n=!0,h=null;b.prototype.Ww=function(a){this.c.Bb?fa("[Construct 2] Requesting fullscreen is not supported on this platform - the request has been ignored"):
(2<=a&&(a+=1),6===a&&(a=2),this.c.it?this.c.gt?debuggerFullscreen(!0):!this.c.rh&&window.nwgui&&(window.nwgui.Window.get().enterFullscreen(),this.c.rh=!0,this.c.mh=2<=a?a:0):document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||document.fullScreen||document.fullScreenElement||(this.c.mh=2<=a?a:0,a=document.documentElement,n&&(n=!1,h=this.c,a.addEventListener("mozfullscreenerror",d),a.addEventListener("webkitfullscreenerror",d),a.addEventListener("MSFullscreenError",d),
a.addEventListener("fullscreenerror",d)),a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen?a.msRequestFullscreen():a.webkitRequestFullScreen&&("undefined"!==typeof Element&&"undefined"!==typeof Element.ALLOW_KEYBOARD_INPUT?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.webkitRequestFullScreen())))};b.prototype.Nv=function(){this.c.Bb?fa("[Construct 2] Exiting fullscreen is not supported on this platform - the request has been ignored"):
this.c.it?this.c.gt?debuggerFullscreen(!1):this.c.rh&&window.nwgui&&(window.nwgui.Window.get().leaveFullscreen(),this.c.rh=!1):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()};e.ca=new b;e.xa=new function(){}})();function yd(a){this.c=a}
(function(){function a(){}var c=yd.prototype;c.Ab=function(a){this.tb=a;this.c=a.c};c.Ab.prototype.Qa=function(){};c.nb=function(a){this.type=a;this.c=a.c;this.Vk=Array(256);this.Ml=Array(256);this.Eg=0};var b=c.nb.prototype;b.Qa=function(){var a=this;this.c.Bb||(jQuery(document).keydown(function(b){a.$A(b)}),jQuery(document).keyup(function(b){a.aB(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.$A=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.Vk[a.which])this.Ml[a.which]&&!b&&a.preventDefault();else{this.Vk[a.which]=!0;this.Eg=a.which;this.c.kc=!0;this.c.trigger(yd.prototype.K.vw,this);var c=this.c.trigger(yd.prototype.K.Fw,this),f=this.c.trigger(yd.prototype.K.Gw,this);this.c.kc=!1;if(c||f)this.Ml[a.which]=!0,b||a.preventDefault()}};b.aB=function(a){this.Vk[a.which]=!1;this.Eg=a.which;this.c.kc=!0;this.c.trigger(yd.prototype.K.Hr,this);var b=this.c.trigger(yd.prototype.K.Nr,this),c=this.c.trigger(yd.prototype.K.Mr,this);this.c.kc=
!1;if(b||c||this.Ml[a.which])this.Ml[a.which]=!0,a.preventDefault()};b.Ii=function(){var a;for(a=0;256>a;++a)if(this.Vk[a]){this.Vk[a]=!1;this.Eg=a;this.c.trigger(yd.prototype.K.Hr,this);var b=this.c.trigger(yd.prototype.K.Nr,this),c=this.c.trigger(yd.prototype.K.Mr,this);if(b||c)this.Ml[a]=!0}};b.Mc=function(){return{triggerKey:this.Eg}};b.sd=function(a){this.Eg=a.triggerKey};a.prototype.Fw=function(a){return a===this.Eg};a.prototype.vw=function(){return!0};a.prototype.Hr=function(){return!0};a.prototype.Nr=
function(a){return a===this.Eg};a.prototype.Gw=function(a){return a===this.Eg};a.prototype.Mr=function(a){return a===this.Eg};c.K=new a;c.ca=new function(){};c.xa=new function(){}})();var zd=!1;
try{!function(){var a,c,b;!function(){var d={},e={};a=function(a,b,c){d[a]={wy:b,gy:c}};b=c=function(a){function l(b){if("."!==b.charAt(0))return b;b=b.split("/");for(var c=a.split("/").slice(0,-1),d=0,e=b.length;e>d;d++){var f=b[d];".."===f?c.pop():"."!==f&&c.push(f)}return c.join("/")}if(b.iD=d,e[a])return e[a];if(e[a]={},!d[a])throw Error("Could not find module "+a);for(var f,m=d[a],n=m.wy,m=m.gy,h=[],g=0,r=n.length;r>g;g++)"exports"===n[g]?h.push(f={}):h.push(c(l(n[g])));n=m.apply(this,h);return e[a]=
f||n}}();a("promise/all",["./utils","exports"],function(a,b){var c=a.isArray,l=a.isFunction;b.all=function(a){if(!c(a))throw new TypeError("You must pass an array to all.");return new this(function(b,c){function d(a){return function(c){k[a]=c;0===--p&&b(k)}}var e,k=[],p=a.length;0===p&&b([]);for(var v=0;v<a.length;v++)(e=a[v])&&l(e.then)?e.then(d(v),c):(k[v]=e,0===--p&&b(k))})}});a("promise/asap",["exports"],function(a){function b(){return function(){process.zD(f)}}function c(){var a=0,b=new h(f),
d=document.createTextNode("");return b.observe(d,{characterData:!0}),function(){d.data=a=++a%2}}function l(){return function(){g.setTimeout(f,1)}}function f(){for(var a=0;a<r.length;a++){var b=r[a];(0,b[0])(b[1])}r=[]}var m,n="undefined"!=typeof window?window:{},h=n.MutationObserver||n.WebKitMutationObserver,g="undefined"!=typeof global?global:void 0===this?window:this,r=[];m="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():h?c():l();a.Yx=function(a,b){1===r.push([a,
b])&&m()}});a("promise/config",["exports"],function(a){var b={rD:!1};a.xs=b;a.ky=function(a,c){return 2!==arguments.length?b[a]:void(b[a]=c)}});a("promise/polyfill",["./promise","./utils","exports"],function(a,b,c){var l=a.Promise,f=b.isFunction;c.iB=function(){var a;a="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;return new a.Promise(function(a){b=
a}),f(b)}()||(a.Promise=l)}});a("promise/promise","./config ./utils ./all ./race ./resolve ./reject ./asap exports".split(" "),function(a,b,c,l,f,m,n,h){function g(a){if(!u(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof g))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.jm=[];r(a,this)}function r(a,b){function c(a){q(b,
a)}function d(a){B(b,a)}try{a(c,d)}catch(e){d(e)}}function p(a,b,c,d){var e,f,g,k,h=u(c);if(h)try{e=c(d),g=!0}catch(l){k=!0,f=l}else e=d,g=!0;w(b,e)||(h&&g?q(b,e):k?B(b,f):a===S?q(b,e):a===N&&B(b,e))}function v(a,b,c,d){a=a.jm;var e=a.length;a[e]=b;a[e+S]=c;a[e+N]=d}function t(a,b){for(var c,d,e=a.jm,f=a.hm,g=0;g<e.length;g+=3)c=e[g],d=e[g+b],p(b,c,d,f);a.jm=null}function w(a,b){var c,d=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(A(b)&&(d=b.then,
u(d)))return d.call(b,function(d){return c?!0:(c=!0,void(b!==d?q(a,d):y(a,d)))},function(b){return c?!0:(c=!0,void B(a,b))}),!0}catch(e){return c?!0:(B(a,e),!0)}return!1}function q(a,b){a===b?y(a,b):w(a,b)||y(a,b)}function y(a,b){a.Wf===z&&(a.Wf=J,a.hm=b,C.async(F,a))}function B(a,b){a.Wf===z&&(a.Wf=J,a.hm=b,C.async(D,a))}function F(a){t(a,a.Wf=S)}function D(a){t(a,a.Wf=N)}var C=a.xs,A=(a.ky,b.WA),u=b.isFunction;a=(b.now,c.all);l=l.race;f=f.resolve;m=m.reject;C.async=n.Yx;var z=void 0,J=0,S=1,N=2;
g.prototype={constructor:g,Wf:void 0,hm:void 0,jm:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this.Wf){var e=arguments;C.async(function(){p(c.Wf,d,e[c.Wf-1],c.hm)})}else v(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}};g.all=a;g.race=l;g.resolve=f;g.reject=m;h.Promise=g});a("promise/race",["./utils","exports"],function(a,b){var c=a.isArray;b.race=function(a){if(!c(a))throw new TypeError("You must pass an array to race.");return new this(function(b,
c){for(var d,e=0;e<a.length;e++)(d=a[e])&&"function"==typeof d.then?d.then(b,c):b(d)})}});a("promise/reject",["exports"],function(a){a.reject=function(a){return new this(function(b,c){c(a)})}});a("promise/resolve",["exports"],function(a){a.resolve=function(a){return a&&"object"==typeof a&&a.constructor===this?a:new this(function(b){b(a)})}});a("promise/utils",["exports"],function(a){function b(a){return"function"==typeof a}var c=Date.now||function(){return(new Date).getTime()};a.WA=function(a){return b(a)||
"object"==typeof a&&null!==a};a.isFunction=b;a.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.now=c});c("promise/polyfill").iB()}();var Ad=function(){return function(a){function c(d){if(b[d])return b[d].xf;var e=b[d]={xf:{},id:d,loaded:!1};return a[d].call(e.xf,e,e.xf,c),e.loaded=!0,e.xf}var b={};return c.j=a,c.D=b,c.k="",c(0)}([function(a,c,b){c.gm=!0;var d=function(a){function c(a,b){a[b]=function(){var c=arguments;return a.ready().then(function(){return a[b].apply(a,
c)})}}function d(){for(var a=1;a<arguments.length;a++){var b=arguments[a];if(b)for(var c in b)b.hasOwnProperty(c)&&(p(b[c])?arguments[0][c]=b[c].slice():arguments[0][c]=b[c])}return arguments[0]}function f(a){for(var b in n)if(n.hasOwnProperty(b)&&n[b]===a)return!0;return!1}var m={},n={gk:"asyncStorage",hk:"localStorageWrapper",kk:"webSQLStorage"},h="clear getItem iterate key keys length removeItem setItem".split(" "),g={description:"",gj:[n.gk,n.kk,n.hk].slice(),name:"localforage",size:4980736,mb:"keyvaluepairs",
version:1},r=function(a){var b={},c;try{var d=d||a.indexedDB||a.webkitIndexedDB||a.mozIndexedDB||a.u||a.msIndexedDB;c="undefined"!=typeof a.openDatabase&&a.navigator&&a.navigator.userAgent&&/Safari/.test(a.navigator.userAgent)&&!/Chrome/.test(a.navigator.userAgent)?!1:d&&"function"==typeof d.open&&"undefined"!=typeof a.IDBKeyRange}catch(e){c=!1}b[n.gk]=!!c;var f;try{f=a.openDatabase}catch(g){f=!1}b[n.kk]=!!f;var k;try{k=a.localStorage&&"setItem"in a.localStorage&&a.localStorage.setItem}catch(h){k=
!1}return b[n.hk]=!!k,b}(a),p=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return new (function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.gk=n.gk;this.hk=n.hk;this.kk=n.kk;this.Qo=d({},g);this.Rh=d({},this.Qo,b);this.$r=this.sf=null;this.Qg=!1;this.jb=null;this.as();this.Pu(this.Rh.gj)}return a.prototype.xs=function(a){if("object"==typeof a){if(this.Qg)return Error("Can't call config() after localforage has been used.");
for(var b in a)"storeName"===b&&(a[b]=a[b].replace(/\W/g,"_")),this.Rh[b]=a[b];return"driver"in a&&a.gj&&this.Pu(this.Rh.gj),!0}return"string"==typeof a?this.Rh[a]:this.Rh},a.prototype.gj=function(){return this.lk||null},a.prototype.Rs=function(a,c,d){var e=this,g=function(){if(f(a))switch(a){case e.gk:return new Promise(function(a){a(b(1))});case e.hk:return new Promise(function(a){a(b(2))});case e.kk:return new Promise(function(a){a(b(4))})}else if(m[a])return Promise.resolve(m[a]);return Promise.reject(Error("Driver not found."))}();
return g.then(c,d),g},a.prototype.ready=function(a){var b=this,c=b.sf.then(function(){return null===b.Qg&&(b.Qg=b.$r()),b.Qg});return c.then(a,a),c},a.prototype.Pu=function(a,b,c){function d(){f.Rh.gj=f.gj()}function e(a){return function(){function b(){for(;c<a.length;){var e=a[c];return c++,f.jb=null,f.Qg=null,f.Rs(e).then(function(a){return f.Ox(a),d(),f.Qg=f.So(f.Rh),f.Qg})["catch"](b)}d();return f.sf=Promise.reject(Error("No available storage method found.")),f.sf}var c=0;return b()}}var f=this;
p(a)||(a=[a]);var g=this.Px(a);return this.sf=(null!==this.sf?this.sf["catch"](function(){return Promise.resolve()}):Promise.resolve()).then(function(){var a=g[0];return f.jb=null,f.Qg=null,f.Rs(a).then(function(a){f.lk=a.lk;d();f.as();f.$r=e(g)})})["catch"](function(){d();return f.sf=Promise.reject(Error("No available storage method found.")),f.sf}),this.sf.then(b,c),this.sf},a.prototype.supports=function(a){return!!r[a]},a.prototype.Ox=function(a){d(this,a)},a.prototype.Px=function(a){for(var b=
[],c=0,d=a.length;d>c;c++){var e=a[c];this.supports(e)&&b.push(e)}return b},a.prototype.as=function(){for(var a=0;a<h.length;a++)c(this,h[a])},a.prototype.Gm=function(b){return new a(b)},a}())}("undefined"!=typeof window?window:self);c["default"]=d;a.xf=c["default"]},function(a,c){c.gm=!0;c["default"]=function(a){function c(d,e){d=d||[];e=e||{};try{return new Blob(d,e)}catch(f){if("TypeError"!==f.name)throw f;for(var g=new (a.BlobBuilder||a.j||a.k||a.WebKitBlobBuilder),k=0;k<d.length;k+=1)g.append(d[k]);
return g.getBlob(e.type)}}function e(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a);d.withCredentials=!0;d.responseType="arraybuffer";d.onreadystatechange=function(){return 4===d.readyState?200===d.status?b({response:d.response,type:d.getResponseHeader("Content-Type")}):void c({status:d.status,response:d.response}):void 0};d.send()})}function k(a){return(new Promise(function(b,f){var g=c([""],{type:"image/png"}),k=a.transaction([z],"readwrite");k.objectStore(z).put(g,
"key");k.oncomplete=function(){var c=a.transaction([z],"readwrite").objectStore(z).get("key");c.onerror=f;c.onsuccess=function(a){var c=URL.createObjectURL(a.target.result);e(c).then(function(a){b(!(!a||"image/png"!==a.type))},function(){b(!1)}).then(function(){URL.revokeObjectURL(c)})}};k.onerror=k.onabort=f}))["catch"](function(){return!1})}function l(a){return"boolean"==typeof A?Promise.resolve(A):k(a).then(function(a){return A=a})}function f(a){return new Promise(function(b,c){var d=new FileReader;
d.onerror=c;d.onloadend=function(c){b({Zr:!0,data:btoa(c.target.result||""),type:a.type})};d.readAsBinaryString(a)})}function m(a){for(var b=atob(a.data),e=b.length,f=new ArrayBuffer(e),g=new Uint8Array(f),k=0;e>k;k++)g[k]=b.charCodeAt(k);return c([f],{type:a.type})}function n(a){var b=this,c=b.Ro().then(function(){var a=u[b.jb.name];return a&&a.ej?a.ej:void 0});return c.then(a,a),c}function h(a){a=u[a.name];var b={};b.promise=new Promise(function(a){b.resolve=a});a.Bs.push(b);a.ej?a.ej=a.ej.then(function(){return b.promise}):
a.ej=b.promise}function g(c){function d(){return Promise.resolve()}var e=this,f={db:null};if(c)for(var g in c)f[g]=c[g];u||(u={});var k=u[f.name];k||(k={bn:[],db:null,ej:null,Bs:[]},u[f.name]=k);k.bn.push(e);e.Ro||(e.Ro=e.ready,e.ready=n);c=[];for(g=0;g<k.bn.length;g++){var h=k.bn[g];h!==e&&c.push(h.Ro()["catch"](d))}var l=k.bn.slice(0);return Promise.all(c).then(function(){return f.db=k.db,r(f,!1)}).then(function(c){f.db=c;var d;d=e.Qo.version;if(f.db){var g=!f.db.objectStoreNames.contains(f.mb),
k=f.version>f.db.version;(f.version<f.db.version&&(f.version!==d&&a.console.warn('The database "'+f.name+"\" can't be downgraded from version "+f.db.version+" to version "+f.version+"."),f.version=f.db.version),k||g)?(g&&(d=f.db.version+1,d>f.version&&(f.version=d)),d=!0):d=!1}else d=!0;return d?r(f,!0):c}).then(function(a){f.db=k.db=a;e.jb=f;for(a=0;a<l.length;a++){var b=l[a];b!==e&&(b.jb.db=f.db,b.jb.version=f.version)}})}function r(c,d){return new Promise(function(e,f){if(c.db){if(!d)return e(c.db);
h(c);c.db.close()}var g=[c.name];d&&g.push(c.version);var k=C.open.apply(C,g);d&&(k.onupgradeneeded=function(d){var e=k.result;try{e.createObjectStore(c.mb),1>=d.oldVersion&&e.createObjectStore(z)}catch(f){if("ConstraintError"!==f.name)throw f;a.console.warn('The database "'+c.name+'" has been upgraded from version '+d.oldVersion+" to version "+d.newVersion+', but the storage "'+c.mb+'" already exists.')}});k.onerror=function(){f(k.error)};k.onsuccess=function(){e(k.result);var a=u[c.name].Bs.pop();
a&&a.resolve()}})}function p(c,d){var e=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var f=new Promise(function(a,b){e.ready().then(function(){var d=e.jb,f=d.db.transaction(d.mb,"readonly").objectStore(d.mb).get(c);f.onsuccess=function(){var b=f.result;void 0===b&&(b=null);b&&b.Zr&&(b=m(b));a(b)};f.onerror=function(){b(f.error)}})["catch"](b)});return D(f,d),f}function v(a,b){var c=this,d=new Promise(function(b,d){c.ready().then(function(){var e=
c.jb,f=e.db.transaction(e.mb,"readonly").objectStore(e.mb).openCursor(),g=1;f.onsuccess=function(){var c=f.result;if(c){var d=c.value;d&&d.Zr&&(d=m(d));d=a(d,c.key,g++);void 0!==d?b(d):c["continue"]()}else b()};f.onerror=function(){d(f.error)}})["catch"](d)});return D(d,b),d}function t(c,d,e){var g=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var k=new Promise(function(a,b){var e;g.ready().then(function(){return e=g.jb,d instanceof Blob?l(e.db).then(function(a){return a?
d:f(d)}):d}).then(function(d){var f=e.db.transaction(e.mb,"readwrite"),g=f.objectStore(e.mb);null===d&&(d=void 0);f.oncomplete=function(){void 0===d&&(d=null);a(d)};f.onabort=f.onerror=function(){b(k.error?k.error:k.transaction.error)};var k=g.put(d,c)})["catch"](b)});return D(k,e),k}function w(c,d){var e=this;"string"!=typeof c&&(a.console.warn(c+" used as a key, but it is not a string."),c=String(c));var f=new Promise(function(a,b){e.ready().then(function(){var d=e.jb,f=d.db.transaction(d.mb,"readwrite"),
g=f.objectStore(d.mb)["delete"](c);f.oncomplete=function(){a()};f.onerror=function(){b(g.error)};f.onabort=function(){b(g.error?g.error:g.transaction.error)}})["catch"](b)});return D(f,d),f}function q(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.jb,e=d.db.transaction(d.mb,"readwrite"),f=e.objectStore(d.mb).clear();e.oncomplete=function(){a()};e.onabort=e.onerror=function(){c(f.error?f.error:f.transaction.error)}})["catch"](c)});return D(c,a),c}function y(a){var b=this,
c=new Promise(function(a,c){b.ready().then(function(){var d=b.jb,e=d.db.transaction(d.mb,"readonly").objectStore(d.mb).count();e.onsuccess=function(){a(e.result)};e.onerror=function(){c(e.error)}})["catch"](c)});return D(c,a),c}function B(a,b){var c=this,d=new Promise(function(b,d){return 0>a?void b(null):void c.ready().then(function(){var e=c.jb,f=!1,g=e.db.transaction(e.mb,"readonly").objectStore(e.mb).openCursor();g.onsuccess=function(){var c=g.result;return c?void(0===a?b(c.key):f?b(c.key):(f=
!0,c.advance(a))):void b(null)};g.onerror=function(){d(g.error)}})["catch"](d)});return D(d,b),d}function F(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.jb,e=d.db.transaction(d.mb,"readonly").objectStore(d.mb).openCursor(),f=[];e.onsuccess=function(){var b=e.result;return b?(f.push(b.key),void b["continue"]()):void a(f)};e.onerror=function(){c(e.error)}})["catch"](c)});return D(c,a),c}function D(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var C=C||a.indexedDB||
a.webkitIndexedDB||a.mozIndexedDB||a.u||a.msIndexedDB;if(C){var A,u,z="local-forage-detect-blob-support";return{lk:"asyncStorage",So:g,ot:v,getItem:p,setItem:t,removeItem:w,clear:q,length:y,key:B,keys:F}}}("undefined"!=typeof window?window:self);a.xf=c["default"]},function(a,c,b){c.gm=!0;c["default"]=function(a){function c(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var k=null;try{if(!(a.localStorage&&"setItem"in a.localStorage))return;k=a.localStorage}catch(l){return}return{lk:"localStorageWrapper",
So:function(a){var c={};if(a)for(var d in a)c[d]=a[d];return c.Gf=c.name+"/",c.mb!==this.Qo.mb&&(c.Gf+=c.mb+"/"),this.jb=c,(new Promise(function(a){a(b(3))})).then(function(a){return c.Li=a,Promise.resolve()})},ot:function(a,b){var d=this,h=d.ready().then(function(){for(var b=d.jb,c=b.Gf,e=c.length,h=k.length,l=1,m=0;h>m;m++){var q=k.key(m);if(0===q.indexOf(c)){var y=k.getItem(q);if(y&&(y=b.Li.Om(y)),y=a(y,q.substring(e),l++),void 0!==y)return y}}});return c(h,b),h},getItem:function(b,l){var n=this;
"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var h=n.ready().then(function(){var a=n.jb,c=k.getItem(a.Gf+b);return c&&(c=a.Li.Om(c)),c});return c(h,l),h},setItem:function(b,l,n){var h=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var g=h.ready().then(function(){void 0===l&&(l=null);var a=l;return new Promise(function(c,d){var e=h.jb;e.Li.serialize(l,function(g,h){if(h)d(h);else try{k.setItem(e.Gf+
b,g),c(a)}catch(l){"QuotaExceededError"!==l.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==l.name||d(l),d(l)}})})});return c(g,n),g},removeItem:function(b,l){var n=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var h=n.ready().then(function(){k.removeItem(n.jb.Gf+b)});return c(h,l),h},clear:function(a){var b=this,d=b.ready().then(function(){for(var a=b.jb.Gf,c=k.length-1;0<=c;c--){var d=k.key(c);0===d.indexOf(a)&&k.removeItem(d)}});return c(d,a),d},length:function(a){var b=
this.keys().then(function(a){return a.length});return c(b,a),b},key:function(a,b){var d=this,h=d.ready().then(function(){var b,c=d.jb;try{b=k.key(a)}catch(e){b=null}return b&&(b=b.substring(c.Gf.length)),b});return c(h,b),h},keys:function(a){var b=this,d=b.ready().then(function(){for(var a=b.jb,c=k.length,d=[],e=0;c>e;e++)0===k.key(e).indexOf(a.Gf)&&d.push(k.key(e).substring(a.Gf.length));return d});return c(d,a),d}}}("undefined"!=typeof window?window:self);a.xf=c["default"]},function(a,c){c.gm=!0;
c["default"]=function(a){function c(a){var b,d,e,g,l;b=.75*a.length;var p=a.length,v=0;"="===a[a.length-1]&&(b--,"="===a[a.length-2]&&b--);var t=new ArrayBuffer(b),w=new Uint8Array(t);for(b=0;p>b;b+=4)d=k.indexOf(a[b]),e=k.indexOf(a[b+1]),g=k.indexOf(a[b+2]),l=k.indexOf(a[b+3]),w[v++]=d<<2|e>>4,w[v++]=(15&e)<<4|g>>2,w[v++]=(3&g)<<6|63&l;return t}function e(a){var b=new Uint8Array(a),c="";for(a=0;a<b.length;a+=3)c+=k[b[a]>>2],c+=k[(3&b[a])<<4|b[a+1]>>4],c+=k[(15&b[a+1])<<2|b[a+2]>>6],c+=k[63&b[a+2]];
return 2===b.length%3?c=c.substring(0,c.length-1)+"=":1===b.length%3&&(c=c.substring(0,c.length-2)+"=="),c}var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/^~~local_forage_type~([^~]+)~/;return{serialize:function(a,b){var c="";if(a&&(c=a.toString()),a&&("[object ArrayBuffer]"===a.toString()||a.buffer&&"[object ArrayBuffer]"===a.buffer.toString())){var d,g="__lfsc__:";a instanceof ArrayBuffer?(d=a,g+="arbf"):(d=a.buffer,"[object Int8Array]"===c?g+="si08":"[object Uint8Array]"===
c?g+="ui08":"[object Uint8ClampedArray]"===c?g+="uic8":"[object Int16Array]"===c?g+="si16":"[object Uint16Array]"===c?g+="ur16":"[object Int32Array]"===c?g+="si32":"[object Uint32Array]"===c?g+="ui32":"[object Float32Array]"===c?g+="fl32":"[object Float64Array]"===c?g+="fl64":b(Error("Failed to get type for BinaryArray")));b(g+e(d))}else if("[object Blob]"===c)c=new FileReader,c.onload=function(){var c="~~local_forage_type~"+a.type+"~"+e(this.result);b("__lfsc__:blob"+c)},c.readAsArrayBuffer(a);else try{b(JSON.stringify(a))}catch(k){console.error("Couldn't convert value into a JSON string: ",
a),b(null,k)}},Om:function(e){if("__lfsc__:"!==e.substring(0,9))return JSON.parse(e);var k,n=e.substring(13);e=e.substring(9,13);if("blob"===e&&l.test(n)){var h=n.match(l);k=h[1];n=n.substring(h[0].length)}n=c(n);switch(e){case "arbf":return n;case "blob":var g;n=[n];k={type:k};n=n||[];k=k||{};try{g=new Blob(n,k)}catch(r){if("TypeError"!==r.name)throw r;g=new (a.BlobBuilder||a.j||a.k||a.WebKitBlobBuilder);for(e=0;e<n.length;e+=1)g.append(n[e]);g=g.getBlob(k.type)}return g;case "si08":return new Int8Array(n);
case "ui08":return new Uint8Array(n);case "uic8":return new Uint8ClampedArray(n);case "si16":return new Int16Array(n);case "ur16":return new Uint16Array(n);case "si32":return new Int32Array(n);case "ui32":return new Uint32Array(n);case "fl32":return new Float32Array(n);case "fl64":return new Float64Array(n);default:throw Error("Unkown type: "+e);}},FD:c,lD:e}}("undefined"!=typeof window?window:self);a.xf=c["default"]},function(a,c,b){c.gm=!0;c["default"]=function(a){function c(a){var d=this,e={db:null};
if(a)for(var f in a)e[f]="string"!=typeof a[f]?a[f].toString():a[f];var g=new Promise(function(a,b){try{e.db=v(e.name,String(e.version),e.description,e.size)}catch(c){return b(c)}e.db.transaction(function(c){c.executeSql("CREATE TABLE IF NOT EXISTS "+e.mb+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){d.jb=e;a()},function(a,c){b(c)})})});return(new Promise(function(a){a(b(3))})).then(function(a){return e.Li=a,g})}function k(b,c){var e=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),
b=String(b));var f=new Promise(function(a,c){e.ready().then(function(){var d=e.jb;d.db.transaction(function(e){e.executeSql("SELECT * FROM "+d.mb+" WHERE key = ? LIMIT 1",[b],function(b,c){var e=c.rows.length?c.rows.item(0).value:null;e&&(e=d.Li.Om(e));a(e)},function(a,b){c(b)})})})["catch"](c)});return p(f,c),f}function l(a,b){var c=this,d=new Promise(function(b,d){c.ready().then(function(){var e=c.jb;e.db.transaction(function(c){c.executeSql("SELECT * FROM "+e.mb,[],function(c,d){for(var f=d.rows,
g=f.length,k=0;g>k;k++){var h=f.item(k),l=h.value;if(l&&(l=e.Li.Om(l)),l=a(l,h.key,k+1),void 0!==l)return void b(l)}b()},function(a,b){d(b)})})})["catch"](d)});return p(d,b),d}function f(b,c,e){var f=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var g=new Promise(function(a,d){f.ready().then(function(){void 0===c&&(c=null);var e=c,g=f.jb;g.Li.serialize(c,function(c,f){f?d(f):g.db.transaction(function(f){f.executeSql("INSERT OR REPLACE INTO "+g.mb+
" (key, value) VALUES (?, ?)",[b,c],function(){a(e)},function(a,b){d(b)})},function(a){a.code===a.QUOTA_ERR&&d(a)})})})["catch"](d)});return p(g,e),g}function m(b,c){var e=this;"string"!=typeof b&&(a.console.warn(b+" used as a key, but it is not a string."),b=String(b));var f=new Promise(function(a,c){e.ready().then(function(){var d=e.jb;d.db.transaction(function(e){e.executeSql("DELETE FROM "+d.mb+" WHERE key = ?",[b],function(){a()},function(a,b){c(b)})})})["catch"](c)});return p(f,c),f}function n(a){var b=
this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.jb;d.db.transaction(function(b){b.executeSql("DELETE FROM "+d.mb,[],function(){a()},function(a,b){c(b)})})})["catch"](c)});return p(c,a),c}function h(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.jb;d.db.transaction(function(b){b.executeSql("SELECT COUNT(key) as c FROM "+d.mb,[],function(b,c){var d=c.rows.item(0).D;a(d)},function(a,b){c(b)})})})["catch"](c)});return p(c,a),c}function g(a,b){var c=this,
d=new Promise(function(b,d){c.ready().then(function(){var e=c.jb;e.db.transaction(function(c){c.executeSql("SELECT key FROM "+e.mb+" WHERE id = ? LIMIT 1",[a+1],function(a,c){var d=c.rows.length?c.rows.item(0).key:null;b(d)},function(a,b){d(b)})})})["catch"](d)});return p(d,b),d}function r(a){var b=this,c=new Promise(function(a,c){b.ready().then(function(){var d=b.jb;d.db.transaction(function(b){b.executeSql("SELECT key FROM "+d.mb,[],function(b,c){for(var d=[],e=0;e<c.rows.length;e++)d.push(c.rows.item(e).key);
a(d)},function(a,b){c(b)})})})["catch"](c)});return p(c,a),c}function p(a,b){b&&a.then(function(a){b(null,a)},function(a){b(a)})}var v=a.openDatabase;if(v)return{lk:"webSQLStorage",So:c,ot:l,getItem:k,setItem:f,removeItem:m,clear:n,length:h,key:g,keys:r}}("undefined"!=typeof window?window:self);a.xf=c["default"]}])};"object"==typeof exports&&"object"==typeof module?module.xf=Ad():"function"==typeof define&&define.kD?define([],Ad):"object"==typeof exports?exports.localforage=Ad():this.localforage=
Ad()}catch(Bd){zd=!0}function Cd(a){this.c=a}
(function(){function a(){}function c(){}function b(){}var d="",e="",k="";"undefined"!==typeof window.is_scirra_arcade&&(k="sa"+window.scirra_arcade_id+"_");var l=Cd.prototype;l.Ab=function(a){this.tb=a;this.c=a.c};l.Ab.prototype.Qa=function(){};l.nb=function(a){this.type=a;this.c=a.c};var f=l.nb.prototype;f.Qa=function(){this.Iq=0};f.Nj=function(){};f.Mc=function(){return{}};f.sd=function(){};a.prototype.Ew=function(a){return d===a};a.prototype.uw=function(){return!0};a.prototype.Zl=function(){return!0};
a.prototype.Kr=function(a){return d===a};a.prototype.Lr=function(a){return d===a};a.prototype.qw=function(){return!0};l.K=new a;c.prototype.ix=function(a,b){if(zd)this.c.trigger(Cd.prototype.K.Zl,this);else{var c=k+a;this.Iq++;var f=this;localforage.setItem(c,b,function(b,c){f.Iq--;b?f.c.trigger(Cd.prototype.K.Zl,f):(d=a,e=c,f.c.trigger(Cd.prototype.K.uw,f),f.c.trigger(Cd.prototype.K.Ew,f),e=d="");0===f.Iq&&f.c.trigger(Cd.prototype.K.qw,f)})}};c.prototype.Ov=function(a){if(zd)this.c.trigger(Cd.prototype.K.Zl,
this);else{var b=this;localforage.getItem(k+a,function(c,f){c?b.c.trigger(Cd.prototype.K.Zl,b):(d=a,null===f?(e="",b.c.trigger(Cd.prototype.K.Lr,b)):(e=f,b.c.trigger(Cd.prototype.K.Kr,b)),e=d="")})}};l.ca=new c;b.prototype.lw=function(a){a.Vu(e)};l.xa=new b})();function Dd(a){this.c=a}
(function(){function a(){}function c(){}var b=Dd.prototype;b.Ab=function(a){this.tb=a;this.c=a.c};b.Ab.prototype.Qa=function(){};b.nb=function(a){this.type=a;this.c=a.c;this.aj=Array(4);this.sv=this.vo=this.Si=this.Ch=this.Bh=0;this.Hp=!1};var d=b.nb.prototype;d.Qa=function(){var a=this;if(!this.c.Bb){jQuery(document).mousemove(function(b){a.Bq(b)});jQuery(document).mousedown(function(b){a.Aq(b)});jQuery(document).mouseup(function(b){a.Cq(b)});jQuery(document).dblclick(function(b){a.ZA(b)});var b=
function(b){a.dB(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var e={left:0,top:0};d.Bq=function(a){var b=this.c.Bb?e:jQuery(this.c.canvas).offset();this.Bh=a.pageX-b.left;this.Ch=a.pageY-b.top};d.Vt=function(){return 0<this.c.zd?!0:0<=this.Bh&&0<=this.Ch&&this.Bh<this.c.width&&this.Ch<this.c.height};d.Aq=function(a){this.Vt()&&(this.aj[a.which]=!0,this.c.kc=!0,this.c.trigger(Dd.prototype.K.sw,this),this.Si=a.which-1,this.vo=0,this.c.trigger(Dd.prototype.K.Ir,
this),this.c.trigger(Dd.prototype.K.Sr,this),this.c.kc=!1)};d.Cq=function(a){this.aj[a.which]&&(this.c.mn&&!this.c.oi&&a.preventDefault(),this.c.mn=!0,this.aj[a.which]=!1,this.c.kc=!0,this.Si=a.which-1,this.c.trigger(Dd.prototype.K.Tr,this),this.c.kc=!1)};d.ZA=function(a){this.Vt()&&(a.preventDefault(),this.c.kc=!0,this.Si=a.which-1,this.vo=1,this.c.trigger(Dd.prototype.K.Ir,this),this.c.trigger(Dd.prototype.K.Sr,this),this.c.kc=!1)};d.dB=function(a){this.sv=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.Hp=!1;this.c.kc=!0;this.c.trigger(Dd.prototype.K.Uw,this);this.c.kc=!1;this.Hp&&Vb(a)&&a.preventDefault()};d.Ii=function(){var a,b;a=0;for(b=this.aj.length;a<b;++a)this.aj[a]&&(this.aj[a]=!1,this.Si=a-1,this.c.trigger(Dd.prototype.K.Tr,this))};a.prototype.Ir=function(a,b){return a===this.Si&&b===this.vo};a.prototype.sw=function(){return!0};a.prototype.Tr=function(a){return a===this.Si};a.prototype.Sr=function(a,b,c){return a!==this.Si||b!==this.vo?!1:this.c.Hl(c,this.Bh,this.Ch)};
a.prototype.Uw=function(a){this.Hp=!0;return a===this.sv};b.K=new a;b.ca=new function(){};c.prototype.em=function(a,b){var c,d,e,h,g;ia(b)?(c=this.c.Bf(0),d=c.scale,e=c.xd,h=c.Ld,g=c.M,c.scale=1,c.xd=1,c.Ld=1,c.M=0,a.fa(c.Xb(this.Bh,this.Ch,!0)),c.scale=d,c.xd=e,c.Ld=h,c.M=g):(c=ka(b)?this.c.Bf(b):this.c.nj(b))?a.fa(c.Xb(this.Bh,this.Ch,!0)):a.fa(0)};c.prototype.fm=function(a,b){var c,d,e,h,g;ia(b)?(c=this.c.Bf(0),d=c.scale,e=c.xd,h=c.Md,g=c.M,c.scale=1,c.xd=1,c.Md=1,c.M=0,a.fa(c.Xb(this.Bh,this.Ch,
!1)),c.scale=d,c.xd=e,c.Md=h,c.M=g):(c=ka(b)?this.c.Bf(b):this.c.nj(b))?a.fa(c.Xb(this.Bh,this.Ch,!1)):a.fa(0)};b.xa=new c})();function vd(a){this.c=a}
(function(){function a(){if(0===this.lp.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Vj?b.drawImage(this.wb,this.Lj,this.Mj,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.wb,0,0,this.width,this.height);this.lp=a.toDataURL("image/png")}return this.lp}function c(){}function b(a){a[0]=0;a[1]=0;a[2]=0;r.push(a)}function d(a,b){return a<b?""+a+","+b:""+b+","+a}function e(a,b,c,e){b=b.uid;c=c.uid;var f=d(b,c);if(a.hasOwnProperty(f))a[f][2]=
e;else{var g=r.length?r.pop():[0,0,0];g[0]=b;g[1]=c;g[2]=e;a[f]=g}}function k(a,c,e){c=d(c.uid,e.uid);a.hasOwnProperty(c)&&(b(a[c]),delete a[c])}function l(a,b,c){b=d(b.uid,c.uid);if(a.hasOwnProperty(b))return p=a[b][2],!0;p=-2;return!1}function f(){}var m=vd.prototype;m.Ab=function(a){this.tb=a;this.c=a.c};var n=m.Ab.prototype;n.Qa=function(){if(!this.ya){var b,c,d,e,f,g,k,h,l;this.Xe=[];this.Gk=!1;b=0;for(c=this.Ud.length;b<c;b++){f=this.Ud[b];k={};k.name=f[0];k.speed=f[1];k.loop=f[2];k.Uq=f[3];
k.Vq=f[4];k.vu=f[5];k.Wa=f[6];k.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],h={},h.jr=g[0],h.ov=g[1],h.Lj=g[2],h.Mj=g[3],h.width=g[4],h.height=g[5],h.duration=g[6],h.Hd=g[7],h.Id=g[8],h.Lp=g[9],h.Tn=g[10],h.wu=g[11],h.Vj=0!==h.width,h.lp="",h.pD=a,l={left:0,top:0,right:1,bottom:1},h.er=l,h.Ub=null,(l=this.c.Jz(g[0]))?h.wb=l:(h.wb=new Image,h.wb.qy=g[0],h.wb.oy=g[1],h.wb.ey=null,this.c.Gv(h.wb,g[0])),k.frames.push(h),this.Xe.push(h);this.Ud[b]=k}}};n.Bv=function(){var a,b,c;a=0;for(b=this.F.length;a<
b;a++)c=this.F[a],c.Im=c.Tc.Ub};n.zq=function(){if(!this.ya){var a,b,c;a=0;for(b=this.Xe.length;a<b;++a)c=this.Xe[a],c.wb.ey=null,c.Ub=null;this.Gk=!1;this.Bv()}};n.Dq=function(){if(!this.ya&&this.F.length){var a,b,c;a=0;for(b=this.Xe.length;a<b;++a)c=this.Xe[a],c.Ub=this.c.ma.En(c.wb,this.c.Mb,c.wu);this.Bv()}};n.PA=function(){if(!this.ya&&!this.Gk&&this.c.ma){var a,b,c;a=0;for(b=this.Xe.length;a<b;++a)c=this.Xe[a],c.Ub=this.c.ma.En(c.wb,this.c.Mb,c.wu);this.Gk=!0}};n.tr=function(){if(!this.ya&&
!this.F.length&&this.Gk){var a,b,c;a=0;for(b=this.Xe.length;a<b;++a)c=this.Xe[a],this.c.ma.deleteTexture(c.Ub),c.Ub=null;this.Gk=!1}};var h=[];n.Lq=function(a){var b,c,d;I(h);b=0;for(c=this.Xe.length;b<c;++b)d=this.Xe[b].wb,-1===h.indexOf(d)&&(a.drawImage(d,0,0),h.push(d))};m.nb=function(a){this.type=a;this.c=a.c;a=this.type.Ud[0].frames[0].Tn;this.ue?this.Sa.Al(a):this.Sa=new Cb(a)};var g=m.nb.prototype;g.Qa=function(){this.visible=0===this.ea[0];this.Hk=this.qi=!1;this.bg=0!==this.ea[3];this.rb=
this.Os(this.ea[1])||this.type.Ud[0];this.la=this.ea[2];0>this.la&&(this.la=0);this.la>=this.rb.frames.length&&(this.la=this.rb.frames.length-1);var a=this.rb.frames[this.la];this.Sa.Al(a.Tn);this.Hd=a.Hd;this.Id=a.Id;this.gh=this.rb.speed;this.fh=this.rb.Vq;1===this.type.Ud.length&&1===this.type.Ud[0].frames.length||0===this.gh||(this.c.Kl(this),this.qi=!0);this.ue?this.Ye.reset():this.Ye=new zb;this.zf=this.Ye.Aa;this.Vg=!0;this.Zf=0;this.Ug=!0;this.bj=this.js="";this.ts=0;this.qk=-1;this.type.PA();
var b,c,d,e,f,g,k,a=0;for(b=this.type.Ud.length;a<b;a++)for(e=this.type.Ud[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.wb.width,f.height=f.wb.height),f.Vj&&(k=f.wb,g=f.er,g.left=f.Lj/k.width,g.top=f.Mj/k.height,g.right=(f.Lj+f.width)/k.width,g.bottom=(f.Mj+f.height)/k.height,0===f.Lj&&0===f.Mj&&f.width===k.width&&f.height===k.height&&(f.Vj=!1));this.Tc=this.rb.frames[this.la];this.Im=this.Tc.Ub};g.Mc=function(){var a={a:this.rb.Wa,f:this.la,cas:this.gh,fs:this.zf,ar:this.Zf,
at:this.Ye.Aa,rt:this.fh};this.Vg||(a.ap=this.Vg);this.Ug||(a.af=this.Ug);return a};g.sd=function(a){var b=this.Nz(a.a);b&&(this.rb=b);this.la=a.f;0>this.la&&(this.la=0);this.la>=this.rb.frames.length&&(this.la=this.rb.frames.length-1);this.gh=a.cas;this.zf=a.fs;this.Zf=a.ar;this.Ye.reset();this.Ye.Aa=a.at;this.Vg=a.hasOwnProperty("ap")?a.ap:!0;this.Ug=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.fh=a.rt:this.fh=this.rb.Vq;this.Tc=this.rb.frames[this.la];this.Im=this.Tc.Ub;this.Sa.Al(this.Tc.Tn);
this.Hd=this.Tc.Hd;this.Id=this.Tc.Id};g.Xo=function(a){this.la=a?0:this.rb.frames.length-1;this.Vg=!1;this.js=this.rb.name;this.Hk=!0;this.c.trigger(vd.prototype.K.Gr,this);this.c.trigger(vd.prototype.K.rw,this);this.Hk=!1;this.Zf=0};g.j=function(){return this.Ye.Aa};g.Bc=function(){this.Ye.add(this.c.fi(this));this.bj.length&&this.Cs();0<=this.qk&&this.op();var a=this.Ye.Aa,b=this.rb,c=b.frames[this.la],d=c.duration/this.gh;this.Vg&&a>=this.zf+d&&(this.Ug?this.la++:this.la--,this.zf+=d,this.la>=
b.frames.length&&(b.vu?(this.Ug=!1,this.la=b.frames.length-2):b.loop?this.la=this.fh:(this.Zf++,this.Zf>=b.Uq?this.Xo(!1):this.la=this.fh)),0>this.la&&(b.vu?(this.la=1,this.Ug=!0,b.loop||(this.Zf++,this.Zf>=b.Uq&&this.Xo(!0))):b.loop?this.la=this.fh:(this.Zf++,this.Zf>=b.Uq?this.Xo(!0):this.la=this.fh)),0>this.la?this.la=0:this.la>=b.frames.length&&(this.la=b.frames.length-1),a>this.zf+b.frames[this.la].duration/this.gh&&(this.zf=a),a=b.frames[this.la],this.Xi(c,a),this.c.Ua=!0)};g.Os=function(a){var b,
c,d;b=0;for(c=this.type.Ud.length;b<c;b++)if(d=this.type.Ud[b],Ub(d.name,a))return d;return null};g.Nz=function(a){var b,c,d;b=0;for(c=this.type.Ud.length;b<c;b++)if(d=this.type.Ud[b],d.Wa===a)return d;return null};g.Cs=function(){var a=this.rb.frames[this.la],b=this.Os(this.bj);this.bj="";!b||Ub(b.name,this.rb.name)&&this.Vg||(this.rb=b,this.gh=b.speed,this.fh=b.Vq,0>this.la&&(this.la=0),this.la>=this.rb.frames.length&&(this.la=this.rb.frames.length-1),1===this.ts&&(this.la=0),this.Vg=!0,this.zf=
this.Ye.Aa,this.Ug=!0,this.Xi(a,this.rb.frames[this.la]),this.c.Ua=!0)};g.op=function(){var a=this.rb.frames[this.la],b=this.la;this.la=ua(this.qk);0>this.la&&(this.la=0);this.la>=this.rb.frames.length&&(this.la=this.rb.frames.length-1);b!==this.la&&(this.Xi(a,this.rb.frames[this.la]),this.zf=this.Ye.Aa,this.c.Ua=!0);this.qk=-1};g.Xi=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.Hd=b.Hd;this.Id=b.Id;this.Sa.Al(b.Tn);this.Ia();this.Tc=
b;this.Im=b.Ub;c=0;for(d=this.Da.length;c<d;c++)e=this.Da[c],e.iu&&e.iu(a,b);this.c.trigger(vd.prototype.K.Xi,this)};g.ih=function(a){a.globalAlpha=this.opacity;var b=this.Tc,c=b.Vj,d=b.wb,e=this.x,f=this.y,g=this.width,k=this.height;if(0===this.M&&0<=g&&0<=k)e-=this.Hd*g,f-=this.Id*k,this.c.tg&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Lj,b.Mj,b.width,b.height,e,f,g,k):a.drawImage(d,e,f,g,k);else{this.c.tg&&(e=Math.round(e),f=Math.round(f));a.save();var h=0<g?1:-1,l=0<k?1:-1;a.translate(e,
f);1===h&&1===l||a.scale(h,l);a.rotate(this.M*h*l);e=0-this.Hd*qa(g);f=0-this.Id*qa(k);c?a.drawImage(d,b.Lj,b.Mj,b.width,b.height,e,f,qa(g),qa(k)):a.drawImage(d,e,f,qa(g),qa(k));a.restore()}};g.fj=function(a){this.He(a)};g.He=function(a){a.we(this.Im);a.Sj(this.opacity);var b=this.Tc,c=this.Eb;if(this.c.tg){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Vj?a.Eh(c.pc+d,c.qc+e,c.dd+d,c.ed+e,c.Rc+d,c.Sc+e,c.Pc+d,c.Qc+e,b.er):a.sl(c.pc+d,c.qc+e,c.dd+d,c.ed+e,c.Rc+d,c.Sc+e,c.Pc+d,c.Qc+e)}else b.Vj?
a.Eh(c.pc,c.qc,c.dd,c.ed,c.Rc,c.Sc,c.Pc,c.Qc,b.er):a.sl(c.pc,c.qc,c.dd,c.ed,c.Rc,c.Sc,c.Pc,c.Qc)};g.Sz=function(a){var b=this.Tc,c,d;c=0;for(d=b.Lp.length;c<d;c++)if(Ub(a,b.Lp[c][0]))return c;return-1};g.Ie=function(a,b){var c=this.Tc,d=c.Lp,e;ma(a)?e=this.Sz(a):e=a-1;e=ua(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.Hd)*this.width,d=d[e][2],d=(d-c.Id)*this.height,c=Math.cos(this.M);e=Math.sin(this.M);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var r=[],p=-2,v=[];
c.prototype.xw=function(a){if(!a)return!1;var c=this.c,d=c.jn(),f=d.type,g=null;d.ga.collmemory?g=d.ga.collmemory:(g={},d.ga.collmemory=g);d.ga.spriteCreatedDestroyCallback||(d.ga.spriteCreatedDestroyCallback=!0,c.Uo(function(a){var c=d.ga.collmemory;a=a.uid;var e,f;for(e in c)c.hasOwnProperty(e)&&(f=c[e],f[0]===a||f[1]===a)&&(b(c[e]),delete c[e])}));var h=f.Oa(),m=a.Oa(),h=h.Xd(),n,r,t,w,N,L,P,G=this.c.Rf,V=G-1,O=c.uc().Vc;for(r=0;r<h.length;r++){t=h[r];m.Va?(t.gb(),this.c.Ps(t.V,a,t.Wb,v),n=v,this.c.Ux(t,
a,n)):n=m.Xd();for(w=0;w<n.length;w++)N=n[w],c.Oi(t,N)||c.iy(t,N)?(L=l(g,t,N),L=!L||p<V,e(g,t,N,G),L&&(c.Yn(O.ub),L=f.Oa(),P=a.Oa(),L.Va=!1,P.Va=!1,f===a?(L.F.length=2,L.F[0]=t,L.F[1]=N,f.Be()):(L.F.length=1,P.F.length=1,L.F[0]=t,P.F[0]=N,f.Be(),a.Be()),O.EB(),c.Ji(O.ub))):k(g,t,N);I(v)}return!1};var t=new ca,w=!1;new xa(0,0,0,0);n.finish=function(a){if(w){if(a){var b=this.c.uc().Vc.Oe;a=null.Oa();var c=t.Uf(),d,e;if(a.Va){a.Va=!1;I(a.F);d=0;for(e=c.length;d<e;++d)a.F[d]=c[d];if(b)for(I(a.Xa),d=0,
e=null.F.length;d<e;++d)c=null.F[d],t.contains(c)||a.Xa.push(c)}else if(b)for(b=a.F.length,d=0,e=c.length;d<e;++d)a.F[b+d]=c[d],Ja(a.Xa,c[d]);else Ea(a.F,c);null.Be()}t.clear();w=!1}};c.prototype.ew=function(a){return this.bj.length?Ub(this.bj,a):Ub(this.rb.name,a)};c.prototype.Uv=function(a,b){return ad(this.la,a,b)};c.prototype.Tv=function(a,b){return ad(this.Ug?this.gh:-this.gh,a,b)};c.prototype.rw=function(a){return Ub(this.js,a)};c.prototype.Gr=function(){return!0};c.prototype.Xi=function(){return!0};
m.K=new c;f.prototype.Ax=function(a,b,c){if(a&&b&&(b=this.c.Gm(a,b,this.Ie(c,!0),this.Ie(c,!1)))){"undefined"!==typeof b.M&&(b.M=this.M,b.Ia());this.c.oe++;var d,e,f;this.c.trigger(Object.getPrototypeOf(a.tb).K.Ph,b);if(b.rd)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.c.trigger(Object.getPrototypeOf(f.type.tb).K.Ph,f);this.c.oe--;d=this.c.Pz();c=!1;if(ia(d.ga.Spawn_LastExec)||d.ga.Spawn_LastExec<this.c.ei)c=!0,d.ga.Spawn_LastExec=this.c.ei;if(a!=this.type&&(a=a.Oa(),a.Va=!1,c?(I(a.F),
a.F[0]=b):a.F.push(b),b.rd))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.Oa(),a.Va=!1,c?(I(a.F),a.F[0]=f):a.F.push(f)}};f.prototype.Cx=function(a){this.Vg=!0;this.zf=this.Ye.Aa;1===a&&0!==this.la&&(this.qk=0,this.Hk||this.op());this.qi||(this.c.Kl(this),this.qi=!0)};f.prototype.Zw=function(a,b){this.bj=a;this.ts=b;this.qi||(this.c.Kl(this),this.qi=!0);this.Hk||this.Cs()};f.prototype.$w=function(a){this.qk=a;this.qi||(this.c.Kl(this),this.qi=!0);this.Hk||this.op()};m.ca=new f;m.xa=
new function(){}})();function Ed(a){this.c=a}
(function(){function a(a,b){return a.length?a.pop():new b}function c(a,b,c){if(c){var d;c=0;for(d=b.length;c<d;c++)a.length<l&&a.push(b[c]);I(b)}else for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a.length<l&&a.push(b[d]),delete b[d])}function b(b,c,d){var e=b.Ai;d=d.replace(/\s\s*$/,"");c>=e.length&&e.push(a(f,Object));c=e[c];c.text=d;c.width=b.qq(d);b.Yj=ra(b.Yj,c.width)}function d(){}var e=Ed.prototype;e.Qa=function(){};e.Ab=function(a){this.tb=a;this.c=a.c};var k=e.Ab.prototype;k.Qa=function(){this.ya||
(this.wb=new Image,this.c.Gv(this.wb,this.jr),this.Ub=null)};k.zq=function(){this.ya||(this.Ub=null)};k.Dq=function(){if(!this.ya&&this.F.length){this.Ub||(this.Ub=this.c.ma.En(this.wb,this.c.Mb,this.kr));var a,b;a=0;for(b=this.F.length;a<b;a++)this.F[a].Ub=this.Ub}};k.tr=function(){this.ya||this.F.length||!this.Ub||(this.c.ma.deleteTexture(this.Ub),this.Ub=null)};k.Lq=function(a){a.drawImage(this.wb,0,0)};e.nb=function(a){this.type=a;this.c=a.c};k=e.nb.prototype;k.Nj=function(){c(f,this.Ai,!0);c(m,
this.Am,!1);c(n,this.Bm,!1);lb(this.ah)};k.Qa=function(){this.wb=this.type.wb;this.zm=this.ea[0];this.Zg=this.ea[1];this.characterSet=this.ea[2];this.text=this.ea[3];this.$g=this.ea[4];this.visible=0===this.ea[5];this.nn=this.ea[6]/2;this.Bo=this.ea[7]/2;this.qC=0===this.ea[9];this.cj=this.ea[10];this.lineHeight=this.ea[11];this.Qi=this.Yj=0;this.ue?(I(this.Ai),lb(this.Am),lb(this.Bm),lb(this.ah)):(this.Ai=[],this.Am={},this.Bm={},this.ah={});this.Jl=!0;this.gq=this.width;this.c.ma&&(this.type.Ub||
(this.type.Ub=this.c.ma.En(this.type.wb,this.c.Mb,this.type.kr)),this.Ub=this.type.Ub);this.Bx()};k.Mc=function(){var a={t:this.text,csc:this.$g,csp:this.cj,lh:this.lineHeight,tw:this.Yj,th:this.Qi,lrt:this.IA,ha:this.nn,va:this.Bo,cw:{}},b;for(b in this.ah)a.cw[b]=this.ah[b];return a};k.sd=function(a){this.text=a.t;this.$g=a.csc;this.cj=a.csp;this.lineHeight=a.lh;this.Yj=a.tw;this.Qi=a.th;this.IA=a.lrt;a.hasOwnProperty("ha")&&(this.nn=a.ha);a.hasOwnProperty("va")&&(this.Bo=a.va);for(var b in a.cw)this.ah[b]=
a.cw[b];this.Jl=!0;this.gq=this.width};var l=1E3,f=[],m=[],n=[];k.Bx=function(){for(var b=this.wb,c=b.width,d=b.height,b=this.zm,e=this.Zg,f=b/c,g=e/d,k=this.characterSet,c=Math.floor(c/b),d=Math.floor(d/e),h=0;h<k.length&&!(h>=c*d);h++){var l=h%c,D=Math.floor(h/c),C=k.charAt(h);if(this.c.ma){var A=this.Bm,u=l*f,z=D*g,l=(l+1)*f,D=(D+1)*g;void 0===A[C]&&(A[C]=a(n,xa));A[C].left=u;A[C].top=z;A[C].right=l;A[C].bottom=D}else A=this.Am,l=l*b,D=D*e,u=b,z=e,void 0===A[C]&&(A[C]=a(m,Object)),A[C].x=l,A[C].y=
D,A[C].gc=u,A[C].Vs=z}};var h=[];e.Gx=function(a){I(h);for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(h.push(b),b=""),h.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));h.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&h.push(b)};e.Mx=function(b){var d=b.text,e=b.Ai;if(d&&d.length){var g=b.width;if(2>=g)c(f,e,!0);else{var k=b.$g,h=b.cj;if(d.length*(b.zm*k+h)-h<=g&&-1===d.indexOf("\n")&&(h=b.qq(d),
h<=g)){c(f,e,!0);e.push(a(f,Object));e[0].text=d;e[0].width=h;b.Yj=h;b.Qi=b.Zg*k+b.lineHeight;return}this.Nx(b);b.Qi=e.length*(b.Zg*k+b.lineHeight)}}else c(f,e,!0)};e.Nx=function(a){var c=a.qC,d=a.text,e=a.Ai,g=a.width;c&&(this.Gx(d),d=h);var k="",m,n,F,D=0,C=!1;for(F=0;F<d.length;F++)"\n"===d[F]?(!0===C?C=!1:(b(a,D,k),D++),k=""):(C=!1,m=k,k+=d[F],n=a.qq(k.replace(/\s\s*$/,"")),n>g&&(""===m?(b(a,D,k),k="",C=!0):(b(a,D,m),k=d[F]),D++,c||" "!==k||(k="")));k.replace(/\s\s*$/,"").length&&(b(a,D,k),D++);
for(F=D;F<e.length;F++)f.length<l&&f.push(e[F]);e.length=D};k.qq=function(a){for(var b=this.cj,c=a.length,d=0,e=0;e<c;e++)d+=this.yp(a.charAt(e))*this.$g+b;return d-(0<d?b:0)};k.yp=function(a){var b=this.ah;return void 0!==b[a]?b[a]:this.zm};k.Eu=function(){if(this.Jl||this.width!==this.gq)this.Qi=this.Yj=0,this.type.tb.Mx(this),this.Jl=!1,this.gq=this.width};k.ih=function(a){var b=this.wb;if(""!==this.text&&null!=b&&(this.Eu(),!(this.height<this.Zg*this.$g+this.lineHeight))){a.globalAlpha=this.opacity;
var b=this.x,c=this.y;this.c.tg&&(b=Math.round(b),c=Math.round(c));var d=this.V.ob,e=this.V.pb,f=this.V.zb,g=this.V.yb;a.save();a.translate(b,c);a.rotate(this.M);for(var k=this.M,h=this.nn,l=this.$g,m=this.Zg*l,n=this.lineHeight,u=this.cj,z=this.Ai,J,S=-(this.Hd*this.width),N=-(this.Id*this.height),N=N+this.Bo*ra(0,this.height-this.Qi),L,P,G,V=0;V<z.length;V++){var O=z[V].text;J=h*ra(0,this.width-z[V].width);L=S+J;N+=n;if(0===k&&c+N+m<e)N+=m;else{for(var Q=0;Q<O.length;Q++){P=O.charAt(Q);J=this.yp(P);
var K=this.Am[P];if(0===k&&b+L+J*l+u<d)L+=J*l+u;else{if(L+J*l>this.width+1E-5)break;void 0!==K&&(P=L,G=N,0===k&&1===l&&(P=Math.round(P),G=Math.round(G)),a.drawImage(this.wb,K.x,K.y,K.gc,K.Vs,P,G,K.gc*l,K.Vs*l));L+=J*l+u;if(0===k&&b+L>f)break}}N+=m;if(0===k&&(N+m+n>this.height||c+N>g))break}}a.restore()}};var g=new za;k.He=function(a){a.we(this.Ub);a.Sj(this.opacity);if(this.text&&(this.Eu(),!(this.height<this.Zg*this.$g+this.lineHeight))){this.gb();var b=this.Eb,c=0,d=0;this.c.tg&&(c=Math.round(this.x)-
this.x,d=Math.round(this.y)-this.y);var e=this.V.ob,f=this.V.pb,k=this.V.zb,h=this.V.yb,l=this.M,m=this.nn,n=this.Bo,A=this.$g,u=this.Zg*A,z=this.lineHeight,J=this.cj,S=this.Ai,N=this.Qi,L,P,G;0!==l&&(P=Math.cos(l),G=Math.sin(l));for(var c=b.pc+c,b=b.qc+d,V,n=n*ra(0,this.height-N),O,Q,N=0;N<S.length;N++)if(d=S[N].text,V=L=m*ra(0,this.width-S[N].width),n+=z,0===l&&b+n+u<f)n+=u;else{for(var K=0;K<d.length;K++){var E=d.charAt(K);L=this.yp(E);E=this.Bm[E];if(0===l&&c+V+L*A+J<e)V+=L*A+J;else{if(V+L*A>
this.width+1E-5)break;if(void 0!==E){var T=this.zm*A,H=this.Zg*A;O=V;Q=n;0===l&&1===A&&(O=Math.round(O),Q=Math.round(Q));g.pc=O;g.qc=Q;g.dd=O+T;g.ed=Q;g.Pc=O;g.Qc=Q+H;g.Rc=O+T;g.Sc=Q+H;0!==l&&(O=g,Q=P,T=G,H=void 0,H=O.pc*Q-O.qc*T,O.qc=O.qc*Q+O.pc*T,O.pc=H,H=O.dd*Q-O.ed*T,O.ed=O.ed*Q+O.dd*T,O.dd=H,H=O.Pc*Q-O.Qc*T,O.Qc=O.Qc*Q+O.Pc*T,O.Pc=H,H=O.Rc*Q-O.Sc*T,O.Sc=O.Sc*Q+O.Rc*T,O.Rc=H);g.offset(c,b);a.Eh(g.pc,g.qc,g.dd,g.ed,g.Rc,g.Sc,g.Pc,g.Qc,E)}V+=L*A+J;if(0===l&&c+V>k)break}}n+=u;if(0===l&&(n+u+z>this.height||
b+n>h))break}}};e.K=new function(){};d.prototype.ox=function(a){ka(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Jl=!0,this.c.Ua=!0)};k.j=function(a,b){var c=parseInt(b,10);this.ah[a]!==c&&(this.ah[a]=c,this.Jl=!0,this.c.Ua=!0)};e.ca=new d;e.xa=new function(){}})();function Fd(a){this.c=a}
(function(){function a(a){n=a.x;h=a.y;g=a.z}function c(a,c,d,e){var f;f=r.length?r.pop():new b;f.init(a,c,d,e);return f}function b(){this.El=this.id=this.yi=this.xi=this.y=this.x=this.po=this.oo=this.fq=this.time=this.hr=0;this.Ll=this.wo=!1}function d(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function e(){}function k(){}var l=Fd.prototype;l.Ab=function(a){this.tb=
a;this.c=a.c};l.Ab.prototype.Qa=function(){};l.nb=function(a){this.type=a;this.c=a.c;this.touches=[];this.rq=!1};var f=l.nb.prototype,m={left:0,top:0};f.Ak=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var n=0,h=0,g=0,r=[];b.prototype.init=function(a,b,c,d){var e=sb();this.hr=this.fq=this.time=e;this.oo=a;this.po=b;this.x=a;this.y=b;this.xi=a;this.yi=b;this.pressure=this.height=this.width=0;this.id=c;this.El=d;this.Ll=this.wo=!1};b.prototype.update=
function(a,b,c,d,e,f){this.fq=this.time;this.time=a;this.xi=this.x;this.yi=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Ll&&15<=gb(this.oo,this.po,this.x,this.y)&&(this.Ll=!0)};b.prototype.TA=function(a,b){!this.wo&&500<=sb()-this.hr&&!this.Ll&&15>gb(this.oo,this.po,this.x,this.y)&&(this.wo=!0,a.Tf=this.El,a.Zj=this.id,a.oj=b,a.c.trigger(Fd.prototype.K.Cw,a),a.eg=this.x,a.fg=this.y,a.c.trigger(Fd.prototype.K.Dw,a),a.oj=0)};var p=-1E3,v=-1E3,t=-1E4;b.prototype.Tt=function(a,
b){if(!this.wo){var c=sb();333>=c-this.hr&&!this.Ll&&15>gb(this.oo,this.po,this.x,this.y)&&(a.Tf=this.El,a.Zj=this.id,a.oj=b,666>=c-t&&25>gb(p,v,this.x,this.y)?(a.c.trigger(Fd.prototype.K.yw,a),a.eg=this.x,a.fg=this.y,a.c.trigger(Fd.prototype.K.zw,a),v=p=-1E3,t=-1E4):(a.c.trigger(Fd.prototype.K.Qw,a),a.eg=this.x,a.fg=this.y,a.c.trigger(Fd.prototype.K.Rw,a),p=this.x,v=this.y,t=c),a.oj=0)}};f.Qa=function(){this.EA=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.oj=this.Zj=this.Tf=
this.fg=this.eg=this.ds=this.cs=this.bs=this.Sx=this.Rx=this.Qx=this.Qn=this.Pn=this.On=0;this.jC=0!==this.ea[0];var b=0<this.c.zd?document:this.c.canvas,c=document;this.c.Zc?c=b=window.Canvas:this.c.Yd&&(c=b=window);var d=this;"undefined"!==typeof PointerEvent?(b.addEventListener("pointerdown",function(a){d.hu(a)},!1),b.addEventListener("pointermove",function(a){d.gu(a)},!1),c.addEventListener("pointerup",function(a){d.Nn(a,!1)},!1),c.addEventListener("pointercancel",function(a){d.Nn(a,!0)},!1),
this.c.canvas&&(this.c.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.c.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){d.hu(a)},!1),b.addEventListener("MSPointerMove",function(a){d.gu(a)},!1),c.addEventListener("MSPointerUp",
function(a){d.Nn(a,!1)},!1),c.addEventListener("MSPointerCancel",function(a){d.Nn(a,!0)},!1),this.c.canvas&&(this.c.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",function(a){d.ku(a)},!1),b.addEventListener("touchmove",function(a){d.ju(a)},!1),c.addEventListener("touchend",function(a){d.Eq(a,!1)},!1),c.addEventListener("touchcancel",function(a){d.Eq(a,!0)},
!1));if(this.EA){var e=function(a){a=a.reading;d.bs=a.accelerationX;d.cs=a.accelerationY;d.ds=a.accelerationZ},f=function(a){a=a.reading;d.On=a.yawDegrees;d.Pn=a.pitchDegrees;d.Qn=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),k&&k.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),k&&k.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){d.On=a.alpha||0;d.Pn=a.beta||0;d.Qn=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(d.Qx=a.accelerationIncludingGravity.x||0,d.Rx=a.accelerationIncludingGravity.y||
0,d.Sx=a.accelerationIncludingGravity.z||0);a.acceleration&&(d.bs=a.acceleration.x||0,d.cs=a.acceleration.y||0,d.ds=a.acceleration.z||0)},!1);this.jC&&!this.c.Bb&&(jQuery(document).mousemove(function(a){d.Bq(a)}),jQuery(document).mousedown(function(a){d.Aq(a)}),jQuery(document).mouseup(function(a){d.Cq(a)}));!this.c.xj&&this.c.Zd&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(a,null,{frequency:40});this.c.aC(this)};f.gu=function(a){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Ak(a.pointerId),c=sb();if(0<=b){var d=this.c.Bb?m:jQuery(this.c.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,a.width||0,a.height||0,a.pressure||0)}}};f.hu=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Vb(a)&&a.preventDefault();var b=this.c.Bb?m:jQuery(this.c.canvas).offset(),d=a.pageX-b.left,b=a.pageY-b.top;sb();
this.Tf=this.touches.length;this.Zj=a.pointerId;this.touches.push(c(d,b,a.pointerId,this.Tf));this.c.kc=!0;this.c.trigger(Fd.prototype.K.Rr,this);this.c.trigger(Fd.prototype.K.Lo,this);this.eg=d;this.fg=b;this.c.trigger(Fd.prototype.K.Ko,this);this.c.kc=!1}};f.Nn=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&Vb(a)&&a.preventDefault();var c=this.Ak(a.pointerId);this.Tf=0<=c?this.touches[c].El:-1;this.Zj=0<=c?this.touches[c].id:-1;this.c.kc=!0;this.c.trigger(Fd.prototype.K.Qr,
this);this.c.trigger(Fd.prototype.K.Vr,this);0<=c&&(b||this.touches[c].Tt(this,c),100>r.length&&r.push(this.touches[c]),this.touches.splice(c,1));this.c.kc=!1}};f.ju=function(a){a.preventDefault&&a.preventDefault();var b=sb(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Ak(e.identifier),0<=f){var g=this.c.Bb?m:jQuery(this.c.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-g.left,e.pageY-g.top,2*(e.CD||e.KD||e.uD||e.xD||0),2*(e.DD||e.LD||e.vD||
e.yD||0),e.mD||e.JD||e.tD||e.wD||0)}};f.ku=function(a){a.preventDefault&&Vb(a)&&a.preventDefault();var b=this.c.Bb?m:jQuery(this.c.canvas).offset();sb();this.c.kc=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.Ak(f.identifier),-1===g){g=f.pageX-b.left;var k=f.pageY-b.top;this.Tf=this.touches.length;this.Zj=f.identifier;this.touches.push(c(g,k,f.identifier,this.Tf));this.c.trigger(Fd.prototype.K.Rr,this);this.c.trigger(Fd.prototype.K.Lo,this);this.eg=g;this.fg=
k;this.c.trigger(Fd.prototype.K.Ko,this)}this.c.kc=!1};f.Eq=function(a,b){a.preventDefault&&Vb(a)&&a.preventDefault();this.c.kc=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Ak(e.identifier),0<=e&&(this.Tf=this.touches[e].El,this.Zj=this.touches[e].id,this.c.trigger(Fd.prototype.K.Qr,this),this.c.trigger(Fd.prototype.K.Vr,this),b||this.touches[e].Tt(this,e),100>r.length&&r.push(this.touches[e]),this.touches.splice(e,1));this.c.kc=!1};f.j=function(){return this.c.Zd&&
0===this.On&&0!==g?90*g:this.On};f.k=function(){return this.c.Zd&&0===this.Pn&&0!==h?90*h:this.Pn};f.u=function(){return this.c.Zd&&0===this.Qn&&0!==n?90*n:this.Qn};f.Aq=function(a){d(a)||(this.ku({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.rq=!0)};f.Bq=function(a){this.rq&&!d(a)&&this.ju({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};f.Cq=function(a){a.preventDefault&&this.c.mn&&!this.c.oi&&a.preventDefault();this.c.mn=!0;d(a)||(this.Eq({changedTouches:[{pageX:a.pageX,
pageY:a.pageY,identifier:0}]}),this.rq=!1)};f.lr=function(){var a,b,c,d=sb();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.fq=d),c.TA(this,a)};e.prototype.Lo=function(){return!0};e.prototype.Vr=function(){return!0};e.prototype.jw=function(){return this.touches.length};e.prototype.Ko=function(a){return a?this.c.Hl(a,this.eg,this.fg):!1};var w=[];e.prototype.kw=function(a){if(!a)return!1;var b=a.Oa(),c=b.Xd(),d,e,f,g,k,h;f=0;for(g=c.length;f<g;f++){var l=c[f];l.gb();k=0;for(h=
this.touches.length;k<h;k++)if(e=this.touches[k],d=l.V.Xb(e.x,e.y,!0),e=l.V.Xb(e.x,e.y,!1),l.od(d,e)){w.push(l);break}}return w.length?(b.Va=!1,Ea(b.F,w),a.Be(),I(w),!0):!1};e.prototype.Rr=function(a){a=Math.floor(a);return a===this.Tf};e.prototype.Qr=function(a){a=Math.floor(a);return a===this.Tf};e.prototype.Cw=function(){return!0};e.prototype.Qw=function(){return!0};e.prototype.yw=function(){return!0};e.prototype.Dw=function(a){return a?this.c.Hl(a,this.eg,this.fg):!1};e.prototype.Rw=function(a){return a?
this.c.Hl(a,this.eg,this.fg):!1};e.prototype.zw=function(a){return a?this.c.Hl(a,this.eg,this.fg):!1};l.K=new e;l.ca=new function(){};k.prototype.em=function(a,b){var c=this.oj;if(0>c||c>=this.touches.length)a.fa(0);else{var d,e,f,g,k;ia(b)?(d=this.c.Bf(0),e=d.scale,f=d.xd,g=d.Ld,k=d.M,d.scale=1,d.xd=1,d.Ld=1,d.M=0,a.fa(d.Xb(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.xd=f,d.Ld=g,d.M=k):(d=ka(b)?this.c.Bf(b):this.c.nj(b))?a.fa(d.Xb(this.touches[c].x,this.touches[c].y,!0)):a.fa(0)}};k.prototype.fm=
function(a,b){var c=this.oj;if(0>c||c>=this.touches.length)a.fa(0);else{var d,e,f,g,k;ia(b)?(d=this.c.Bf(0),e=d.scale,f=d.xd,g=d.Md,k=d.M,d.scale=1,d.xd=1,d.Md=1,d.M=0,a.fa(d.Xb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.xd=f,d.Md=g,d.M=k):(d=ka(b)?this.c.Bf(b):this.c.nj(b))?a.fa(d.Xb(this.touches[c].x,this.touches[c].y,!1)):a.fa(0)}};l.xa=new k})();function Gd(a){this.c=a}
(function(){var a=Gd.prototype;a.Ab=function(a){this.behavior=a;this.c=a.c};a.Ab.prototype.Qa=function(){};a.nb=function(a,c){this.type=a;this.behavior=a.behavior;this.I=c;this.c=a.c};var c=a.nb.prototype;c.Qa=function(){var a=this.ea[0];this.Xf=this.ea[1];this.en=this.ea[2];this.by=0!==this.ea[3];this.br=0!==this.ea[4];this.yd=Math.cos(this.I.M)*a;this.Wc=Math.sin(this.I.M)*a;this.xi=this.I.x;this.yi=this.I.y;this.Hf=this.I.M;this.uo=0;this.enabled=0!==this.ea[5]};c.Mc=function(){return{acc:this.Xf,
g:this.en,dx:this.yd,dy:this.Wc,lx:this.xi,ly:this.yi,lka:this.Hf,t:this.uo,e:this.enabled}};c.sd=function(a){this.Xf=a.acc;this.en=a.g;this.yd=a.dx;this.Wc=a.dy;this.xi=a.lx;this.yi=a.ly;this.Hf=a.lka;this.uo=a.t;this.enabled=a.e};c.Bc=function(){if(this.enabled){var a=this.c.fi(this.I),c,e;this.I.M!==this.Hf&&(this.br&&(c=gb(0,0,this.yd,this.Wc),this.yd=Math.cos(this.I.M)*c,this.Wc=Math.sin(this.I.M)*c),this.Hf=this.I.M);0!==this.Xf&&(c=gb(0,0,this.yd,this.Wc),e=0===this.yd&&0===this.Wc?this.I.M:
Ua(0,0,this.yd,this.Wc),c+=this.Xf*a,0>c&&(c=0),this.yd=Math.cos(e)*c,this.Wc=Math.sin(e)*c);0!==this.en&&(this.Wc+=this.en*a);this.xi=this.I.x;this.yi=this.I.y;if(0!==this.yd||0!==this.Wc)if(this.I.x+=this.yd*a,this.I.y+=this.Wc*a,this.uo+=gb(0,0,this.yd*a,this.Wc*a),this.br&&(this.I.M=Ua(0,0,this.yd,this.Wc),this.I.Ia(),this.Hf=this.I.M),this.I.Ia(),this.by&&(c=this.c.Pi(this.I)))this.c.Hu(this.I,c),c=gb(0,0,this.yd,this.Wc),e=this.c.fy(this.I,this.xi,this.yi),this.yd=Math.cos(e)*c,this.Wc=Math.sin(e)*
c,this.I.x+=this.yd*a,this.I.y+=this.Wc*a,this.I.Ia(),this.br&&(this.Hf=this.I.M=e,this.I.Ia()),this.c.sB(this.I,this.yd/c,this.Wc/c,Math.max(2.5*c*a,30))||this.c.tB(this.I)}};a.K=new function(){};a.ca=new function(){};a.xa=new function(){}})();function Hd(a){this.c=a}
(function(){function a(){}function c(){}var b=Hd.prototype;b.Ab=function(a){this.behavior=a;this.c=a.c};b.Ab.prototype.Qa=function(){};b.nb=function(a,b){this.type=a;this.behavior=a.behavior;this.I=b;this.c=a.c};var d=b.nb.prototype;d.Qa=function(){this.To=1===this.ea[0];this.Su=!1;this.yk=this.ea[1];this.Tl=this.ea[2];this.Vm=this.ea[3];this.xy=this.ea[4];this.ie=this.To?0:3;this.ue?this.Se.reset():this.Se=new zb;this.yh=this.I.opacity?this.I.opacity:1;this.To&&(0===this.yk?(this.ie=1,0===this.Tl&&
(this.ie=2)):(this.I.opacity=0,this.c.Ua=!0))};d.Mc=function(){return{fit:this.yk,wt:this.Tl,fot:this.Vm,s:this.ie,st:this.Se.Aa,mo:this.yh}};d.sd=function(a){this.yk=a.fit;this.Tl=a.wt;this.Vm=a.fot;this.ie=a.s;this.Se.reset();this.Se.Aa=a.st;this.yh=a.mo};d.Bc=function(){this.Se.add(this.c.fi(this.I));0===this.ie&&(this.I.opacity=this.Se.Aa/this.yk*this.yh,this.c.Ua=!0,this.I.opacity>=this.yh&&(this.I.opacity=this.yh,this.ie=1,this.Se.reset(),this.c.trigger(Hd.prototype.K.Aw,this.I)));1===this.ie&&
this.Se.Aa>=this.Tl&&(this.ie=2,this.Se.reset(),this.c.trigger(Hd.prototype.K.Tw,this.I));2===this.ie&&0!==this.Vm&&(this.I.opacity=this.yh-this.Se.Aa/this.Vm*this.yh,this.c.Ua=!0,0>this.I.opacity&&(this.I.opacity=0,this.ie=3,this.Se.reset(),this.c.trigger(Hd.prototype.K.Bw,this.I),1===this.xy&&this.c.Lg(this.I)))};d.Es=function(){this.ie=0;this.Se.reset();0===this.yk?(this.ie=1,0===this.Tl&&(this.ie=2)):(this.I.opacity=0,this.c.Ua=!0)};a.prototype.Bw=function(){return!0};a.prototype.Aw=function(){return!0};
a.prototype.Tw=function(){return!0};b.K=new a;c.prototype.Dx=function(){this.To||this.Su||(this.yh=this.I.opacity?this.I.opacity:1,this.Su=!0);3===this.ie&&this.Es()};c.prototype.Xw=function(){this.Es()};b.ca=new c;b.xa=new function(){}})();function Id(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var Jd=2/180*Math.PI,Kd=8/180*Math.PI,Ld=.5*Math.PI,Md=Ld*Ld,Nd=2/180*Math.PI,Od=Number.MIN_VALUE*Number.MIN_VALUE;
function Pd(a,c){return a.x*c.x+a.y*c.y}function Qd(a,c){return a.x*c.y-a.y*c.x}function Rd(a){return R(1*a.y,-1*a.x)}function Sd(a,c){return R(a.n.x*c.x+a.q.x*c.y,a.n.y*c.x+a.q.y*c.y)}function Td(a,c){return R(Pd(c,a.n),Pd(c,a.q))}function Ud(a,c){var b=Sd(a.B,c);b.x+=a.position.x;b.y+=a.position.y;return b}function Vd(a,c){var b=Wd(c,a.position),d=b.x*a.B.n.x+b.y*a.B.n.y;b.y=b.x*a.B.q.x+b.y*a.B.q.y;b.x=d;return b}function Wd(a,c){return R(a.x-c.x,a.y-c.y)}
function Xd(a,c,b){return a<c?c:a>b?b:a}function Yd(){this.n=R(0,0);this.q=R(0,0);this.n.Set(1,0);this.q.Set(0,1)}function Zd(a){var c=new Yd;c.Set(a);return c}Yd.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.n.Set(c,a);this.q.Set(-a,c)};Yd.prototype.rc=function(){var a=new Yd;$d(a,this);return a};function $d(a,c){a.n.P(c.n);a.q.P(c.q)}Yd.prototype.qa=function(){this.n.Set(0,0);this.q.Set(0,0)};Yd.prototype.Mh=function(){return Math.atan2(this.n.y,this.n.x)};
function ae(a,c){var b=a.n.x*a.q.y-a.q.x*a.n.y;0!==b&&(b=1/b);c.n.x=b*a.q.y;c.q.x=-b*a.q.x;c.n.y=-b*a.n.y;c.q.y=b*a.n.x}function be(a,c,b,d){var e=a.n.x*a.q.y-a.q.x*a.n.y;0!==e&&(e=1/e);c.x=e*(a.q.y*b-a.q.x*d);c.y=e*(a.n.x*d-a.n.y*b);return c}function ce(a,c,b){this.n=new de(0,0,0);this.q=new de(0,0,0);this.j=new de(0,0,0);a&&this.n.P(a);c&&this.q.P(c);b&&this.j.P(b)}ce.prototype.rc=function(){return new ce(this.n,this.q,this.j)};
ce.prototype.qa=function(){this.n.Set(0,0,0);this.q.Set(0,0,0);this.j.Set(0,0,0)};function ue(a,c,b,d){var e=a.n.x,k=a.q.x,l=a.n.y;a=a.q.y;var f=e*a-k*l;0!=f&&(f=1/f);c.x=f*(a*b-k*d);c.y=f*(e*d-l*b);return c}
function ve(a,c,b,d,e){var k=a.n.x,l=a.n.y,f=a.n.z,m=a.q.x,n=a.q.y,h=a.q.z,g=a.j.x,r=a.j.y;a=a.j.z;var p=k*(n*a-h*r)+l*(h*g-m*a)+f*(m*r-n*g);0!=p&&(p=1/p);c.x=p*(b*(n*a-h*r)+d*(h*g-m*a)+e*(m*r-n*g));c.y=p*(k*(d*a-e*r)+l*(e*g-b*a)+f*(b*r-d*g));c.z=p*(k*(n*e-h*d)+l*(h*b-m*e)+f*(m*d-n*b));return c}function we(){this.S=R(0,0);this.Dc=R(0,0);this.D=R(0,0)}we.prototype.Set=function(a){this.S.P(a.S);this.Dc.P(a.Dc);this.D.P(a.D);this.ze=a.ze;this.R=a.R;this.wd=a.wd};
we.prototype.rc=function(){var a=new we;a.S.P(this.S);a.Dc.P(this.Dc);a.D.P(this.D);a.ze=this.ze;a.R=this.R;a.wd=this.wd;return a};we.prototype.Sd=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.Dc.x+c*this.D.x;a.position.y=(1-c)*this.Dc.y+c*this.D.y;a.B.Set((1-c)*this.ze+c*this.R);var b=a.B;a.position.x-=b.n.x*this.S.x+b.q.x*this.S.y;a.position.y-=b.n.y*this.S.x+b.q.y*this.S.y};
we.prototype.Kg=function(a){void 0===a&&(a=0);if(this.wd<a&&1-this.wd>Number.MIN_VALUE){var c=(a-this.wd)/(1-this.wd);this.Dc.x=(1-c)*this.Dc.x+c*this.D.x;this.Dc.y=(1-c)*this.Dc.y+c*this.D.y;this.ze=(1-c)*this.ze+c*this.R;this.wd=a}};function xe(a,c){this.position=R(0,0);this.B=new Yd;a&&this.position.P(a);c&&$d(this.B,c)}xe.prototype.Set=function(a){this.position.P(a.position);$d(this.B,a.B)};xe.prototype.Mh=function(){return Math.atan2(this.B.n.y,this.B.n.x)};
function ye(a,c){this.x=a;this.y=c}var ze=[];function R(a,c){if(0<ze.length){var b=ze.pop();b.Set(a,c);return b}return new ye(a,c)}function Ae(a){ze.push(a)}x=ye.prototype;x.qa=function(){this.y=this.x=0};x.Set=function(a,c){this.x=a;this.y=c};x.P=function(a){this.x=a.x;this.y=a.y};x.Mg=function(){return R(-this.x,-this.y)};x.rc=function(){return R(this.x,this.y)};x.mf=function(a){this.x+=a.x;this.y+=a.y};x.Yr=function(a){this.x-=a.x;this.y-=a.y};x.je=function(a){this.x*=a;this.y*=a};
function Be(a){return Math.sqrt(Ce(a))}function Ce(a){return a.x*a.x+a.y*a.y}function De(a){var c=Be(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function de(a,c,b){this.x=a;this.y=c;this.z=b}x=de.prototype;x.qa=function(){this.z=this.y=this.x=0};x.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};x.P=function(a){this.x=a.x;this.y=a.y;this.z=a.z};x.Mg=function(){return new de(-this.x,-this.y,-this.z)};x.rc=function(){return new de(this.x,this.y,this.z)};
x.mf=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};x.Yr=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};x.je=function(a){this.x*=a;this.y*=a;this.z*=a};function Ee(){this.$a=.005}x=Ee.prototype;x.Oh=function(){};x.rc=function(){};x.Set=function(a){this.$a=a.$a};x.Lh=function(){};x.dk=function(){};x.Vl=function(){};x.No=function(){};function Fe(a){this.$a=.005;this.$a=a;this.j=a*a;this.kb=R(0,0)}Id(Fe,Ee);x=Fe.prototype;x.Oh=function(){return"b2CircleShape"};
x.rc=function(){var a=new Fe(this.$a);a.Set(this);return a};x.Set=function(a){Ee.prototype.Set.call(this,a);a instanceof Fe&&this.kb.P(a.kb)};x.Lh=function(a,c){var b=c.B,d=c.position.x+(b.n.x*this.kb.x+b.q.x*this.kb.y),b=c.position.y+(b.n.y*this.kb.x+b.q.y*this.kb.y);a.j.Set(d-this.$a,b-this.$a);a.k.Set(d+this.$a,b+this.$a)};x.dk=function(a,c){a.j=c*Math.PI*this.j;a.k.P(this.kb);a.u=a.j*(.5*this.j+(this.kb.x*this.kb.x+this.kb.y*this.kb.y))};
x.Vl=function(a,c,b,d){b=Ud(b,this.kb);var e=-(Pd(a,b)-c);if(e<-this.$a+Number.MIN_VALUE)return 0;if(e>this.$a)return d.P(b),Math.PI*this.j;c=e*e;e=this.j*(Math.asin(e/this.$a)+Math.PI/2)+e*Math.sqrt(this.j-c);c=-2/3*Math.pow(this.j-c,1.5)/e;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return e};x.No=function(a){a.T=[this.kb];a.j=1;a.$a=this.$a};
function Ge(a,c){this.$a=.005;this.j=a;this.k=c;this.u=R(this.k.x-this.j.x,this.k.y-this.j.y);De(this.u);this.C=R(this.u.y,-this.u.x);R(-.04*(this.C.x-this.u.x)+this.j.x,-.04*(this.C.y-this.u.y)+this.j.y);R(-.04*(this.C.x+this.u.x)+this.k.x,-.04*(this.C.y+this.u.y)+this.k.y);R(-this.C.x,-this.C.y)}Id(Ge,Ee);Ge.prototype.Oh=function(){return"b2EdgeShape"};
Ge.prototype.Lh=function(a,c){var b=c.B,d=c.position.x+(b.n.x*this.j.x+b.q.x*this.j.y),e=c.position.y+(b.n.y*this.j.x+b.q.y*this.j.y),k=c.position.x+(b.n.x*this.k.x+b.q.x*this.k.y),b=c.position.y+(b.n.y*this.k.x+b.q.y*this.k.y);d<k?(a.j.x=d,a.k.x=k):(a.j.x=k,a.k.x=d);e<b?(a.j.y=e,a.k.y=b):(a.j.y=b,a.k.y=e)};Ge.prototype.dk=function(a){a.j=0;a.k.P(this.j);a.u=0};
Ge.prototype.Vl=function(a,c,b,d){void 0===c&&(c=0);var e=R(a.x*c,a.y*c),k=Ud(b,this.j);b=Ud(b,this.k);var l=Pd(a,k)-c;a=Pd(a,b)-c;if(0<l){if(0<a)return 0;k.x=-a/(l-a)*k.x+l/(l-a)*b.x;k.y=-a/(l-a)*k.y+l/(l-a)*b.y}else 0<a&&(b.x=-a/(l-a)*k.x+l/(l-a)*b.x,b.y=-a/(l-a)*k.y+l/(l-a)*b.y);d.x=(e.x+k.x+b.x)/3;d.y=(e.y+k.y+b.y)/3;return.5*((k.x-e.x)*(b.y-e.y)-(k.y-e.y)*(b.x-e.x))};function He(){this.j=0;this.k=R(0,0);this.u=0}function Ie(){this.$a=.005;this.j=R(0,0);this.T=[];this.sb=[]}Id(Ie,Ee);x=Ie.prototype;
x.Oh=function(){return"b2PolygonShape"};x.rc=function(){var a=new Ie;a.Set(this);return a};x.Set=function(a){Ee.prototype.Set.call(this,a);if(a instanceof Ie){this.j.P(a.j);this.eb=a.eb;Je(this,this.eb);for(var c=0;c<this.eb;c++)this.T[c].P(a.T[c]),this.sb[c].P(a.sb[c])}};
function Ke(a,c){var b=c.length;a.eb=b;Je(a,b);for(b=b=0;b<a.eb;b++)a.T[b].P(c[b]);for(b=0;b<a.eb;++b){var d=Wd(a.T[b+1<a.eb?b+1:0],a.T[b]);a.sb[b].P(Rd(d));De(a.sb[b])}for(var b=a.T,d=a.eb,e=R(0,0),k=0,l=1/3,f=0;f<d;++f){var m=b[f],n=f+1<d?b[f+1]:b[0],h=.5*((m.x-0)*(n.y-0)-(m.y-0)*(n.x-0)),k=k+h;e.x+=h*l*(0+m.x+n.x);e.y+=h*l*(0+m.y+n.y)}e.x*=1/k;e.y*=1/k;a.j=e}
function Le(a,c,b){a.eb=4;Je(a,4);a.T[0].Set(-c,-b);a.T[1].Set(c,-b);a.T[2].Set(c,b);a.T[3].Set(-c,b);a.sb[0].Set(0,-1);a.sb[1].Set(1,0);a.sb[2].Set(0,1);a.sb[3].Set(-1,0);a.j.qa()}
x.Lh=function(a,c){for(var b=c.B,d=this.T[0],e=c.position.x+(b.n.x*d.x+b.q.x*d.y),k=c.position.y+(b.n.y*d.x+b.q.y*d.y),l=e,f=k,m=1;m<this.eb;++m)var d=this.T[m],n=c.position.x+(b.n.x*d.x+b.q.x*d.y),d=c.position.y+(b.n.y*d.x+b.q.y*d.y),e=e<n?e:n,k=k<d?k:d,l=l>n?l:n,f=f>d?f:d;a.j.x=e-this.$a;a.j.y=k-this.$a;a.k.x=l+this.$a;a.k.y=f+this.$a};
x.dk=function(a,c){if(2==this.eb)a.k.x=.5*(this.T[0].x+this.T[1].x),a.k.y=.5*(this.T[0].y+this.T[1].y),a.j=0,a.u=0;else{for(var b=0,d=0,e=0,k=0,l=1/3,f=0;f<this.eb;++f)var m=this.T[f],n=f+1<this.eb?this.T[f+1]:this.T[0],h=m.x-0,g=m.y-0,r=n.x-0,p=n.y-0,v=h*p-g*r,t=.5*v,e=e+t,b=b+t*l*(0+m.x+n.x),d=d+t*l*(0+m.y+n.y),m=h,k=k+v*(l*(.25*(m*m+r*m+r*r)+(0*m+0*r))+0+(l*(.25*(g*g+p*g+p*p)+(0*g+0*p))+0));a.j=c*e;a.k.Set(1/e*b,1/e*d);a.u=c*k}};
x.Vl=function(a,c,b,d){var e=Td(b.B,a),k=c-Pd(a,b.position),l=[],f=0,m=-1;c=-1;var n=!1;for(a=a=0;a<this.eb;++a){l[a]=Pd(e,this.T[a])-k;var h=l[a]<-Number.MIN_VALUE;0<a&&(h?n||(m=a-1,f++):n&&(c=a-1,f++));n=h}switch(f){case 0:return n?(a=new He,this.dk(a,1),d.P(Ud(b,a.k)),a.j):0;case 1:-1==m?m=this.eb-1:c=this.eb-1}a=(m+1)%this.eb;e=(c+1)%this.eb;k=(0-l[m])/(l[a]-l[m]);l=(0-l[c])/(l[e]-l[c]);m=R(this.T[m].x*(1-k)+this.T[a].x*k,this.T[m].y*(1-k)+this.T[a].y*k);c=R(this.T[c].x*(1-l)+this.T[e].x*l,this.T[c].y*
(1-l)+this.T[e].y*l);l=0;k=R(0,0);for(f=this.T[a];a!=e;)a=(a+1)%this.eb,n=a==e?c:this.T[a],h=.5*((f.x-m.x)*(n.y-m.y)-(f.y-m.y)*(n.x-m.x)),l+=h,k.x+=h*(m.x+f.x+n.x)/3,k.y+=h*(m.y+f.y+n.y)/3,f=n;k.je(1/l);d.P(Ud(b,k));return l};x.No=function(a){a.T=this.T;a.j=this.eb;a.$a=this.$a};x.Wl=function(a){for(var c=0,b=this.T[0].x*a.x+this.T[0].y*a.y,d=1;d<this.eb;++d){var e=this.T[d].x*a.x+this.T[d].y*a.y;e>b&&(c=d,b=e)}return c};
x.fk=function(a){for(var c=0,b=this.T[0].x*a.x+this.T[0].y*a.y,d=1;d<this.eb;++d){var e=this.T[d].x*a.x+this.T[d].y*a.y;e>b&&(c=d,b=e)}return this.T[c]};function Je(a,c){a.T=[];a.sb=[];for(var b=a.T.length;b<c;b++)a.T[b]=R(0,0),a.sb[b]=R(0,0)}new Yd;function Me(){this.k=this.j=this.u=this.Vb=0}function Ne(a,c){a.Vb=c;a.u=a.Vb&255;a.j=(a.Vb&65280)>>8&255;a.k=(a.Vb&16711680)>>16&255;a.C=(a.Vb&4278190080)>>24&255}Me.prototype.Set=function(a){Ne(this,a.Vb)};
Me.prototype.rc=function(){var a=new Me;a.Set(this);return a};function Oe(){this.ye=R(0,0);this.id=new Me}Oe.prototype.Set=function(a){this.ye.P(a.ye);this.id.Set(a.id)};function Pe(){this.j=R(0,0);this.k=R(0,0)}var Qe=[];function Re(){if(0<Qe.length){var a=Qe.pop();a.qa();return a}return new Pe}Pe.prototype.qa=function(){this.j.Set(0,0);this.k.Set(0,0)};function We(a,c){var b;return b=(b=(b=(b=a.j.x<=c.j.x)&&a.j.y<=c.j.y)&&c.k.x<=a.k.x)&&c.k.y<=a.k.y}
Pe.prototype.jk=function(a){return 0<a.j.x-this.k.x||0<a.j.y-this.k.y||0<this.j.x-a.k.x||0<this.j.y-a.k.y?!1:!0};function Xe(a,c,b){a.j.x=Math.min(c.j.x,b.j.x);a.j.y=Math.min(c.j.y,b.j.y);a.k.x=Math.max(c.k.x,b.k.x);a.k.y=Math.max(c.k.y,b.k.y)}function Ye(a,c,b,d){var e=0,k=c[0].ye,l=c[1].ye,f=b.x*k.x+b.y*k.y-d;b=b.x*l.x+b.y*l.y-d;0>=f&&a[e++].Set(c[0]);0>=b&&a[e++].Set(c[1]);0>f*b&&(b=f/(f-b),d=a[e].ye,d.x=k.x+b*(l.x-k.x),d.y=k.y+b*(l.y-k.y),a[e].id=0<f?c[0].id:c[1].id,e++);return e}
function Ze(a,c,b,d,e){for(var k=c.B.n.x*a.sb[b].x+c.B.q.x*a.sb[b].y,l=c.B.n.y*a.sb[b].x+c.B.q.y*a.sb[b].y,f=e.B.n.x*k+e.B.n.y*l,m=e.B.q.x*k+e.B.q.y*l,n=0,h=Number.MAX_VALUE,g=0;g<d.eb;g++){var r=d.T[g].x*f+d.T[g].y*m;r<h&&(h=r,n=g)}return(e.position.x+(e.B.n.x*d.T[n].x+e.B.q.x*d.T[n].y)-(c.position.x+(c.B.n.x*a.T[b].x+c.B.q.x*a.T[b].y)))*k+(e.position.y+(e.B.n.y*d.T[n].x+e.B.q.y*d.T[n].y)-(c.position.y+(c.B.n.y*a.T[b].x+c.B.q.y*a.T[b].y)))*l}
function $e(a,c,b,d){for(var e=d.position.x+(d.B.n.x*b.j.x+d.B.q.x*b.j.y),k=d.position.y+(d.B.n.y*b.j.x+d.B.q.y*b.j.y),e=e-(c.position.x+(c.B.n.x*a.j.x+c.B.q.x*a.j.y)),k=k-(c.position.y+(c.B.n.y*a.j.x+c.B.q.y*a.j.y)),l=e*c.B.n.x+k*c.B.n.y,k=e*c.B.q.x+k*c.B.q.y,e=0,f=-Number.MAX_VALUE,m=0;m<a.eb;++m){var n=a.sb[m].x*l+a.sb[m].y*k;n>f&&(f=n,e=m)}l=Ze(a,c,e,b,d);k=e-1;0>k&&(k=a.eb-1);f=Ze(a,c,k,b,d);m=e+1;m>=a.eb&&(m=0);var n=Ze(a,c,m,b,d),h=0,g=0;if(f>l&&f>n)for(h=k,g=f;;)if(e=h-1,0>e&&(e=a.eb-1),l=
Ze(a,c,e,b,d),l>g)h=e,g=l;else break;else if(n>l)for(h=m,g=n;;)if(e=h+1,e>=a.eb&&(e=0),l=Ze(a,c,e,b,d),l>g)h=e,g=l;else break;else h=e,g=l;return{ms:h,fo:g}}
function af(a,c,b){var d=new bf,e=b.ug,k=b.j,l=b.vg,f=b.k,m,n;d.j=c.count;for(var h=d.T,g=0;g<d.j;g++){var r=h[g];r.Zb=c.Zb[g];r.$b=c.$b[g];m=cf(e,r.Zb);n=cf(l,r.$b);r.fd=Ud(k,m);r.We=Ud(f,n);r.gc=Wd(r.We,r.fd);r.R=0}1<d.j&&(m=c.j,n=df(d),n<.5*m||2*m<n||n<Number.MIN_VALUE)&&(d.j=0);0==d.j&&(r=h[0],r.Zb=0,r.$b=0,m=cf(e,0),n=cf(l,0),r.fd=Ud(k,m),r.We=Ud(f,n),r.gc=Wd(r.We,r.fd),d.j=1);for(e=0;20>e;){k=[];for(l=0;l<d.j;l++)k[l]={},k[l].Zb=d.T[l].Zb,k[l].$b=d.T[l].$b;if(2==d.j)l=d,f=l.k.gc,h=l.u.gc,m=
Wd(h,f),f=-(f.x*m.x+f.y*m.y),0>=f?(l.k.R=1,l.j=1):(h=h.x*m.x+h.y*m.y,0>=h?(l.u.R=1,l.j=1,l.k.Set(l.u)):(m=1/(h+f),l.k.R=h*m,l.u.R=f*m,l.j=2));else if(3==d.j){var l=d,p=l.k.gc,v=l.u.gc,t=l.C.gc,w=Wd(v,p),f=Pd(v,w),h=-Pd(p,w),q=Wd(t,p);m=Pd(t,q);n=-Pd(p,q);r=Wd(t,v);g=Pd(t,r);r=-Pd(v,r);q=Qd(w,q);w=q*Qd(v,t);t=q*Qd(t,p);p=q*Qd(p,v);0>=h&&0>=n?(l.k.R=1,l.j=1):0<f&&0<h&&0>=p?(m=1/(f+h),l.k.R=f*m,l.u.R=h*m,l.j=2):0<m&&0<n&&0>=t?(f=1/(m+n),l.k.R=m*f,l.C.R=n*f,l.j=2,l.u.Set(l.C)):0>=f&&0>=r?(l.u.R=1,l.j=
1,l.k.Set(l.u)):0>=m&&0>=g?(l.C.R=1,l.j=1,l.k.Set(l.C)):0<g&&0<r&&0>=w?(f=1/(g+r),l.u.R=g*f,l.C.R=r*f,l.j=2,l.k.Set(l.C)):(f=1/(w+t+p),l.k.R=w*f,l.u.R=t*f,l.C.R=p*f,l.j=3)}if(3==d.j)break;l=d;1==l.j?l=l.k.gc.Mg():2==l.j?(f=Wd(l.u.gc,l.k.gc),l=0<Qd(f,l.k.gc.Mg())?R(-1*f.y,1*f.x):Rd(f)):l=R(0,0);if(Ce(l)<Od)break;f=l.Mg();d.T[d.j].Zb=b.ug.Wl(Td(b.j.B,f));d.T[d.j].fd=Ud(b.j,cf(b.ug,d.T[d.j].Zb));d.T[d.j].$b=b.vg.Wl(Td(b.k.B,l));d.T[d.j].We=Ud(b.k,cf(b.vg,d.T[d.j].$b));d.T[d.j].gc=Wd(d.T[d.j].We,d.T[d.j].fd);
Ae(l);Ae(f);e++;f=!1;for(l=0;l<k.length;l++)if(d.T[d.j].Zb==k[l].Zb&&d.T[d.j].$b==k[l].$b){f=!0;break}if(f)break;d.j++}e=a.j;k=a.k;1==d.j?(e.P(d.k.fd),k.P(d.k.We)):2==d.j?(e.x=d.k.R*d.k.fd.x+d.u.R*d.u.fd.x,e.y=d.k.R*d.k.fd.y+d.u.R*d.u.fd.y,k.x=d.k.R*d.k.We.x+d.u.R*d.u.We.x,k.y=d.k.R*d.k.We.y+d.u.R*d.u.We.y):3==d.j&&(k.x=e.x=d.k.R*d.k.fd.x+d.u.R*d.u.fd.x+d.C.R*d.C.fd.x,k.y=e.y=d.k.R*d.k.fd.y+d.u.R*d.u.fd.y+d.C.R*d.C.fd.y);a.wf=Be(Wd(a.j,a.k));c.j=df(d);c.count=d.j;e=d.T;for(k=0;k<d.j;k++)c.Zb[k]=e[k].Zb,
c.$b[k]=e[k].$b;b.u&&(c=b.ug.$a,b=b.vg.$a,a.wf>c+b&&a.wf>Number.MIN_VALUE?(a.wf-=c+b,d=Wd(a.k,a.j),De(d),a.j.x+=c*d.x,a.j.y+=c*d.y,a.k.x-=b*d.x,a.k.y-=b*d.y,Ae(d)):(b=R(0,0),b.x=.5*(a.j.x+a.k.x),b.y=.5*(a.j.y+a.k.y),a.j.x=a.k.x=b.x,a.j.y=a.k.y=b.y,a.wf=0,Ae(b)))}function ef(){}function ff(){this.j=R(0,0);this.k=R(0,0);this.wf=0}function gf(){}gf.prototype.Set=function(a){a.No(this)};
gf.prototype.Wl=function(a){for(var c=0,b=this.T[0].x*a.x+this.T[0].y*a.y,d=1;d<this.j;d++){var e=this.T[d].x*a.x+this.T[d].y*a.y;e>b&&(c=d,b=e)}return c};gf.prototype.fk=function(a){return this.T[this.Wl(a)]};function cf(a,c){void 0===c&&(c=0);return a.T[c]}function hf(){this.j=null}hf.prototype.Ui=function(a){jf(this,a);a.jd()};function kf(a,c,b){if(null!==a.j){var d=[];for(d.push(a.j);0<d.length;)if(a=d.pop(),a.Ra.jk(b))if(null===a.Gd){if(!c(a.Wd))break}else d.push(a.Gd),d.push(a.uf)}}
function lf(a,c){if(null===a.j)a.j=c,a.j.parent=null;else{var b;b=c.Ra;b=R((b.j.x+b.k.x)/2,(b.j.y+b.k.y)/2);for(var d=a.j;null!==d.Gd;)var e=d.Gd,d=d.uf,k=Math.abs((e.Ra.j.x+e.Ra.k.x)/2-b.x)+Math.abs((e.Ra.j.y+e.Ra.k.y)/2-b.y),l=Math.abs((d.Ra.j.x+d.Ra.k.x)/2-b.x)+Math.abs((d.Ra.j.y+d.Ra.k.y)/2-b.y),d=k<l?e:d;Ae(b);b=d;e=b.parent;d=mf();d.parent=e;Xe(d.Ra,c.Ra,b.Ra);if(e)for(b.parent.Gd==b?e.Gd=d:e.uf=d,d.Gd=b,d.uf=c,b.parent=d,c.parent=d;e&&!We(e.Ra,d.Ra);)Xe(e.Ra,e.Gd.Ra,e.uf.Ra),d=e,e=e.parent;
else d.Gd=b,d.uf=c,b.parent=d,c.parent=d,a.j=d}}function jf(a,c){if(c==a.j)a.j=null;else{var b=c.parent,d=b.parent,e;e=b.Gd==c?b.uf:b.Gd;if(d)for(d.Gd==b?d.Gd=e:d.uf=e,e.parent=d;d;){e=d.Ra;Xe(d.Ra,d.Gd.Ra,d.uf.Ra);if(We(e,d.Ra))break;d=d.parent}else a.j=e,e.parent=null;b.jd()}}function nf(){this.k=new hf;this.j=[]}function of(a,c,b){var d=a.k;b=mf(b);b.Ra.j.x=c.j.x-.1;b.Ra.j.y=c.j.y-.1;b.Ra.k.x=c.k.x+.1;b.Ra.k.y=c.k.y+.1;lf(d,b);a.j.push(b);return b}nf.prototype.Ui=function(a){Ja(this.j,a);this.k.Ui(a)};
nf.prototype.jk=function(a,c){return a.Ra.jk(c.Ra)};function pf(a,c){for(var b=[];0<a.j.length;){var d=a.j.pop();kf(a.k,function(a){a!=d.Wd&&b.push(new qf(d.Wd,a));return!0},d.Ra)}for(var e=0;e<b.length;){var k=b[e];c(k.Bk,k.Ck);for(e++;e<b.length;){var l=b[e];if(!(l.Bk==k.Bk&&l.Ck==k.Ck||l.Bk==k.Ck&&l.Ck==k.Bk))break;e++}}}function rf(a){this.Ra=Re();this.Wd=this.parent=this.uf=this.Gd=null;"undefined"!=typeof a&&(this.Wd=a)}var sf=[];
function mf(a){if(0<sf.length){var c=sf.pop();"undefined"!=typeof a&&(c.Wd=a);c.Ra.qa();return c}return new rf(a)}rf.prototype.jd=function(){this.Wd=this.parent=this.uf=this.Gd=null;sf.push(this)};function qf(a,c){this.Bk=a;this.Ck=c}function tf(){this.Ja=this.Pb=0;this.ra=[];for(var a=0;2>a;a++)this.ra[a]=new uf;this.Jc=R(0,0);this.za=R(0,0)}tf.prototype.Cc=function(){for(var a=0;2>a;a++)this.ra[a].Cc();this.Jc.qa();this.za.qa();this.Pb=this.Ja=0};
tf.prototype.Set=function(a){this.Pb=a.Pb;for(var c=0;2>c;c++)this.ra[c].Set(a.ra[c]);this.Jc.P(a.Jc);this.za.P(a.za);this.Ja=a.Ja};tf.prototype.rc=function(){var a=new tf;a.Set(this);return a};function uf(){this.za=R(0,0);this.Me=new Me;this.Cc()}uf.prototype.Cc=function(){this.za.qa();this.Fi=this.Ei=0;Ne(this.Me,0)};uf.prototype.Set=function(a){this.za.P(a.za);this.Ei=a.Ei;this.Fi=a.Fi;this.Me.Set(a.Me)};
function vf(){var a=wf,c=xf,b=yf,d,e,k=0;switch(a.Ja){case Cf:d=Td(c.B,a.j);e=Td(b.B,a.j.Mg());d=a.k.fk(d);e=a.u.fk(e);c=Ud(c,d);b=Ud(b,e);k=(b.x-c.x)*a.j.x+(b.y-c.y)*a.j.y;break;case Hf:k=Sd(c.B,a.j);c=Ud(c,a.za);e=Td(b.B,k.Mg());e=a.u.fk(e);b=Ud(b,e);k=(b.x-c.x)*k.x+(b.y-c.y)*k.y;break;case Of:k=Sd(b.B,a.j),b=Ud(b,a.za),d=Td(c.B,k.Mg()),d=a.k.fk(d),c=Ud(c,d),k=(c.x-b.x)*k.x+(c.y-b.y)*k.y}return k}var Cf=1,Hf=2,Of=4;
function bf(){this.k=new Pf;this.u=new Pf;this.C=new Pf;this.T=[this.k,this.u,this.C]}function df(a){return 1==a.j?0:2==a.j?Be(Wd(a.k.gc,a.u.gc)):3==a.j?Qd(Wd(a.u.gc,a.k.gc),Wd(a.C.gc,a.k.gc)):0}function Qf(){this.Zb=[0,0,0];this.$b=[0,0,0]}function Pf(){}Pf.prototype.Set=function(a){this.fd.P(a.fd);this.We.P(a.We);this.gc.P(a.gc);this.R=a.R;this.Zb=a.Zb;this.$b=a.$b};function Rf(){this.ug=new gf;this.vg=new gf;this.jv=new we;this.kv=new we}
function Sf(a,c){this.ja="Body"+Tf++;this.G=new xe;this.G.position.P(a.position);this.G.B.Set(a.M);this.m=new we;this.m.S.qa();this.m.wd=1;this.m.ze=this.m.R=a.M;this.m.D.x=this.G.B.n.x*this.m.S.x+this.G.B.q.x*this.m.S.y;this.m.D.y=this.G.B.n.y*this.m.S.x+this.G.B.q.y*this.m.S.y;this.m.D.x+=this.G.position.x;this.m.D.y+=this.G.position.y;this.m.Dc.P(this.m.D);this.A=a.O.rc();this.k=R(0,0);this.L=a.$i;this.qb=a.j;this.Fa=a.k;this.de=a.C;this.O=a.hc;this.td=c;this.Fb=null;this.nd=new Uf;this.ba=new Vf;
this.J=a.u;this.bb=a.Ej;this.La=a.Yi;this.X=this.H=0;this.Ja=a.type;this.Y=2==this.Ja?1:0;this.N=2==this.Ja?1:0;this.W=this.j=0;this.Na=a.H;this.u=new Wf;this.C=[]}function Xf(a,c){var b=new Yf(a,0,c);if(a.O){var d=a.td.j.j;b.cc.Lh(b.j,a.G);b.k=of(d,b.j,b)}var d=a.u,e=b.Er;if(null==d.j[e]){var k=new Zf(b),l=d.u;null!=l?l.next=k:d.k=k;k.Vf(l);d.u=k;d.j[e]=k}b.oq=a;0<b.C&&$f(a);a.td.k=!0}x=Sf.prototype;x.jd=function(){Ae(this.A);Ae(this.k)};
function ag(a,c,b){a.G.B.Set(b);a.G.position.P(c);c=a.G.B;var d=a.m.S;a.m.D.x=c.n.x*d.x+c.q.x*d.y;a.m.D.y=c.n.y*d.x+c.q.y*d.y;a.m.D.x+=a.G.position.x;a.m.D.y+=a.G.position.y;a.m.Dc.P(a.m.D);a.m.ze=a.m.R=b;b=a.td.j.j;for(c=a.u.Ma();c;c=c.Ca())bg(c.Wd,b,a.G,a.G);cg(a.td.j)}x.Sd=function(){return this.G};x.Mh=function(){return this.m.R};x.cm=function(a){ag(this,this.G.position,a)};function dg(a,c){0!=a.Ja&&a.A.P(c)}x.dm=function(a){void 0===a&&(a=0);0!=this.Ja&&(this.J=a)};
x.Jh=function(a,c){2==this.Ja&&(eg(this,!0),this.k.x+=a.x,this.k.y+=a.y,this.H+=(c.x-this.m.D.x)*a.y-(c.y-this.m.D.y)*a.x)};x.Ho=function(a){void 0===a&&(a=0);2==this.Ja&&(eg(this,!0),this.H+=a)};x.Go=function(a,c){2==this.Ja&&(eg(this,!0),this.A.x+=this.N*a.x,this.A.y+=this.N*a.y,this.J+=this.W*((c.x-this.m.D.x)*a.y-(c.y-this.m.D.y)*a.x))};
function $f(a){a.Y=0;a.N=0;a.j=0;a.W=0;a.m.S.qa();if(0!=a.Ja&&1!=a.Ja){for(var c=R(0,0),b=a.u.Ma();b;b=b.Ca()){var d=b.Wd;if(0!=d.C){var e=void 0,e=new He;d.cc.dk(e,d.C);d=e;a.Y+=d.j;c.x+=d.k.x*d.j;c.y+=d.k.y*d.j;a.j+=d.u}}0<a.Y?(a.N=1/a.Y,c.x*=a.N,c.y*=a.N):(a.Y=1,a.N=1);0<a.j&&!a.qb?(a.j-=a.Y*(c.x*c.x+c.y*c.y),a.j*=a.Na,a.W=1/a.j):(a.j=0,a.W=0);b=a.m.D.rc();a.m.S.P(c);a.m.Dc.P(Ud(a.G,a.m.S));a.m.D.P(a.m.Dc);a.A.x+=a.J*-(a.m.D.y-b.y);a.A.y+=a.J*+(a.m.D.x-b.x);Ae(c);Ae(b)}}
function fg(a,c){var b=a.G.B,b=R(b.n.x*c.x+b.q.x*c.y,b.n.y*c.x+b.q.y*c.y);b.x+=a.G.position.x;b.y+=a.G.position.y;return b}x.Nc=function(){return this.Ja};function eg(a,c){if(a.de!=c){a.de=c;a.X=0;c||(a.A.qa(),a.J=0,a.k.qa(),a.H=0);for(var b=0;b<a.C.length;b++)gg(a.C[b],a)}}
x.Wr=function(a){if(a!=this.O){if(a){this.O=!0;a=this.td.j.j;for(var c=this.u.Ma();c;c=c.Ca()){var b=c.Wd,d=a;b.cc.Lh(b.j,this.G);b.k=of(d,b.j,b)}}else{this.O=!1;a=this.td.j.j;for(c=this.u.Ma();c;c=c.Ca())c.Wd.Ui(a);for(a=this.nd.Ma(hg);a;a=a.Ca())this.td.j.jd(a.Yb)}for(a=0;a<this.C.length;a++)gg(this.C[a],this)}};x.Og=function(){return this.O};x.Nh=function(){return this.nd};
function ig(a){jg.B.Set(a.m.ze);var c=jg.B,b=a.m.S;jg.position.x=a.m.Dc.x-(c.n.x*b.x+c.q.x*b.y);jg.position.y=a.m.Dc.y-(c.n.y*b.x+c.q.y*b.y);c=a.td.j.j;for(b=a.u.Ma();b;b=b.Ca())bg(b.Wd,c,jg,a.G)}function kg(a){a.G.B.Set(a.m.R);var c=a.G.B,b=a.m.S;a.G.position.x=a.m.D.x-(c.n.x*b.x+c.q.x*b.y);a.G.position.y=a.m.D.y-(c.n.y*b.x+c.q.y*b.y)}function lg(a,c){if(2!=a.Ja&&2!=c.Ja)return!1;for(var b=a.Fb;b;b=b.next)if(b.se==c&&0==b.lg.Qt)return!1;return!0}
x.Kg=function(a){this.m.Kg(a);this.m.D.P(this.m.Dc);this.m.R=this.m.ze;kg(this)};var Tf=0;function mg(){this.position=R(0,0);this.O=R(0,0);this.Yi=this.Ej=this.u=this.M=0;this.C=this.k=!0;this.$i=this.j=!1;this.type=0;this.hc=!0;this.H=1}function ng(){this.k=[];for(var a=0;a<=og;a++)this.k[a]=null;this.u=[];for(a=0;a<=og;a++)this.u[a]=null;this.j={}}ng.prototype.Ma=function(a){return this.k[a]};
function gg(a,c){var b=c.Nc(),d=c.ja,e=c.de,k=c.Og();2==b?pg(a,c,d,qg):rg(a,d,qg);0!=b?pg(a,c,d,sg):rg(a,d,sg);0!=b&&k&&e?pg(a,c,d,tg):rg(a,d,tg);e?pg(a,c,d,ug):rg(a,d,ug);k?pg(a,c,d,vg):rg(a,d,vg)}ng.prototype.am=function(a){var c=a.ja;if(null!=this.j[c]){Ja(a.C,this);for(a=0;a<=og;a++)rg(this,c,a);delete this.j[c]}};function rg(a,c,b){var d=a.j[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.j,c=c.Ca(),null==d?a.k[b]=c:d.next=c,null==c?a.u[b]=d:c.Vf(d)))}
function pg(a,c,b,d){var e=a.j[b];if(null==e){for(var e=[],k=0;k<=og;k++)e[k]=null;a.j[b]=e}null==e[d]&&(e[d]=new wg(c),c=a.u[d],null!=c?c.next=e[d]:a.k[d]=e[d],e[d].Vf(c),a.u[d]=e[d])}var qg=0,sg=1,vg=2,tg=3,ug=4,og=5;function wg(a){this.body=a;this.j=this.next=null}wg.prototype.Vf=function(a){this.j=a};wg.prototype.ab=function(){return this.body};wg.prototype.Ca=function(){return this.next};function xg(){}
xg.prototype.j=function(a,c){var b=a.H.rc(),d=c.H.rc();return b.j==d.j&&0!=b.j?0<b.j:0!=(b.u&d.k)&&0!=(b.k&d.u)};var yg=new xg;function zg(){this.j=[];this.k=[]}function Ag(){}Ag.prototype.BeginContact=function(){};Ag.prototype.EndContact=function(){};function Bg(a){this.td=a;this.u=yg;this.k=Cg;this.C=new Dg;this.j=new nf}
function cg(a){pf(a.j,function(c,b){a:{var d=c.ab(),e=b.ab();if(d!=e&&lg(e,d)&&a.u.j(c,b)){for(d=e.nd.Ma(hg);d;d=d.Ca())if(e=d.Yb.ac,e==c){if(e=d.Yb.Ob,e==b)break a}else if(e==b&&(e=d.Yb.Ob,e==c))break a;a.C.u(c,b)}}})}Bg.prototype.jd=function(a){a.Ri&&this.k.EndContact(a);0<a.pe.Pb&&(eg(a.ac.ab(),!0),eg(a.Ob.ab(),!0));Eg(a.um,a);Eg(a.vm,a);Eg(a.Eo,a);this.C.jd(a)};function Fg(){this.k=1;this.u=65535;this.j=0}Fg.prototype.rc=function(){var a=new Fg;a.k=this.k;a.u=this.u;a.j=this.j;return a};
function Yf(a,c,b){this.Er="Fixture"+Gg++;this.H=b.j.rc();this.j=Re();this.oq=a;this.cc=b.shape.rc();this.C=b.hh;this.O=b.kh;this.L=b.Fh;this.u=b.k}Yf.prototype.ab=function(){return this.oq};Yf.prototype.jd=function(){Qe.push(this.j)};Yf.prototype.Ui=function(a){null!=this.k&&(a.Ui(this.k),this.k=null)};
function bg(a,c,b,d){if(a.k){var e=Re(),k=Re();a.cc.Lh(e,b);a.cc.Lh(k,d);Xe(a.j,e,k);Qe.push(e);Qe.push(k);b=Wd(d.position,b.position);d=a.k;e=c.k;a=a.j;if(We(d.Ra,a))a=!1;else{jf(e,d);var k=.1+2*Math.abs(b.x),l=.1+2*Math.abs(b.y);d.Ra.j.x=a.j.x-k;d.Ra.j.y=a.j.y-l;d.Ra.k.x=a.k.x+k;d.Ra.k.y=a.k.y+l;lf(e,d);a=!0}a&&c.j.push(d);Ae(b)}}var Gg=0;function Hg(){this.j=new Fg;this.j.k=1;this.j.u=65535;this.j.j=0;this.shape=null;this.kh=.2;this.hh=this.Fh=0;this.k=!1}
function Wf(){this.u=this.k=null;this.j={}}Wf.prototype.Ma=function(){return this.k};function Zf(a){this.Wd=a;this.j=this.next=null}Zf.prototype.Vf=function(a){this.j=a};Zf.prototype.Ca=function(){return this.next};function Ig(a,c){this.ja=a;this.C=c;this.k=[];this.O=[];this.H=[];this.u=[];this.j=[]}function Jg(a){a.k=[];a.O=[];a.H=[];a.u=[];a.j=[]}function Kg(a,c){if(null!=a.ja)for(var b=0;b<a.u.length;++b)for(var d=c[b],e=new zg,k=0;k<d.H;++k)e.j[k]=d.u[k].Qb,e.k[k]=d.u[k].Qf}
function Lg(a,c){a.k.push(c);0!=c.Nc()&&(a.H.push(c),2==c.Nc()&&a.O.push(c))}function Mg(a,c,b,d,e){this.Ga=a;var k=0;0<a&&(k=1/a);this.j=k;this.ic=c;this.pl=b;this.Rl=d;this.Hg=e}function Ng(a,c){this.j=new Bg(this);this.u=new Og;this.k=!1;this.Kh=new ng;this.nd=new Uf;this.Fb=null;this.O=new Vf;this.L=0;this.X=c;this.C=a;this.H=0;this.RA=Pg(this,new mg)}var Qg=1-100*Number.MIN_VALUE;function Pg(a,c){var b=new Sf(c,a),d=a.Kh,e=b.ja;null==d.j[e]&&(pg(d,b,e,og),gg(d,b),b.C.push(d));return b}
function Rg(a,c){for(var b=c.Fb;b;){var d=b,b=b.next;Sg(a,d.lg)}for(b=c.ba.Ma();b;b=b.Ca())b.ny.am(c);for(b=c.nd.Ma(hg);b;b=b.Ca())a.j.jd(b.Yb);for(b=c.u.Ma();b;b=b.Ca()){var d=c,e=b.Wd,k=d.u,l=e.Er,f=k.j[l];if(null!=f){var m=f.j,f=f.Ca();null==m?k.k=f:m.next=f;null==f?k.u=m:f.Vf(m);delete k.j[l]}for(k=d.nd.Ma(hg);k;k=k.Ca())e!=k.Yb.ac&&e!=k.Yb.Ob||d.td.j.jd(k.Yb);d.O&&e.Ui(d.td.j.j);e.jd();e.oq=null;$f(d)}c.jd();a.Kh.am(c)}
function Tg(a,c){var b=c.u();b.Gj=null;if(b.xh=a.Fb)a.Fb.Gj=b;a.Fb=b;a.L++;b.Bd.lg=b;b.Bd.se=b.aa;b.Bd.prev=null;if(b.Bd.next=b.Z.Fb)b.Z.Fb.prev=b.Bd;b.Z.Fb=b.Bd;b.Cd.lg=b;b.Cd.se=b.Z;b.Cd.prev=null;if(b.Cd.next=b.aa.Fb)b.aa.Fb.prev=b.Cd;b.aa.Fb=b.Cd;var d=c.j,e=c.k;if(!c.O)for(var k=e.nd.Ma(hg);k;k=k.Ca())Zg(k.Yb,e)==d&&(k.Yb.ij=!0);return b}
function Sg(a,c){var b=c.Qt;c.Gj&&(c.Gj.xh=c.xh);c.xh&&(c.xh.Gj=c.Gj);c==a.Fb&&(a.Fb=c.xh);var d=c.Z,e=c.aa;eg(d,!0);eg(e,!0);c.Bd.prev&&(c.Bd.prev.next=c.Bd.next);c.Bd.next&&(c.Bd.next.prev=c.Bd.prev);c.Bd==d.Fb&&(d.Fb=c.Bd.next);c.Bd.prev=null;c.Bd.next=null;c.Cd.prev&&(c.Cd.prev.next=c.Cd.next);c.Cd.next&&(c.Cd.next.prev=c.Cd.prev);c.Cd==e.Fb&&(e.Fb=c.Cd.next);c.Cd.prev=null;c.Cd.next=null;a.L--;if(!b)for(b=e.nd.Ma(hg);b;b=b.Ca())Zg(b.Yb,e)==d&&(b.Yb.ij=!0)}
Ng.prototype.Pg=function(a,c,b){var d,e;this.k&&(cg(this.j),this.k=!1);for(var k=new Mg(a,this.H*a,c,b,!0),l=this.j,f=l.td.nd.Ma(hg);f;f=f.Ca()){var m=f.Yb,n=m.ac,h=m.Ob,g=n.ab(),r=h.ab();if(0!=g.de||0!=r.de){if(m.ij){if(0==lg(r,g)){l.jd(m);continue}if(0==l.u.j(n,h)){l.jd(m);continue}m.ij=!1}0==l.j.jk(n.k,h.k)?l.jd(m):$g(m,l.k)}}if(0<k.Ga){for(var p=this.O.Ma();p;p=p.Ca())p.ny.Pg(k);for(var v=new Ig(this.j.k,this.u),t=this.Kh.Ma(og);t;t=t.Ca())t.body.Cb=!1;for(var w=this.nd.Ma(hg);w;w=w.Ca())w.Yb.Cb=
!1;for(var q=this.Fb;q;q=q.xh)q.Cb=!1;for(t=this.Kh.Ma(tg);t;t=t.Ca()){var y=t.body;if(!y.Cb){Jg(v);ah.length=0;var B=ah;B.push(y);for(y.Cb=!0;0<B.length;){var F=B.pop();Lg(v,F);F.de||eg(F,!0);if(0!=F.Nc()){for(w=F.nd.Ma(bh);w;w=w.Ca()){var D=w.Yb;if(!D.Cb){v.u.push(D);D.Cb=!0;var C=Zg(D,F);C.Cb||(B.push(C),C.Cb=!0)}}for(var A=F.Fb;A;A=A.next)!A.lg.Cb&&A.se.Og()&&(v.j.push(A.lg),A.lg.Cb=!0,A.se.Cb||(B.push(A.se),A.se.Cb=!0))}}for(var u=v,z=k,J=this.X,S=u,N=z,L=this.C,P=0;P<S.O.length;P++){var G=S.O[P];
G.A.x+=N.Ga*(L.x+G.N*G.k.x);G.A.y+=N.Ga*(L.y+G.N*G.k.y);G.J+=N.Ga*G.W*G.H;G.A.je(Xd(1-N.Ga*G.bb,0,1));G.J*=Xd(1-N.Ga*G.La,0,1)}ch(u.C,u.u,u.u.length);for(var V=u,O=z,Q=V.C,K=0;K<Q.k;++K){var E=Q.j[K],T=E.j,H=E.k,U=T.N,ba=T.W,Fa=H.N,Z=H.W,la=E.C.x,na=E.C.y,$a=na,Wc=-la,ib=0,Jb=0;if(O.Hg)for(Jb=E.H,ib=0;ib<Jb;++ib){var La=E.u[ib];La.Qb*=O.ic;La.Qf*=O.ic;var Yb=La.Qb*la+La.Qf*$a,ac=La.Qb*na+La.Qf*Wc;T.J-=ba*(La.Gb.x*ac-La.Gb.y*Yb);T.A.x-=U*Yb;T.A.y-=U*ac;H.J+=Z*(La.Hb.x*ac-La.Hb.y*Yb);H.A.x+=Fa*Yb;H.A.y+=
Fa*ac}else for(Jb=E.H,ib=0;ib<Jb;++ib){var xb=E.u[ib];xb.Qb=0;xb.Qf=0}}for(var $b=0;$b<V.j.length;$b++)V.j[$b].nf(O);for(var Xc=0;Xc<O.Rl;Xc++){for(var Kb=0;Kb<V.j.length;Kb++)V.j[Kb].pf(O);dh(V.C)}for(var Zb=0;Zb<V.j.length;Zb++);for(var Yc=V.C,ea=0;ea<Yc.k;++ea)for(var Zc=Yc.j[ea],Ma=Zc.ja,yb=0;yb<Zc.H;++yb){var Lb=Ma.ra[yb],ab=Zc.u[yb];Lb.Ei=ab.Qb;Lb.Fi=ab.Qf}for(var Ug=u,wb=z,Se=0;Se<Ug.H.length;++Se){var ga=Ug.H[Se],Vg=wb.Ga*ga.A.x,Wg=wb.Ga*ga.A.y;4<Vg*Vg+Wg*Wg&&(De(ga.A),ga.A.x=2*ga.A.x*wb.j,
ga.A.y=2*ga.A.y*wb.j);var Xg=wb.Ga*ga.J;Xg*Xg>Md&&(ga.J=0>ga.J?-Ld*wb.j:Ld*wb.j);ga.m.Dc.P(ga.m.D);ga.m.ze=ga.m.R;ga.m.D.x+=wb.Ga*ga.A.x;ga.m.D.y+=wb.Ga*ga.A.y;ga.m.R+=wb.Ga*ga.J;kg(ga)}for(var Te=u,yi=z,Yg=0;Yg<yi.pl;Yg++){for(var zi=eh(Te.C,.2),Ue=!0,Ve=0;Ve<Te.j.length;Ve++)var Ai=Te.j[Ve].of(.2),Ue=Ue&&Ai;if(zi&&Ue)break}Kg(u,u.C.j);if(J){for(var ee=u,Oi=z,fe=Number.MAX_VALUE,zf=0;zf<ee.H.length;zf++){var Nb=ee.H[zf];!Nb.Fa||Math.abs(Nb.J)>Nd||1E-4<Pd(Nb.A,Nb.A)?fe=Nb.X=0:(Nb.X+=Oi.Ga,fe=Math.min(fe,
Nb.X))}if(.5<=fe)for(var Af=0;Af<ee.k.length;Af++)eg(ee.k[Af],!1)}}}for(t=this.Kh.Ma(tg);t;t=t.Ca())ig(t.body);cg(this.j);for(var ya=new Ig(this.j.k,this.u),ge=this.Kh.Ma(og);ge;ge=ge.Ca()){var Bb=ge.body;Bb.Cb=!1;Bb.m.wd=0}for(var Na=this.nd.Ma(hg);Na;Na=Na.Ca())Na.Yb.Cb=!1,Na.Yb.j=null;for(var he=this.Fb;he;he=he.xh)he.Cb=!1;for(;;){for(var Mh=null,Bf=1,ie=this.nd.Ma(fh);ie;ie=ie.Ca()){var mb=ie.Yb,Nh=mb.ac.ab(),Oh=mb.Ob.ab();if(2==Nh.Nc()&&Nh.de||2==Oh.Nc()&&Oh.de){var bb=1;if(null!=mb.j)bb=mb.j;
else if(mb.Ri)bb=1,mb.j=bb;else{var Ac=mb.ac.ab(),hd=mb.Ob.ab(),id=Ac.m.wd;Ac.m.wd<hd.m.wd?(id=hd.m.wd,Ac.m.Kg(id)):hd.m.wd<Ac.m.wd&&(id=Ac.m.wd,hd.m.Kg(id));var Ph=mb,Pi=Ac.m,Qi=hd.m;gh.ug.Set(Ph.ac.cc);gh.vg.Set(Ph.Ob.cc);gh.jv=Pi;gh.kv=Qi;gh.eC=.005;var jd=gh;hh++;var Df=jd.ug,Ef=jd.vg,Ff=jd.jv,Gf=jd.kv,je=Df.$a+Ef.$a,ke=jd.eC,nb=0,kd=0,Bc=0;ih.count=0;for(jh.u=!1;;){Ff.Sd(xf,nb);Gf.Sd(yf,nb);jh.ug=Df;jh.vg=Ef;jh.j=xf;jh.k=yf;af(kh,ih,jh);if(0>=kh.wf){nb=1;break}var Si=Ef,W=wf,Ba=ih,ob=xf,pb=yf;
W.k=Df;W.u=Si;var Ob=void 0,qb=void 0,Fb=void 0,Pb=void 0,rb=void 0,Gb=void 0,Dc=0,Ec=0,Fc=0,Gc=0,le=0,me=0,X=void 0,Y=void 0,cb=0;if(1==Ba.count)W.Ja=Cf,Ob=cf(W.k,Ba.Zb[0]),Pb=cf(W.u,Ba.$b[0]),Y=Ob,X=ob.B,Dc=ob.position.x+(X.n.x*Y.x+X.q.x*Y.y),Ec=ob.position.y+(X.n.y*Y.x+X.q.y*Y.y),Y=Pb,X=pb.B,Fc=pb.position.x+(X.n.x*Y.x+X.q.x*Y.y),Gc=pb.position.y+(X.n.y*Y.x+X.q.y*Y.y),W.j.x=Fc-Dc,W.j.y=Gc-Ec,De(W.j);else{if(Ba.$b[0]==Ba.$b[1])W.Ja=Hf,qb=cf(W.k,Ba.Zb[0]),Fb=cf(W.k,Ba.Zb[1]),Pb=cf(W.u,Ba.$b[0]),
W.za.x=.5*(qb.x+Fb.x),W.za.y=.5*(qb.y+Fb.y),W.j=Rd(Wd(Fb,qb)),De(W.j),Y=W.j,X=ob.B,le=X.n.x*Y.x+X.q.x*Y.y,me=X.n.y*Y.x+X.q.y*Y.y,Y=W.za,X=ob.B,Dc=ob.position.x+(X.n.x*Y.x+X.q.x*Y.y),Ec=ob.position.y+(X.n.y*Y.x+X.q.y*Y.y),Y=Pb,X=pb.B,Fc=pb.position.x+(X.n.x*Y.x+X.q.x*Y.y),Gc=pb.position.y+(X.n.y*Y.x+X.q.y*Y.y),cb=(Fc-Dc)*le+(Gc-Ec)*me;else if(Ba.Zb[0]==Ba.Zb[0])W.Ja=Of,rb=cf(W.u,Ba.$b[0]),Gb=cf(W.u,Ba.$b[1]),Ob=cf(W.k,Ba.Zb[0]),W.za.x=.5*(rb.x+Gb.x),W.za.y=.5*(rb.y+Gb.y),W.j=Rd(Wd(Gb,rb)),De(W.j),
Y=W.j,X=pb.B,le=X.n.x*Y.x+X.q.x*Y.y,me=X.n.y*Y.x+X.q.y*Y.y,Y=W.za,X=pb.B,Fc=pb.position.x+(X.n.x*Y.x+X.q.x*Y.y),Gc=pb.position.y+(X.n.y*Y.x+X.q.y*Y.y),Y=Ob,X=ob.B,Dc=ob.position.x+(X.n.x*Y.x+X.q.x*Y.y),Ec=ob.position.y+(X.n.y*Y.x+X.q.y*Y.y),cb=(Dc-Fc)*le+(Ec-Gc)*me;else{var qb=cf(W.k,Ba.Zb[0]),Fb=cf(W.k,Ba.Zb[1]),rb=cf(W.u,Ba.$b[0]),Gb=cf(W.u,Ba.$b[1]),Hb=Sd(ob.B,Wd(Fb,qb)),Ib=Sd(pb.B,Wd(Gb,rb)),Rh=Hb.x*Hb.x+Hb.y*Hb.y,If=Ib.x*Ib.x+Ib.y*Ib.y,ne=Wd(Ib,Hb),Sh=Hb.x*ne.x+Hb.y*ne.y,Th=Ib.x*ne.x+Ib.y*ne.y,
ld=Hb.x*Ib.x+Hb.y*Ib.y,Uh=Rh*If-ld*ld,cb=0;0!=Uh&&(cb=Xd((ld*Th-Sh*If)/Uh,0,1));0>(ld*cb+Th)/If&&(cb=Xd((ld-Sh)/Rh,0,1));Ob=R(0,0);Ob.x=qb.x+cb*(Fb.x-qb.x);Ob.y=qb.y+cb*(Fb.y-qb.y);Pb=R(0,0);Pb.x=rb.x+cb*(Gb.x-rb.x);Pb.y=rb.y+cb*(Gb.y-rb.y);0==cb||1==cb?(W.Ja=Of,W.j=Rd(Wd(Gb,rb)),De(W.j),W.za=Pb):(W.Ja=Hf,W.j=Rd(Wd(Fb,qb)),W.za=Ob)}if(0>cb){var oe=W.j;oe.x=-oe.x;oe.y=-oe.y}}var md=vf();if(0>=md){nb=1;break}0==kd&&(Bc=md>je?Math.max(je-ke,.75*je):Math.max(md-ke,.02*je));if(md-Bc<.5*ke){if(0==kd){nb=
1;break}break}var Jf=nb,pe=nb,nd=1,Kf=md;Ff.Sd(xf,nd);Gf.Sd(yf,nd);var Lf=vf();if(Lf>=Bc){nb=1;break}for(var qe=0;;){var Hc=0,Hc=qe&1?pe+(Bc-Kf)*(nd-pe)/(Lf-Kf):.5*(pe+nd);Ff.Sd(xf,Hc);Gf.Sd(yf,Hc);var re=vf();if(Math.abs(re-Bc)<.025*ke){Jf=Hc;break}re>Bc?(pe=Hc,Kf=re):(nd=Hc,Lf=re);qe++;lh++;if(50==qe)break}mh=Math.max(mh,qe);if(Jf<(1+100*Number.MIN_VALUE)*nb)break;nb=Jf;kd++;nh++;if(1E3==kd)break}oh=Math.max(oh,kd);bb=nb;0<bb&&1>bb&&(bb=(1-bb)*id+bb);mb.j=bb}Number.MIN_VALUE<bb&&bb<Bf&&(Mh=mb,Bf=
bb)}}d=Mh;e=Bf;var Qb=d,Ic=e;if(null===Qb||Qg<Ic)break;var od=Qb.ac.ab(),pd=Qb.Ob.ab();ph.Set(od.m);qh.Set(pd.m);od.Kg(Ic);pd.Kg(Ic);$g(Qb,this.j.k);Qb.j=null;if(Qb.H||!Qb.enabled)od.m.Set(ph),pd.m.Set(qh),kg(od),kg(pd);else if(Qb.Ri){var se=od;2!=se.Nc()&&(se=pd);Jg(ya);ah.length=0;var qd=ah;qd.push(se);for(se.Cb=!0;0<qd.length;)if(Bb=qd.pop(),Lg(ya,Bb),Bb.de||eg(Bb,!0),2==Bb.Nc()){for(Na=Bb.nd.Ma(bh);Na&&32!=ya.X;Na=Na.Ca()){var te=Na.Yb;if(!te.Cb){ya.u.push(te);te.Cb=!0;var Jc=Zg(te,Bb);Jc.Cb||
(0!=Jc.Nc()&&(Jc.Kg(Ic),eg(Jc,!0),qd.push(Jc)),Jc.Cb=!0)}}for(var db=Bb.Fb;db;db=db.next)32!=ya.L&&!db.lg.Cb&&db.se.Og()&&(ya.j.push(db.lg),db.lg.Cb=!0,db.se.Cb||(0!=db.se.Nc()&&(db.se.Kg(Ic),eg(db.se,!0),qd.push(db.se)),db.se.Cb=!0))}var eb=ya,Wa=new Mg((1-Ic)*k.Ga,0,k.Rl,k.pl,!1),Xa=0,Rb=0;ch(eb.C,eb.u,eb.u.length);for(var Mf=eb.C,Xa=0;Xa<eb.j.length;++Xa)eb.j[Xa].nf(Wa);for(Xa=0;Xa<Wa.Rl;++Xa)for(dh(Mf),Rb=0;Rb<eb.j.length;++Rb)eb.j[Rb].pf(Wa);for(Xa=0;Xa<eb.H.length;++Xa){var ja=eb.H[Xa],Zh=Wa.Ga*
ja.A.x,$h=Wa.Ga*ja.A.y;4<Zh*Zh+$h*$h&&(De(ja.A),ja.A.x=2*ja.A.x*Wa.j,ja.A.y=2*ja.A.y*Wa.j);var ai=Wa.Ga*ja.J;ai*ai>Md&&(ja.J=0>ja.J?-Ld*Wa.j:Ld*Wa.j);ja.m.Dc.P(ja.m.D);ja.m.ze=ja.m.R;ja.m.D.x+=Wa.Ga*ja.A.x;ja.m.D.y+=Wa.Ga*ja.A.y;ja.m.R+=Wa.Ga*ja.J;kg(ja)}for(Xa=0;Xa<Wa.pl;++Xa){for(var Vi=eh(Mf,.75),Nf=!0,Rb=0;Rb<eb.j.length;++Rb)var Wi=eb.j[Rb].of(.2),Nf=Nf&&Wi;if(Vi&&Nf)break}Kg(eb,Mf.j);for(var Ia=0;Ia<ya.k.length;Ia++)if(ya.k[Ia].Cb=!1,ya.k[Ia].de&&2==ya.k[Ia].Nc())for(ig(ya.k[Ia]),Na=ya.k[Ia].nd.Ma(hg);Na;Na=
Na.Ca())Na.Yb.j=null;for(Ia=0;Ia<ya.X;Ia++)ya.u[Ia].Cb=!1,ya.u[Ia].j=null;for(Ia=0;Ia<ya.L;Ia++)ya.j[Ia].Cb=!1;cg(this.j)}}this.H=k.j}};Ng.prototype.Nh=function(){return this.nd};var ah=[];function rh(a,c){this.k="Contact"+sh++;this.pe=new tf;this.C=new tf;this.Ri=!1;var b=a.ab(),d=c.ab();this.O=2!=b.Nc()||b.L||2!=d.Nc()||d.L;this.H=a.u||c.u;this.ij=!1;this.ac=a;this.Ob=c;this.enabled=!0;this.um=b.Nh();this.vm=d.Nh();this.Eo=d.td.Nh();th(this)}
rh.prototype.Cc=function(a,c){this.pe.Cc();this.C.Cc();this.Ri=!1;var b=a.ab(),d=c.ab();this.O=2!=b.Nc()||b.L||2!=d.Nc()||d.L;this.H=a.u||c.u;this.ij=!1;this.ac=a;this.Ob=c;this.enabled=!0;this.um=b.Nh();this.vm=d.Nh();this.Eo=d.td.Nh();th(this)};function th(a){uh(a.um,a);uh(a.vm,a);uh(a.Eo,a);vh(a)}function vh(a){var c=!1,b=!1;!a.H&&a.enabled&&(a.Ri&&(c=!0),a.O&&(b=!0));wh(a.um,a,c,b);wh(a.vm,a,c,b);wh(a.Eo,a,c,b)}function Zg(a,c){var b=a.ac.ab();return b!=c?b:a.Ob.ab()}
function $g(a,c){var b=a.C;a.C=a.pe;a.pe=b;a.enabled=!0;var d=!1,b=a.Ri,e=a.ac.ab(),k=a.Ob.ab(),l=a.ac.j.jk(a.Ob.j);if(a.H){if(l){var d=a.ac.cc,e=e.Sd(),l=a.Ob.cc,f=k.Sd(),k=new ef;k.ug=new gf;k.ug.Set(d);k.vg=new gf;k.vg.Set(l);k.j=e;k.k=f;k.u=!0;e=new Qf;e.count=0;d=new ff;af(d,e,k);d=d.wf<10*Number.MIN_VALUE}a.pe.Pb=0}else{a.O=2!=e.Nc()||e.L||2!=k.Nc()||k.L?!0:!1;if(l)for(a.u(),d=0<a.pe.Pb,l=0;l<a.pe.Pb;l++){f=a.pe.ra[l];f.Ei=0;for(var m=f.Fi=0;m<a.C.Pb;m++){var n=a.C.ra[m];if(n.Me.Vb==f.Me.Vb){f.Ei=
n.Ei;f.Fi=n.Fi;break}}}else a.pe.Pb=0;d!=b&&(eg(e,!0),eg(k,!0))}a.Ri=d;d!=b&&vh(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}rh.prototype.u=function(){};var gh=new Rf,sh=0;function xh(a,c){rh.call(this,a,c)}Id(xh,rh);xh.prototype.Cc=function(a,c){rh.prototype.Cc.call(this,a,c)};
xh.prototype.u=function(){var a=this.pe,c=this.ac.cc,b=this.ac.ab().G,d=this.Ob.cc,e=this.Ob.ab().G;a.Pb=0;var k=e.position.x+(e.B.n.x*d.kb.x+e.B.q.x*d.kb.y)-(b.position.x+(b.B.n.x*c.kb.x+b.B.q.x*c.kb.y)),b=e.position.y+(e.B.n.y*d.kb.x+e.B.q.y*d.kb.y)-(b.position.y+(b.B.n.y*c.kb.x+b.B.q.y*c.kb.y)),e=c.$a+d.$a;k*k+b*b>e*e||(a.Ja=1,a.za.P(c.kb),a.Jc.qa(),a.Pb=1,a.ra[0].za.P(d.kb),Ne(a.ra[0].Me,0))};
function yh(){this.O=R(0,0);this.Nb=R(0,0);this.C=R(0,0);this.pg=new Yd;this.L=new Yd;this.u=[];for(var a=0;2>a;a++)this.u[a]=new zh}function zh(){this.Nb=R(0,0);this.Gb=R(0,0);this.Hb=R(0,0)}zh.prototype.Cc=function(){this.Nb.Set(0,0);this.Gb.Set(0,0);this.Hb.Set(0,0)};
function Dg(){this.j={};this.k={};Ah(this,xh,"b2CircleShape","b2CircleShape");Ah(this,Bh,"b2PolygonShape","b2CircleShape");Ah(this,Ch,"b2PolygonShape","b2PolygonShape");Ah(this,Dh,"b2EdgeShape","b2CircleShape");Ah(this,Eh,"b2PolygonShape","b2EdgeShape")}function Ah(a,c,b,d){a.k[b]=a.k[b]||{};a.k[b][d]=a.k[b][d]||[];a.j[b]=a.j[b]||{};a.j[b][d]=new Fh;a.j[b][d].ys=c;a.j[b][d].Au=!0;b!=d&&(a.j[d]=a.j[d]||{},a.j[d][b]=new Fh,a.j[d][b].ys=c,a.j[d][b].Au=!1)}
Dg.prototype.u=function(a,c){var b=a.cc.Oh(),d=c.cc.Oh(),e=this.j[b][d],k=e.ys;return null!=k?e.Au?0<this.k[b][d].length?(b=this.k[b][d].pop(),b.Cc(a,c),b):new k(a,c):0<this.k[d][b].length?(b=this.k[d][b].pop(),b.Cc(c,a),b):new k(c,a):null};Dg.prototype.jd=function(a){this.k[a.ac.cc.Oh()][a.Ob.cc.Oh()].push(a)};function Uf(){this.k=[];for(var a=0;a<=hg;a++)this.k[a]=null;this.u=[];for(a=0;a<=hg;a++)this.u[a]=null;this.j={}}Uf.prototype.Ma=function(a){return this.k[a]};
function uh(a,c){var b=c.k;if(null==a.j[b]){a.j[b]=[];for(var d=0;d<=hg;d++)a.j[b][d]=null;Gh(a,c,b,hg)}}function wh(a,c,b,d){b?Gh(a,c,c.k,bh):Hh(a,c.k,bh);d?Gh(a,c,c.k,fh):Hh(a,c.k,fh)}function Eg(a,c){var b=c.k;if(null!=a.j[b]){for(var d=0;d<=hg;d++)Hh(a,b,d);delete a.j[b]}}function Hh(a,c,b){var d=a.j[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.j,e=c.Ca();null==d?a.k[b]=e:d.next=e;null==e?a.u[b]=d:e.Vf(d);Ih.push(c)}}
function Gh(a,c,b,d){b=a.j[b];if(null==b[d]){if(0<Ih.length){var e=Ih.pop();e.next=null;e.j=null;e.Yb=c;c=e}else c=new Jh(c);b[d]=c;c=a.u[d];null!=c?(c.next=b[d],b[d].Vf(c)):a.k[d]=b[d];a.u[d]=b[d]}}var bh=0,fh=1,hg=2;function Jh(a){this.Yb=a;this.j=this.next=null}var Ih=[];Jh.prototype.Vf=function(a){this.j=a};Jh.prototype.Ca=function(){return this.next};function Fh(){}function Og(){this.j=[]}
function ch(a,c,b){for(a.k=b;a.j.length<a.k;)a.j[a.j.length]=new yh;for(var d=0;d<b;d++){var e=c[d],k=e.ac,l=e.Ob,f=k.cc.$a,m=l.cc.$a,n=k.ab(),h=l.ab(),e=e.pe,g=Math.sqrt(k.O*l.O),r,k=k.L,l=l.L;r=k>l?k:l;var l=n.A.x,k=n.A.y,p=h.A.x,v=h.A.y,t=n.J,w=h.J,q=e,y=n.G,B=f,F=h.G,D=m,C=Kh;if(0!=q.Pb){var A=0,u=void 0,z=void 0,J=0,S=0,N=0,L=0,P=0,u=0;switch(q.Ja){case 1:z=y.B;u=q.za;A=y.position.x+z.n.x*u.x+z.q.x*u.y;y=y.position.y+z.n.y*u.x+z.q.y*u.y;z=F.B;u=q.ra[0].za;q=F.position.x+z.n.x*u.x+z.q.x*u.y;F=
F.position.y+z.n.y*u.x+z.q.y*u.y;u=q-A;z=F-y;J=u*u+z*z;J>Od?(J=Math.sqrt(J),C.j.x=u/J,C.j.y=z/J):(C.j.x=1,C.j.y=0);u=y+B*C.j.y;F=F-D*C.j.y;C.ra[0].x=.5*(A+B*C.j.x+(q-D*C.j.x));C.ra[0].y=.5*(u+F);break;case 2:z=y.B;u=q.Jc;J=z.n.x*u.x+z.q.x*u.y;S=z.n.y*u.x+z.q.y*u.y;z=y.B;u=q.za;N=y.position.x+z.n.x*u.x+z.q.x*u.y;L=y.position.y+z.n.y*u.x+z.q.y*u.y;C.j.x=J;C.j.y=S;for(A=0;A<q.Pb;A++)z=F.B,u=q.ra[A].za,P=F.position.x+z.n.x*u.x+z.q.x*u.y,u=F.position.y+z.n.y*u.x+z.q.y*u.y,C.ra[A].x=P+.5*(B-(P-N)*J-(u-
L)*S-D)*J,C.ra[A].y=u+.5*(B-(P-N)*J-(u-L)*S-D)*S;break;case 4:for(z=F.B,u=q.Jc,J=z.n.x*u.x+z.q.x*u.y,S=z.n.y*u.x+z.q.y*u.y,z=F.B,u=q.za,N=F.position.x+z.n.x*u.x+z.q.x*u.y,L=F.position.y+z.n.y*u.x+z.q.y*u.y,C.j.x=-J,C.j.y=-S,A=0;A<q.Pb;A++)z=y.B,u=q.ra[A].za,P=y.position.x+z.n.x*u.x+z.q.x*u.y,u=y.position.y+z.n.y*u.x+z.q.y*u.y,C.ra[A].x=P+.5*(D-(P-N)*J-(u-L)*S-B)*J,C.ra[A].y=u+.5*(D-(P-N)*J-(u-L)*S-B)*S}}D=Kh.j.x;C=Kh.j.y;B=a.j[d];B.j=n;B.k=h;B.ja=e;B.C.x=D;B.C.y=C;B.H=e.Pb;B.kh=g;B.Fh=r;B.O.x=e.Jc.x;
B.O.y=e.Jc.y;B.Nb.x=e.za.x;B.Nb.y=e.za.y;B.X=f+m;B.type=e.Ja;for(f=0;f<B.H;++f)g=e.ra[f],m=B.u[f],m.Qb=g.Ei,m.Qf=g.Fi,m.Nb.P(g.za),g=m.Gb.x=Kh.ra[f].x-n.m.D.x,r=m.Gb.y=Kh.ra[f].y-n.m.D.y,F=m.Hb.x=Kh.ra[f].x-h.m.D.x,A=m.Hb.y=Kh.ra[f].y-h.m.D.y,q=g*C-r*D,u=F*C-A*D,q*=q,u*=u,m.pg=1/(n.N+h.N+n.W*q+h.W*u),z=n.Y*n.N+h.Y*h.N,z+=n.Y*n.W*q+h.Y*h.W*u,m.bz=1/z,u=C,z=-D,q=g*z-r*u,u=F*z-A*u,q*=q,u*=u,m.$B=1/(n.N+h.N+n.W*q+h.W*u),m.Ql=0,g=B.C.x*(p+-w*A-l- -t*r)+B.C.y*(v+w*F-k-t*g),-1>g&&(m.Ql+=-B.Fh*g);2==B.H&&
(v=B.u[0],p=B.u[1],e=n.N,n=n.W,l=h.N,h=h.W,k=v.Gb.x*C-v.Gb.y*D,v=v.Hb.x*C-v.Hb.y*D,t=p.Gb.x*C-p.Gb.y*D,f=p.Hb.x*C-p.Hb.y*D,p=e+l+n*k*k+h*v*v,w=e+l+n*t*t+h*f*f,h=e+l+n*k*t+h*v*f,p*p<100*(p*w-h*h)?(B.L.n.Set(p,h),B.L.q.Set(h,w),ae(B.L,B.pg)):B.H=1)}}
function dh(a){for(var c=0;c<a.k;c++){for(var b=a.j[c],d=b.C.x,e=b.C.y,k=0;k<b.H;k++){var l=b,f=b.u[k],m=l.C.y,n=-l.C.x,h=l.kh*f.Qb,h=Xd(f.Qf-f.$B*((l.k.A.x-l.k.J*f.Hb.y-l.j.A.x+l.j.J*f.Gb.y)*m+(l.k.A.y+l.k.J*f.Hb.x-l.j.A.y-l.j.J*f.Gb.x)*n),-h,h),g=h-f.Qf,m=g*m,n=g*n;l.j.A.x-=l.j.N*m;l.j.A.y-=l.j.N*n;l.j.J-=l.j.W*(f.Gb.x*n-f.Gb.y*m);l.k.A.x+=l.k.N*m;l.k.A.y+=l.k.N*n;l.k.J+=l.k.W*(f.Hb.x*n-f.Hb.y*m);f.Qf=h}if(1==b.H)k=b.u[0],l=k.Qb-k.pg*((b.k.A.x-b.k.J*k.Hb.y-b.j.A.x+b.j.J*k.Gb.y)*d+(b.k.A.y+b.k.J*
k.Hb.x-b.j.A.y-b.j.J*k.Gb.x)*e-k.Ql),l=0<l?l:0,f=l-k.Qb,d=f*d,e=f*e,b.j.A.x-=b.j.N*d,b.j.A.y-=b.j.N*e,b.j.J-=b.j.W*(k.Gb.x*e-k.Gb.y*d),b.k.A.x+=b.k.N*d,b.k.A.y+=b.k.N*e,b.k.J+=b.k.W*(k.Hb.x*e-k.Hb.y*d),k.Qb=l;else for(k=b.u[0],l=b.u[1],f=k.Qb,n=l.Qb,h=(b.k.A.x-b.k.J*k.Hb.y-b.j.A.x+b.j.J*k.Gb.y)*d+(b.k.A.y+b.k.J*k.Hb.x-b.j.A.y-b.j.J*k.Gb.x)*e-k.Ql,e=(b.k.A.x-b.k.J*l.Hb.y-b.j.A.x+b.j.J*l.Gb.y)*d+(b.k.A.y+b.k.J*l.Hb.x-b.j.A.y-b.j.J*l.Gb.x)*e-l.Ql,h-=b.L.n.x*f+b.L.q.x*n,e-=b.L.n.y*f+b.L.q.y*n;;){d=-(b.pg.n.x*
h+b.pg.q.x*e);if(0<=d&&(m=-(b.pg.n.y*h+b.pg.q.y*e),0<=m)){Lh(b,k,l,d-f,m-n);k.Qb=d;l.Qb=m;break}d=-k.pg*h;if(0<=d&&0<=b.L.n.y*d+e){Lh(b,k,l,d-f,-n);k.Qb=d;l.Qb=0;break}d=-l.pg*e;if(0<=d&&0<=b.L.q.x*d+h){Lh(b,k,l,-f,d-n);k.Qb=0;l.Qb=d;break}if(0<=h&&0<=e){Lh(b,k,l,-f,-n);k.Qb=0;l.Qb=0;break}break}}}
function Lh(a,c,b,d,e){var k=d*a.C.x;d*=a.C.y;var l=e*a.C.x;e*=a.C.y;a.j.A.x-=a.j.N*(k+l);a.j.A.y-=a.j.N*(d+e);a.j.J-=a.j.W*(c.Gb.x*d-c.Gb.y*k+b.Gb.x*e-b.Gb.y*l);a.k.A.x+=a.k.N*(k+l);a.k.A.y+=a.k.N*(d+e);a.k.J+=a.k.W*(c.Hb.x*d-c.Hb.y*k+b.Hb.x*e-b.Hb.y*l);c.Qb=0;b.Qb=0}
function eh(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.k;d++){var e=a.j[d],k=e.j,l=e.k,f=k.Y*k.N,m=k.Y*k.W,n=l.Y*l.N,h=l.Y*l.W,g=e,r=Qh;switch(g.type){case 1:var p=g.j.G.B,v=g.Nb,t=g.j.G.position.x+(p.n.x*v.x+p.q.x*v.y),w=g.j.G.position.y+(p.n.y*v.x+p.q.y*v.y),p=g.k.G.B,v=g.u[0].Nb,q=g.k.G.position.x+(p.n.x*v.x+p.q.x*v.y),p=g.k.G.position.y+(p.n.y*v.x+p.q.y*v.y),v=q-t,y=p-w,B=v*v+y*y;B>Od?(B=Math.sqrt(B),r.j.x=v/B,r.j.y=y/B):(r.j.x=1,r.j.y=0);r.ra[0].x=.5*(t+q);r.ra[0].y=.5*(w+p);r.k[0]=v*r.j.x+y*
r.j.y-g.X;break;case 2:r.j.x=g.j.G.B.n.x*g.O.x+g.j.G.B.q.x*g.O.y;r.j.y=g.j.G.B.n.y*g.O.x+g.j.G.B.q.y*g.O.y;t=g.j.G.position.x+(g.j.G.B.n.x*g.Nb.x+g.j.G.B.q.x*g.Nb.y);w=g.j.G.position.y+(g.j.G.B.n.y*g.Nb.x+g.j.G.B.q.y*g.Nb.y);for(q=0;q<g.H;q++)p=g.k.G.position.x+(g.k.G.B.n.x*g.u[q].Nb.x+g.k.G.B.q.x*g.u[q].Nb.y),v=g.k.G.position.y+(g.k.G.B.n.y*g.u[q].Nb.x+g.k.G.B.q.y*g.u[q].Nb.y),r.k[q]=(p-t)*r.j.x+(v-w)*r.j.y-g.X,r.ra[q].x=p,r.ra[q].y=v;break;case 4:r.j.x=g.k.G.B.n.x*g.O.x+g.k.G.B.q.x*g.O.y;r.j.y=
g.k.G.B.n.y*g.O.x+g.k.G.B.q.y*g.O.y;t=g.k.G.position.x+(g.k.G.B.n.x*g.Nb.x+g.k.G.B.q.x*g.Nb.y);w=g.k.G.position.y+(g.k.G.B.n.y*g.Nb.x+g.k.G.B.q.y*g.Nb.y);for(q=0;q<g.H;q++)p=g.j.G.position.x+(g.j.G.B.n.x*g.u[q].Nb.x+g.j.G.B.q.x*g.u[q].Nb.y),v=g.j.G.position.y+(g.j.G.B.n.y*g.u[q].Nb.x+g.j.G.B.q.y*g.u[q].Nb.y),r.k[q]=(p-t)*r.j.x+(v-w)*r.j.y-g.X,r.ra[q].Set(p,v);r.j.x*=-1;r.j.y*=-1}r=Qh.j;for(g=0;g<e.H;g++)v=e.u[g],p=Qh.ra[g],y=Qh.k[g],t=p.x-k.m.D.x,w=p.y-k.m.D.y,q=p.x-l.m.D.x,p=p.y-l.m.D.y,b=b<y?b:
y,y=-v.bz*Xd(c*(y+.005),-.2,0),v=y*r.x,y*=r.y,k.m.D.x-=f*v,k.m.D.y-=f*y,k.m.R-=m*(t*y-w*v),kg(k),l.m.D.x+=n*v,l.m.D.y+=n*y,l.m.R+=h*(q*y-p*v),kg(l)}return-.0075<b}function Dh(a,c){rh.call(this,a,c)}Id(Dh,rh);Dh.prototype.Cc=function(a,c){rh.prototype.Cc.call(this,a,c)};Dh.prototype.u=function(){};function Bh(a,c){rh.call(this,a,c)}Id(Bh,rh);Bh.prototype.Cc=function(a,c){rh.prototype.Cc.call(this,a,c)};
Bh.prototype.u=function(){a:{var a=this.pe,c=this.ac.cc,b=this.ac.ab().G,d=this.Ob.cc,e=this.Ob.ab().G;a.Pb=0;for(var k=e.position.x+(e.B.n.x*d.kb.x+e.B.q.x*d.kb.y)-b.position.x,l=e.position.y+(e.B.n.y*d.kb.x+e.B.q.y*d.kb.y)-b.position.y,e=k*b.B.n.x+l*b.B.n.y,b=k*b.B.q.x+l*b.B.q.y,k=0,l=-Number.MAX_VALUE,f=c.$a+d.$a,m=0;m<c.eb;++m){var n=c.sb[m].x*(e-c.T[m].x)+c.sb[m].y*(b-c.T[m].y);if(n>f)break a;n>l&&(l=n,k=m)}n=k+1;n>=c.eb&&(n=0);var m=c.T[k],h=c.T[n];l<Number.MIN_VALUE?(a.Pb=1,a.Ja=2,a.Jc.P(c.sb[k]),
a.za.x=.5*(m.x+h.x),a.za.y=.5*(m.y+h.y),a.ra[0].za.P(d.kb),Ne(a.ra[0].Me,0)):0>=(e-m.x)*(h.x-m.x)+(b-m.y)*(h.y-m.y)?(e-m.x)*(e-m.x)+(b-m.y)*(b-m.y)>f*f||(a.Pb=1,a.Ja=2,a.Jc.x=e-m.x,a.Jc.y=b-m.y,De(a.Jc),a.za.P(m),a.ra[0].za.P(d.kb),Ne(a.ra[0].Me,0)):0>=(e-h.x)*(m.x-h.x)+(b-h.y)*(m.y-h.y)?(e-h.x)*(e-h.x)+(b-h.y)*(b-h.y)>f*f||(a.Pb=1,a.Ja=2,a.Jc.x=e-h.x,a.Jc.y=b-h.y,De(a.Jc),a.za.P(h),a.ra[0].za.P(d.kb),Ne(a.ra[0].Me,0)):(n=.5*(m.x+h.x),m=.5*(m.y+h.y),l=(e-n)*c.sb[k].x+(b-m)*c.sb[k].y,l>f||(a.Pb=1,
a.Ja=2,a.Jc.x=c.sb[k].x,a.Jc.y=c.sb[k].y,De(a.Jc),a.za.Set(n,m),a.ra[0].za.P(d.kb),Ne(a.ra[0].Me,0)))}};function Eh(a,c){rh.call(this,a,c)}Id(Eh,rh);Eh.prototype.Cc=function(a,c){rh.prototype.Cc.call(this,a,c)};Eh.prototype.u=function(){};function Ch(a,c){rh.call(this,a,c)}Id(Ch,rh);Ch.prototype.Cc=function(a,c){rh.prototype.Cc.call(this,a,c)};
Ch.prototype.u=function(){var a=this.pe,c=this.ac.cc,b=this.ac.ab().G,d=this.Ob.cc,e=this.Ob.ab().G;a.Pb=0;var k=c.$a+d.$a,l=$e(c,b,d,e),f=l.ms;if(!(l.fo>k)){var m=$e(d,e,c,b);if(!(m.fo>k)){var n=c,h=d,g=b,r=e,p=0;a.Ja=2;m.fo>.98*l.fo+.001&&(n=d,h=c,g=e,r=b,f=m.ms,a.Ja=4,p=1);c=f;b=h;d=r;h=Vh;void 0===c&&(c=0);for(var l=g.B.n.x*n.sb[c].x+g.B.q.x*n.sb[c].y,m=g.B.n.y*n.sb[c].x+g.B.q.y*n.sb[c].y,e=d.B.n.x*l+d.B.n.y*m,m=d.B.q.x*l+d.B.q.y*m,l=e,e=0,v=Number.MAX_VALUE,t=0;t<b.eb;t++){var w=l*b.sb[t].x+
m*b.sb[t].y;w<v&&(v=w,e=t)}l=e+1;l>=b.eb&&(l=0);h[0].ye.x=d.position.x+(d.B.n.x*b.T[e].x+d.B.q.x*b.T[e].y);h[0].ye.y=d.position.y+(d.B.n.y*b.T[e].x+d.B.q.y*b.T[e].y);m=h[0].id;m.u=c;m.Vb=m.Vb&4294967040|m.u&255;m=h[0].id;m.j=e;m.Vb=m.Vb&4294902015|m.j<<8&65280;e=h[0].id;e.k=0;e.Vb=e.Vb&4278255615|e.k<<16&16711680;h[1].ye.x=d.position.x+(d.B.n.x*b.T[l].x+d.B.q.x*b.T[l].y);h[1].ye.y=d.position.y+(d.B.n.y*b.T[l].x+d.B.q.y*b.T[l].y);b=h[1].id;b.u=c;b.Vb=b.Vb&4294967040|b.u&255;c=h[1].id;c.j=l;c.Vb=c.Vb&
4294902015|c.j<<8&65280;c=h[1].id;c.k=1;c.Vb=c.Vb&4278255615|c.k<<16&16711680;c=n.T[f];f=f+1<n.eb?n.T[f+1]:n.T[0];Wh.Set(f.x-c.x,f.y-c.y);De(Wh);Xh.x=Wh.y;Xh.y=-Wh.x;Yh.Set(.5*(c.x+f.x),.5*(c.y+f.y));bi.x=g.B.n.x*Wh.x+g.B.q.x*Wh.y;bi.y=g.B.n.y*Wh.x+g.B.q.y*Wh.y;ci.x=-bi.x;ci.y=-bi.y;di.x=bi.y;di.y=-bi.x;ei.x=g.position.x+(g.B.n.x*c.x+g.B.q.x*c.y);ei.y=g.position.y+(g.B.n.y*c.x+g.B.q.y*c.y);fi.x=g.position.x+(g.B.n.x*f.x+g.B.q.x*f.y);fi.y=g.position.y+(g.B.n.y*f.x+g.B.q.y*f.y);if(!(2>Ye(gi,Vh,ci,-bi.x*
ei.x-bi.y*ei.y+k)||2>Ye(hi,gi,bi,bi.x*fi.x+bi.y*fi.y+k))){a.Jc.P(Xh);a.za.P(Yh);g=di.x*ei.x+di.y*ei.y;for(n=f=0;2>n;++n)di.x*hi[n].ye.x+di.y*hi[n].ye.y-g<=k&&(c=hi[n].ye.x-r.position.x,h=hi[n].ye.y-r.position.y,a.ra[f].za.x=c*r.B.n.x+h*r.B.n.y,a.ra[f].za.y=c*r.B.q.x+h*r.B.q.y,a.ra[f].Me.Set(hi[n].id),c=a.ra[f].Me,c.C=p,c.Vb=c.Vb&16777215|c.C<<24&4278190080,f++);a.Pb=f}}}};function ii(){this.H="Controller"+ji++;this.td=null;this.j=new ng}ii.prototype.Pg=function(){};
ii.prototype.am=function(a){this.j.am(a);a=a.ba;var c=this.H,b=a.k[c];if(null!=b){var d=b.j(),b=b.Ca();null==d?a.j=b:d.k(b);null==b||b.Vf(d);delete a.k[c]}};var ji=0;function ki(){ii.call(this);this.u=R(0,-1);this.hh=this.offset=0;this.C=R(0,0);this.k=null}Id(ki,ii);
ki.prototype.Pg=function(){this.k=this.td.C.rc();for(var a=this.j.Ma(ug);a;a=a.Ca()){for(var c=a.body,b=R(0,0),d=R(0,0),e=0,k=0,l=c.u.Ma();l;l=l.Ca()){var f=R(0,0),m=l.Wd.cc.Vl(this.u,this.offset,c.Sd(),f),e=e+m;b.x+=m*f.x;b.y+=m*f.y;var n=0,n=1,k=k+m*n;d.x+=m*f.x*n;d.y+=m*f.y*n}e<Number.MIN_VALUE||(b.x/=e,b.y/=e,d.x/=k,d.y/=k,k=this.k.Mg(),k.je(this.hh*e),c.Jh(k,d),k=R(c.A.x-c.J*(b.y-c.m.D.y),c.A.y+c.J*(b.x-c.m.D.x)),k.Yr(this.C),k.je(-2*e),c.Jh(k,b),c.Ho(-c.j/c.Y*e*c.J*1),Ae(b),Ae(d))}};
function li(){ii.call(this);this.k=R(0,0)}Id(li,ii);li.prototype.Pg=function(a){a=R(this.k.x*a.Ga,this.k.y*a.Ga);for(var c=this.j.Ma(ug);c;c=c.Ca()){var b=c.body,d=b.A;dg(b,R(d.x+a.x,d.y+a.y))}Ae(a)};function mi(){ii.call(this);this.k=R(0,0)}Id(mi,ii);mi.prototype.Pg=function(){for(var a=this.j.Ma(ug);a;a=a.Ca()){var c=a.body;c.Jh(this.k,c.m.D)}};function Vf(){this.j=null;this.k={}}Vf.prototype.Ma=function(){return this.j};function ni(){ii.call(this)}Id(ni,ii);
ni.prototype.Pg=function(){for(var a=null,c=null,b=0,d=null,e=null,k=0,l=0,f=0,k=null,m=this.j.Ma(og);m;m=m.Ca())for(var a=m.body,c=a.m.D,b=a.Y,n=this.j.Ma(og);n;n=n.Ca())if(d=n.body,a.de||d.de)e=d.m.D,k=e.x-c.x,l=e.y-c.y,f=k*k+l*l,f<Number.MIN_VALUE||(k=R(k,l),k.je(1/f/Math.sqrt(f)*b*d.Y),a.de&&a.Jh(k,c),k.je(-1),d.de&&d.Jh(k,e),Ae(k))};function oi(){ii.call(this);this.u=new Yd;this.k=0}Id(oi,ii);
oi.prototype.Pg=function(a){a=a.Ga;if(!(a<=Number.MIN_VALUE)){a>this.k&&0<this.k&&(a=this.k);for(var c=this.j.Ma(ug);c;c=c.Ca()){var b=c.body,d;d=Sd(this.u,Td(b.G.B,b.A));d=Sd(b.G.B,d);dg(b,R(b.A.x+d.x*a,b.A.y+d.y*a))}}};function pi(a){this.Bd=new qi;this.Cd=new qi;this.qf=R(0,0);this.rf=R(0,0);this.Ja=a.type;this.xh=this.Gj=null;this.Z=a.j;this.aa=a.k;this.Qt=a.O}x=pi.prototype;x.Nc=function(){return this.Ja};x.Og=function(){return this.Z.Og()&&this.aa.Og()};x.nf=function(){};x.pf=function(){};
x.of=function(){return!1};function ri(){this.type=0;this.k=this.j=null;this.O=!1}function qi(){}function si(a){pi.call(this,a);this.na=R(0,0);this.pa=R(0,0);this.j=R(0,0);this.na.P(a.L);this.pa.P(a.X);this.H=a.length;this.C=a.H;this.L=a.C;this.O=this.u=this.k=0}Id(si,pi);
si.prototype.nf=function(a){var c,b=0,d=this.Z,e=this.aa;c=d.G.B;var k=this.na.x-d.m.S.x,l=this.na.y-d.m.S.y,b=c.n.x*k+c.q.x*l,l=c.n.y*k+c.q.y*l,k=b;c=e.G.B;var f=this.pa.x-e.m.S.x,m=this.pa.y-e.m.S.y,b=c.n.x*f+c.q.x*m,m=c.n.y*f+c.q.y*m,f=b;this.j.x=e.m.D.x+f-d.m.D.x-k;this.j.y=e.m.D.y+m-d.m.D.y-l;b=Math.sqrt(this.j.x*this.j.x+this.j.y*this.j.y);.005<b?this.j.je(1/b):this.j.qa();c=k*this.j.y-l*this.j.x;var n=f*this.j.y-m*this.j.x;c=d.N+d.W*c*c+e.N+e.W*n*n;this.Y=0!=c?1/c:0;if(0<this.C){var b=b-this.H,
n=2*Math.PI*this.C,h=this.Y*n*n;this.u=a.Ga*(2*this.Y*this.L*n+a.Ga*h);this.u=0!=this.u?1/this.u:0;this.O=b*a.Ga*h*this.u;this.Y=c+this.u;this.Y=0!=this.Y?1/this.Y:0}a.Hg?(this.k*=a.ic,a=this.k*this.j.x,c=this.k*this.j.y,d.A.x-=d.N*a,d.A.y-=d.N*c,d.J-=d.W*(k*c-l*a),e.A.x+=e.N*a,e.A.y+=e.N*c,e.J+=e.W*(f*c-m*a)):this.k=0};
si.prototype.pf=function(){var a=this.na.x-this.Z.m.S.x,c=this.na.y-this.Z.m.S.y,b=this.Z.G.B.n.x*a+this.Z.G.B.q.x*c,c=this.Z.G.B.n.y*a+this.Z.G.B.q.y*c,a=b,d=this.pa.x-this.aa.m.S.x,e=this.pa.y-this.aa.m.S.y,b=this.aa.G.B.n.x*d+this.aa.G.B.q.x*e,e=this.aa.G.B.n.y*d+this.aa.G.B.q.y*e,d=b,k=-this.Y*(this.j.x*(this.aa.A.x-this.aa.J*e-(this.Z.A.x-this.Z.J*c))+this.j.y*(this.aa.A.y+this.aa.J*d-(this.Z.A.y+this.Z.J*a))+this.O+this.u*this.k);this.k+=k;b=k*this.j.x;k*=this.j.y;this.Z.A.x-=this.Z.N*b;this.Z.A.y-=
this.Z.N*k;this.Z.J-=this.Z.W*(a*k-c*b);this.aa.A.x+=this.aa.N*b;this.aa.A.y+=this.aa.N*k;this.aa.J+=this.aa.W*(d*k-e*b)};
si.prototype.of=function(){if(0<this.C)return!0;var a=this.na.x-this.Z.m.S.x,c=this.na.y-this.Z.m.S.y,b=this.Z.G.B.n.x*a+this.Z.G.B.q.x*c,c=this.Z.G.B.n.y*a+this.Z.G.B.q.y*c,a=b,d=this.pa.x-this.aa.m.S.x,e=this.pa.y-this.aa.m.S.y,b=this.aa.G.B.n.x*d+this.aa.G.B.q.x*e,e=this.aa.G.B.n.y*d+this.aa.G.B.q.y*e,d=b,k=this.aa.m.D.x+d-this.Z.m.D.x-a,l=this.aa.m.D.y+e-this.Z.m.D.y-c,f=Math.sqrt(k*k+l*l),b=Xd(f-this.H,-.2,.2),m=-this.Y*b;this.j.Set(k/f,l/f);k=m*this.j.x;m*=this.j.y;this.Z.m.D.x-=this.Z.N*k;
this.Z.m.D.y-=this.Z.N*m;this.Z.m.R-=this.Z.W*(a*m-c*k);this.aa.m.D.x+=this.aa.N*k;this.aa.m.D.y+=this.aa.N*m;this.aa.m.R+=this.aa.W*(d*m-e*k);kg(this.Z);kg(this.aa);return.005>Math.abs(b)};function ti(){ri.call(this);this.L=R(0,0);this.X=R(0,0);this.type=3;this.length=1;this.C=this.H=0}Id(ti,ri);ti.prototype.u=function(){return new si(this)};
function ui(a){pi.call(this,a);this.u=R(0,0);this.C=R(0,0);this.O=new Yd;this.j=R(0,0);this.u.P(a.C);this.C.P(a.H);this.O.qa();this.H=0;this.j.qa();this.k=0;this.L=a.L;this.X=a.X}Id(ui,pi);
ui.prototype.nf=function(a){var c,b=0,d=this.Z,e=this.aa;c=d.G.B;var k=this.u.x-d.m.S.x,l=this.u.y-d.m.S.y,b=c.n.x*k+c.q.x*l,l=c.n.y*k+c.q.y*l,k=b;c=e.G.B;var f=this.C.x-e.m.S.x,m=this.C.y-e.m.S.y,b=c.n.x*f+c.q.x*m,m=c.n.y*f+c.q.y*m,f=b;c=d.N;var b=e.N,n=d.W,h=e.W,g=new Yd;g.n.x=c+b;g.q.x=0;g.n.y=0;g.q.y=c+b;g.n.x+=n*l*l;g.q.x+=-n*k*l;g.n.y+=-n*k*l;g.q.y+=n*k*k;g.n.x+=h*m*m;g.q.x+=-h*f*m;g.n.y+=-h*f*m;g.q.y+=h*f*f;ae(g,this.O);this.H=n+h;0<this.H&&(this.H=1/this.H);a.Hg?(this.j.x*=a.ic,this.j.y*=
a.ic,this.k*=a.ic,a=this.j,d.A.x-=c*a.x,d.A.y-=c*a.y,d.J-=n*(k*a.y-l*a.x+this.k),e.A.x+=b*a.x,e.A.y+=b*a.y,e.J+=h*(f*a.y-m*a.x+this.k)):(this.j.qa(),this.k=0)};
ui.prototype.pf=function(a){var c,b=0,d=this.Z,e=this.aa,k=d.A,l=d.J,f=e.A,m=e.J,n=d.N,h=e.N,g=d.W,r=e.W;c=d.G.B;var p=this.u.x-d.m.S.x,v=this.u.y-d.m.S.y,b=c.n.x*p+c.q.x*v,v=c.n.y*p+c.q.y*v,p=b;c=e.G.B;var t=this.C.x-e.m.S.x,w=this.C.y-e.m.S.y,b=c.n.x*t+c.q.x*w,w=c.n.y*t+c.q.y*w,t=b;c=0;var b=-this.H*(m-l),q=this.k;c=a.Ga*this.X;this.k=Xd(this.k+b,-c,c);b=this.k-q;l-=g*b;m+=r*b;c=Sd(this.O,R(-(f.x-m*w-k.x+l*v),-(f.y+m*t-k.y-l*p)));b=this.j.rc();this.j.mf(c);c=a.Ga*this.L;Ce(this.j)>c*c&&(De(this.j),
this.j.je(c));c=Wd(this.j,b);k.x-=n*c.x;k.y-=n*c.y;l-=g*(p*c.y-v*c.x);f.x+=h*c.x;f.y+=h*c.y;m+=r*(t*c.y-w*c.x);d.J=l;e.J=m};ui.prototype.of=function(){return!0};function vi(){ri.call(this);this.C=R(0,0);this.H=R(0,0);this.type=9;this.X=this.L=0}Id(vi,ri);vi.prototype.u=function(){return new ui(this)};
function wi(a){pi.call(this,a);this.X=R(0,0);this.ja=R(0,0);this.na=R(0,0);this.pa=R(0,0);this.j=new xi;var c=a.C.Ja,b=a.H.Ja;this.L=this.H=this.O=this.C=null;var d=0,e=0;this.Fa=a.C.Z;this.Z=a.C.aa;1==c?(this.C=a.C,this.X.P(this.C.na),this.na.P(this.C.pa),d=Bi(this.C)):(this.O=a.C,this.X.P(this.O.na),this.na.P(this.O.pa),d=this.O.ek());this.La=a.H.Z;this.aa=a.H.aa;1==b?(this.H=a.H,this.ja.P(this.H.na),this.pa.P(this.H.pa),e=Bi(this.H)):(this.L=a.H,this.ja.P(this.L.na),this.pa.P(this.L.pa),e=this.L.ek());
this.k=a.wg;this.ba=d+this.k*e;this.u=0}Id(wi,pi);
wi.prototype.nf=function(a){var c=this.Fa,b=this.La,d=this.Z,e=this.aa,k=0,l=0,f=0,m=0,n=f=0,h=0;this.j.qa();this.C?(this.j.u=-1,h+=d.W):(c=c.G.B,l=this.O.Jd,k=c.n.x*l.x+c.q.x*l.y,l=c.n.y*l.x+c.q.y*l.y,c=d.G.B,f=this.na.x-d.m.S.x,m=this.na.y-d.m.S.y,n=c.n.x*f+c.q.x*m,m=c.n.y*f+c.q.y*m,f=n*l-m*k,this.j.j.Set(-k,-l),this.j.u=-f,h+=d.N+d.W*f*f);this.H?(this.j.C=-this.k,h+=this.k*this.k*e.W):(c=b.G.B,l=this.L.Jd,k=c.n.x*l.x+c.q.x*l.y,l=c.n.y*l.x+c.q.y*l.y,c=e.G.B,f=this.pa.x-e.m.S.x,m=this.pa.y-e.m.S.y,
n=c.n.x*f+c.q.x*m,m=c.n.y*f+c.q.y*m,f=n*l-m*k,this.j.k.Set(-this.k*k,-this.k*l),this.j.C=-this.k*f,h+=this.k*this.k*(e.N+e.W*f*f));this.Y=0<h?1/h:0;a.Hg?(d.A.x+=d.N*this.u*this.j.j.x,d.A.y+=d.N*this.u*this.j.j.y,d.J+=d.W*this.u*this.j.u,e.A.x+=e.N*this.u*this.j.k.x,e.A.y+=e.N*this.u*this.j.k.y,e.J+=e.W*this.u*this.j.C):this.u=0};
wi.prototype.pf=function(){var a=this.Z,c=this.aa,b=this.j,d=a.A,e=a.J,k=c.A,l=c.J;void 0===e&&(e=0);void 0===l&&(l=0);b=-this.Y*(b.j.x*d.x+b.j.y*d.y+b.u*e+(b.k.x*k.x+b.k.y*k.y)+b.C*l);this.u+=b;a.A.x+=a.N*b*this.j.j.x;a.A.y+=a.N*b*this.j.j.y;a.J+=a.W*b*this.j.u;c.A.x+=c.N*b*this.j.k.x;c.A.y+=c.N*b*this.j.k.y;c.J+=c.W*b*this.j.C};
wi.prototype.of=function(){var a=this.Z,c=this.aa,b=0,d=0;this.C?b=Bi(this.C):b=this.O.ek();this.H?d=Bi(this.H):d=this.L.ek();b=-this.Y*(this.ba-(b+this.k*d));a.m.D.x+=a.N*b*this.j.j.x;a.m.D.y+=a.N*b*this.j.j.y;a.m.R+=a.W*b*this.j.u;c.m.D.x+=c.N*b*this.j.k.x;c.m.D.y+=c.N*b*this.j.k.y;c.m.R+=c.W*b*this.j.C;kg(a);kg(c);return!0};function Ci(){ri.call(this);this.type=6;this.H=this.C=null;this.wg=1}Id(Ci,ri);Ci.prototype.u=function(){return new wi(this)};function xi(){this.j=R(0,0);this.k=R(0,0)}
xi.prototype.qa=function(){this.j.qa();this.u=0;this.k.qa();this.C=0};xi.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.j.P(a);this.u=c;this.k.P(b);this.C=d};
function Di(a){pi.call(this,a);this.na=R(0,0);this.pa=R(0,0);this.Jd=R(0,0);this.Td=R(0,0);this.k=R(0,0);this.L=R(0,0);this.ba=new Yd;this.j=R(0,0);this.na.P(a.X);this.pa.P(a.ja);this.Jd.P(a.C);this.Td.x=-this.Jd.y;this.Td.y=this.Jd.x;this.j.qa();this.Na=this.qb=0;this.sc=a.ba;this.Oc=a.qb;this.Oo=a.Fa;this.Po=a.La;this.Qh=a.H;this.ik=a.L;this.bb=0;this.k.qa();this.L.qa()}Id(Di,pi);
Di.prototype.ek=function(){var a=this.Z,c=this.aa,b=fg(a,this.na),d=fg(c,this.pa),c=d.x-b.x,b=d.y-b.y,a=Sd(a.G.B,this.Jd);return a.x*c+a.y*b};
Di.prototype.nf=function(a){var c=this.Z,b=this.aa,d,e=0;this.qf.P(c.m.S);this.rf.P(b.m.S);var k=c.Sd();b.Sd();d=c.G.B;var l=this.na.x-this.qf.x,f=this.na.y-this.qf.y,e=d.n.x*l+d.q.x*f,f=d.n.y*l+d.q.y*f,l=e;d=b.G.B;var m=this.pa.x-this.rf.x,n=this.pa.y-this.rf.y,e=d.n.x*m+d.q.x*n,n=d.n.y*m+d.q.y*n,m=e;d=b.m.D.x+m-c.m.D.x-l;e=b.m.D.y+n-c.m.D.y-f;this.X=c.N;this.ja=b.N;this.Fa=c.W;this.La=b.W;this.k.P(Sd(k.B,this.Jd));this.u=(d+l)*this.k.y-(e+f)*this.k.x;this.C=m*this.k.y-n*this.k.x;this.qb=this.X+
this.ja+this.Fa*this.u*this.u+this.La*this.C*this.C;this.qb=this.qb>Number.MIN_VALUE?1/this.qb:0;this.L.P(Sd(k.B,this.Td));this.H=(d+l)*this.L.y-(e+f)*this.L.x;this.O=m*this.L.y-n*this.L.x;k=this.X;l=this.ja;f=this.Fa;m=this.La;this.ba.n.x=k+l+f*this.H*this.H+m*this.O*this.O;this.ba.n.y=f*this.H*this.u+m*this.O*this.C;this.ba.q.x=this.ba.n.y;this.ba.q.y=k+l+f*this.u*this.u+m*this.C*this.C;this.Qh?(d=this.k.x*d+this.k.y*e,.01>Math.abs(this.Oc-this.sc)?this.bb=3:d<=this.sc?1!=this.bb&&(this.bb=1,this.j.y=
0):d>=this.Oc?2!=this.bb&&(this.bb=2,this.j.y=0):(this.bb=0,this.j.y=0)):this.bb=0;0==this.ik&&(this.Na=0);a.Hg?(this.j.x*=a.ic,this.j.y*=a.ic,this.Na*=a.ic,a=this.j.x*this.L.x+(this.Na+this.j.y)*this.k.x,d=this.j.x*this.L.y+(this.Na+this.j.y)*this.k.y,e=this.j.x*this.H+(this.Na+this.j.y)*this.u,k=this.j.x*this.O+(this.Na+this.j.y)*this.C,c.A.x-=this.X*a,c.A.y-=this.X*d,c.J-=this.Fa*e,b.A.x+=this.ja*a,b.A.y+=this.ja*d,b.J+=this.La*k):(this.j.qa(),this.Na=0)};
Di.prototype.pf=function(a){var c=this.Z,b=this.aa,d=c.A,e=c.J,k=b.A,l=b.J,f=0,m=0,n=0,h=0;this.ik&&3!=this.bb&&(h=this.qb*(this.Po-(this.k.x*(k.x-d.x)+this.k.y*(k.y-d.y)+this.C*l-this.u*e)),f=this.Na,m=a.Ga*this.Oo,this.Na=Xd(this.Na+h,-m,m),h=this.Na-f,f=h*this.k.x,m=h*this.k.y,n=h*this.u,h*=this.C,d.x-=this.X*f,d.y-=this.X*m,e-=this.Fa*n,k.x+=this.ja*f,k.y+=this.ja*m,l+=this.La*h);m=this.L.x*(k.x-d.x)+this.L.y*(k.y-d.y)+this.O*l-this.H*e;this.Qh&&0!=this.bb?(n=this.k.x*(k.x-d.x)+this.k.y*(k.y-
d.y)+this.C*l-this.u*e,f=this.j.rc(),a=be(this.ba,R(0,0),-m,-n),this.j.mf(a),1==this.bb?this.j.y=Math.max(this.j.y,0):2==this.bb&&(this.j.y=Math.min(this.j.y,0)),m=-m-(this.j.y-f.y)*this.ba.q.x,n=0,n=0!=this.ba.n.x?m/this.ba.n.x+f.x:f.x,this.j.x=n,a.x=this.j.x-f.x,a.y=this.j.y-f.y,f=a.x*this.L.x+a.y*this.k.x,m=a.x*this.L.y+a.y*this.k.y,n=a.x*this.H+a.y*this.u,h=a.x*this.O+a.y*this.C):(a=0,a=0!=this.ba.n.x?-m/this.ba.n.x:0,this.j.x+=a,f=a*this.L.x,m=a*this.L.y,n=a*this.H,h=a*this.O);d.x-=this.X*f;
d.y-=this.X*m;e-=this.Fa*n;k.x+=this.ja*f;k.y+=this.ja*m;l+=this.La*h;c.A.P(d);c.J=e;b.A.P(k);b.J=l};
Di.prototype.of=function(){var a=this.Z,c=this.aa,b=a.m.D,d=a.m.R,e=c.m.D,k=c.m.R,l,f=0,m=0,n=0,h=0,g=l=0,r=0,m=!1,p=0,v=Zd(d),n=Zd(k);l=v;var r=this.na.x-this.qf.x,t=this.na.y-this.qf.y,f=l.n.x*r+l.q.x*t,t=l.n.y*r+l.q.y*t,r=f;l=n;n=this.pa.x-this.rf.x;h=this.pa.y-this.rf.y;f=l.n.x*n+l.q.x*h;h=l.n.y*n+l.q.y*h;n=f;l=e.x+n-b.x-r;f=e.y+h-b.y-t;if(this.Qh){this.k=Sd(v,this.Jd);this.u=(l+r)*this.k.y-(f+t)*this.k.x;this.C=n*this.k.y-h*this.k.x;var w=this.k.x*l+this.k.y*f;.01>Math.abs(this.Oc-this.sc)?(p=
Xd(w,-.2,.2),g=Math.abs(w),m=!0):w<=this.sc?(p=Xd(w-this.sc+.005,-.2,0),g=this.sc-w,m=!0):w>=this.Oc&&(p=Xd(w-this.Oc+.005,0,.2),g=w-this.Oc,m=!0)}this.L=Sd(v,this.Td);this.H=(l+r)*this.L.y-(f+t)*this.L.x;this.O=n*this.L.y-h*this.L.x;v=R(0,0);t=this.L.x*l+this.L.y*f;g=Math.max(g,Math.abs(t));r=0;m?(m=this.X,n=this.ja,h=this.Fa,l=this.La,this.ba.n.x=m+n+h*this.H*this.H+l*this.O*this.O,this.ba.n.y=h*this.H*this.u+l*this.O*this.C,this.ba.q.x=this.ba.n.y,this.ba.q.y=m+n+h*this.u*this.u+l*this.C*this.C,
be(this.ba,v,-t,-p)):(m=this.X,n=this.ja,h=this.Fa,l=this.La,p=m+n+h*this.H*this.H+l*this.O*this.O,v.x=0!=p?-t/p:0,v.y=0);p=v.x*this.L.x+v.y*this.k.x;m=v.x*this.L.y+v.y*this.k.y;t=v.x*this.H+v.y*this.u;v=v.x*this.O+v.y*this.C;b.x-=this.X*p;b.y-=this.X*m;d-=this.Fa*t;e.x+=this.ja*p;e.y+=this.ja*m;k+=this.La*v;a.m.R=d;c.m.R=k;kg(a);kg(c);return.005>=g&&r<=Jd};
function Ei(){ri.call(this);this.X=R(0,0);this.ja=R(0,0);this.C=R(0,0);this.type=7;this.C.Set(1,0);this.H=!1;this.qb=this.ba=0;this.L=!1;this.La=this.Fa=0}Id(Ei,ri);Ei.prototype.u=function(){return new Di(this)};
function Fi(a){pi.call(this,a);this.na=R(0,0);this.pa=R(0,0);this.Jd=R(0,0);this.Td=R(0,0);this.L=R(0,0);this.ba=R(0,0);this.k=new ce;this.j=new de(0,0,0);this.na.P(a.X);this.pa.P(a.ja);this.Jd.P(a.C);this.Td.x=-this.Jd.y;this.Td.y=this.Jd.x;this.Ix=a.qb;this.j.qa();this.Na=this.qb=0;this.sc=a.ba;this.Oc=a.Na;this.Oo=a.Fa;this.Po=a.La;this.Qh=a.H;this.ik=a.L;this.bb=0;this.L.qa();this.ba.qa()}Id(Fi,pi);
Fi.prototype.ek=function(){var a=this.Z,c=this.aa,b=fg(a,this.na),d=fg(c,this.pa),c=d.x-b.x,b=d.y-b.y,a=Sd(a.G.B,this.Jd);return a.x*c+a.y*b};
Fi.prototype.nf=function(a){var c=this.Z,b=this.aa,d,e=0;this.qf.P(c.m.S);this.rf.P(b.m.S);var k=c.Sd();b.Sd();d=c.G.B;var l=this.na.x-this.qf.x,f=this.na.y-this.qf.y,e=d.n.x*l+d.q.x*f,f=d.n.y*l+d.q.y*f,l=e;d=b.G.B;var m=this.pa.x-this.rf.x,n=this.pa.y-this.rf.y,e=d.n.x*m+d.q.x*n,n=d.n.y*m+d.q.y*n,m=e;d=b.m.D.x+m-c.m.D.x-l;e=b.m.D.y+n-c.m.D.y-f;this.X=c.N;this.ja=b.N;this.Fa=c.W;this.La=b.W;this.L.P(Sd(k.B,this.Jd));this.u=(d+l)*this.L.y-(e+f)*this.L.x;this.C=m*this.L.y-n*this.L.x;this.qb=this.X+
this.ja+this.Fa*this.u*this.u+this.La*this.C*this.C;this.qb>Number.MIN_VALUE&&(this.qb=1/this.qb);this.ba.P(Sd(k.B,this.Td));this.H=(d+l)*this.ba.y-(e+f)*this.ba.x;this.O=m*this.ba.y-n*this.ba.x;k=this.X;l=this.ja;f=this.Fa;m=this.La;this.k.n.x=k+l+f*this.H*this.H+m*this.O*this.O;this.k.n.y=f*this.H+m*this.O;this.k.n.z=f*this.H*this.u+m*this.O*this.C;this.k.q.x=this.k.n.y;this.k.q.y=f+m;this.k.q.z=f*this.u+m*this.C;this.k.j.x=this.k.n.z;this.k.j.y=this.k.q.z;this.k.j.z=k+l+f*this.u*this.u+m*this.C*
this.C;this.Qh?(d=this.L.x*d+this.L.y*e,.01>Math.abs(this.Oc-this.sc)?this.bb=3:d<=this.sc?1!=this.bb&&(this.bb=1,this.j.z=0):d>=this.Oc?2!=this.bb&&(this.bb=2,this.j.z=0):(this.bb=0,this.j.z=0)):this.bb=0;0==this.ik&&(this.Na=0);a.Hg?(this.j.x*=a.ic,this.j.y*=a.ic,this.Na*=a.ic,a=this.j.x*this.ba.x+(this.Na+this.j.z)*this.L.x,d=this.j.x*this.ba.y+(this.Na+this.j.z)*this.L.y,e=this.j.x*this.H+this.j.y+(this.Na+this.j.z)*this.u,k=this.j.x*this.O+this.j.y+(this.Na+this.j.z)*this.C,c.A.x-=this.X*a,c.A.y-=
this.X*d,c.J-=this.Fa*e,b.A.x+=this.ja*a,b.A.y+=this.ja*d,b.J+=this.La*k):(this.j.qa(),this.Na=0)};
Fi.prototype.pf=function(a){var c=this.Z,b=this.aa,d=c.A,e=c.J,k=b.A,l=b.J,f=0,m=0,n=0,h=0;this.ik&&3!=this.bb&&(h=this.qb*(this.Po-(this.L.x*(k.x-d.x)+this.L.y*(k.y-d.y)+this.C*l-this.u*e)),f=this.Na,a=a.Ga*this.Oo,this.Na=Xd(this.Na+h,-a,a),h=this.Na-f,f=h*this.L.x,m=h*this.L.y,n=h*this.u,h*=this.C,d.x-=this.X*f,d.y-=this.X*m,e-=this.Fa*n,k.x+=this.ja*f,k.y+=this.ja*m,l+=this.La*h);n=this.ba.x*(k.x-d.x)+this.ba.y*(k.y-d.y)+this.O*l-this.H*e;m=l-e;this.Qh&&0!=this.bb?(a=this.L.x*(k.x-d.x)+this.L.y*
(k.y-d.y)+this.C*l-this.u*e,f=this.j.rc(),a=ve(this.k,new de(0,0,0),-n,-m,-a),this.j.mf(a),1==this.bb?this.j.z=Math.max(this.j.z,0):2==this.bb&&(this.j.z=Math.min(this.j.z,0)),n=-n-(this.j.z-f.z)*this.k.j.x,m=-m-(this.j.z-f.z)*this.k.j.y,m=ue(this.k,R(0,0),n,m),m.x+=f.x,m.y+=f.y,this.j.x=m.x,this.j.y=m.y,a.x=this.j.x-f.x,a.y=this.j.y-f.y,a.z=this.j.z-f.z,f=a.x*this.ba.x+a.z*this.L.x,m=a.x*this.ba.y+a.z*this.L.y,n=a.x*this.H+a.y+a.z*this.u,h=a.x*this.O+a.y+a.z*this.C,d.x-=this.X*f,d.y-=this.X*m,e-=
this.Fa*n,k.x+=this.ja*f,k.y+=this.ja*m,l+=this.La*h):(a=ue(this.k,R(0,0),-n,-m),this.j.x+=a.x,this.j.y+=a.y,f=a.x*this.ba.x,m=a.x*this.ba.y,n=a.x*this.H+a.y,h=a.x*this.O+a.y,d.x-=this.X*f,d.y-=this.X*m,e-=this.Fa*n,k.x+=this.ja*f,k.y+=this.ja*m,l+=this.La*h);c.A.P(d);c.J=e;b.A.P(k);b.J=l};
Fi.prototype.of=function(){var a=this.Z,c=this.aa,b=a.m.D,d=a.m.R,e=c.m.D,k=c.m.R,l,f=0,m=0,n=0,h=f=l=0,g=0,m=!1,r=0,p=Zd(d),v=Zd(k);l=p;var g=this.na.x-this.qf.x,t=this.na.y-this.qf.y,f=l.n.x*g+l.q.x*t,t=l.n.y*g+l.q.y*t,g=f;l=v;v=this.pa.x-this.rf.x;n=this.pa.y-this.rf.y;f=l.n.x*v+l.q.x*n;n=l.n.y*v+l.q.y*n;v=f;l=e.x+v-b.x-g;f=e.y+n-b.y-t;if(this.Qh){this.L=Sd(p,this.Jd);this.u=(l+g)*this.L.y-(f+t)*this.L.x;this.C=v*this.L.y-n*this.L.x;var w=this.L.x*l+this.L.y*f;.01>Math.abs(this.Oc-this.sc)?(r=
Xd(w,-.2,.2),h=Math.abs(w),m=!0):w<=this.sc?(r=Xd(w-this.sc+.005,-.2,0),h=this.sc-w,m=!0):w>=this.Oc&&(r=Xd(w-this.Oc+.005,0,.2),h=w-this.Oc,m=!0)}this.ba=Sd(p,this.Td);this.H=(l+g)*this.ba.y-(f+t)*this.ba.x;this.O=v*this.ba.y-n*this.ba.x;p=new de(0,0,0);t=this.ba.x*l+this.ba.y*f;v=k-d-this.Ix;h=Math.max(h,Math.abs(t));g=Math.abs(v);m?(m=this.X,n=this.ja,l=this.Fa,f=this.La,this.k.n.x=m+n+l*this.H*this.H+f*this.O*this.O,this.k.n.y=l*this.H+f*this.O,this.k.n.z=l*this.H*this.u+f*this.O*this.C,this.k.q.x=
this.k.n.y,this.k.q.y=l+f,this.k.q.z=l*this.u+f*this.C,this.k.j.x=this.k.n.z,this.k.j.y=this.k.q.z,this.k.j.z=m+n+l*this.u*this.u+f*this.C*this.C,ve(this.k,p,-t,-v,-r)):(m=this.X,n=this.ja,l=this.Fa,f=this.La,r=l*this.H+f*this.O,w=l+f,this.k.n.Set(m+n+l*this.H*this.H+f*this.O*this.O,r,0),this.k.q.Set(r,w,0),r=ue(this.k,R(0,0),-t,-v),p.x=r.x,p.y=r.y,p.z=0);r=p.x*this.ba.x+p.z*this.L.x;m=p.x*this.ba.y+p.z*this.L.y;t=p.x*this.H+p.y+p.z*this.u;p=p.x*this.O+p.y+p.z*this.C;b.x-=this.X*r;b.y-=this.X*m;d-=
this.Fa*t;e.x+=this.ja*r;e.y+=this.ja*m;k+=this.La*p;a.m.R=d;c.m.R=k;kg(a);kg(c);return.005>=h&&g<=Jd};function Gi(){ri.call(this);this.X=R(0,0);this.ja=R(0,0);this.C=R(0,0);this.type=2;this.C.Set(1,0);this.qb=0;this.H=!1;this.Na=this.ba=0;this.L=!1;this.La=this.Fa=0}Id(Gi,ri);Gi.prototype.u=function(){return new Fi(this)};
function Hi(a){pi.call(this,a);this.X=R(0,0);this.ja=R(0,0);this.na=R(0,0);this.pa=R(0,0);this.j=R(0,0);this.k=R(0,0);this.H=this.Z.td.RA;this.X.x=a.C.x-this.H.G.position.x;this.X.y=a.C.y-this.H.G.position.y;this.ja.x=a.H.x-this.H.G.position.x;this.ja.y=a.H.y-this.H.G.position.y;this.na.P(a.L);this.pa.P(a.X);this.u=a.wg;this.La=0+0*this.u;this.Oc=Math.min(0,this.La-this.u*Ii);this.Td=Math.min(0,(this.La-Ii)/this.u);this.L=this.O=this.C=0}Id(Hi,pi);
Hi.prototype.nf=function(a){var c=this.Z,b=this.aa,d;d=c.G.B;var e=this.na.x-c.m.S.x,k=this.na.y-c.m.S.y,l=d.n.x*e+d.q.x*k,k=d.n.y*e+d.q.y*k,e=l;d=b.G.B;var f=this.pa.x-b.m.S.x,m=this.pa.y-b.m.S.y,l=d.n.x*f+d.q.x*m,m=d.n.y*f+d.q.y*m,f=l;d=b.m.D.x+f;var l=b.m.D.y+m,n=this.H.G.position.x+this.ja.x,h=this.H.G.position.y+this.ja.y;this.j.Set(c.m.D.x+e-(this.H.G.position.x+this.X.x),c.m.D.y+k-(this.H.G.position.y+this.X.y));this.k.Set(d-n,l-h);d=Be(this.j);l=Be(this.k);.005<d?this.j.je(1/d):this.j.qa();
.005<l?this.k.je(1/l):this.k.qa();0<this.La-d-this.u*l?this.C=this.sc=0:this.sc=2;d<this.Oc?this.O=this.Na=0:this.Na=2;l<this.Td?this.L=this.bb=0:this.bb=2;d=e*this.j.y-k*this.j.x;l=f*this.k.y-m*this.k.x;this.ba=c.N+c.W*d*d;this.Fa=b.N+b.W*l*l;this.qb=this.ba+this.u*this.u*this.Fa;this.ba=1/this.ba;this.Fa=1/this.Fa;this.qb=1/this.qb;a.Hg?(this.C*=a.ic,this.O*=a.ic,this.L*=a.ic,a=(-this.C-this.O)*this.j.x,d=(-this.C-this.O)*this.j.y,l=(-this.u*this.C-this.L)*this.k.x,n=(-this.u*this.C-this.L)*this.k.y,
c.A.x+=c.N*a,c.A.y+=c.N*d,c.J+=c.W*(e*d-k*a),b.A.x+=b.N*l,b.A.y+=b.N*n,b.J+=b.W*(f*n-m*l)):this.L=this.O=this.C=0};
Hi.prototype.pf=function(){var a=this.Z,c=this.aa,b;b=a.G.B;var d=this.na.x-a.m.S.x,e=this.na.y-a.m.S.y,k=b.n.x*d+b.q.x*e,e=b.n.y*d+b.q.y*e,d=k;b=c.G.B;var l=this.pa.x-c.m.S.x,f=this.pa.y-c.m.S.y,k=b.n.x*l+b.q.x*f,f=b.n.y*l+b.q.y*f,l=k,m=k=b=0,n=0;b=n=b=n=m=k=b=0;2==this.sc&&(b=a.A.x+-a.J*e,k=a.A.y+a.J*d,m=c.A.x+-c.J*f,n=c.A.y+c.J*l,b=-(this.j.x*b+this.j.y*k)-this.u*(this.k.x*m+this.k.y*n),n=this.qb*-b,b=this.C,this.C=Math.max(0,this.C+n),n=this.C-b,b=-n*this.j.x,k=-n*this.j.y,m=-this.u*n*this.k.x,
n=-this.u*n*this.k.y,a.A.x+=a.N*b,a.A.y+=a.N*k,a.J+=a.W*(d*k-e*b),c.A.x+=c.N*m,c.A.y+=c.N*n,c.J+=c.W*(l*n-f*m));2==this.Na&&(b=a.A.x+-a.J*e,k=a.A.y+a.J*d,b=-(this.j.x*b+this.j.y*k),n=-this.ba*b,b=this.O,this.O=Math.max(0,this.O+n),n=this.O-b,b=-n*this.j.x,k=-n*this.j.y,a.A.x+=a.N*b,a.A.y+=a.N*k,a.J+=a.W*(d*k-e*b));2==this.bb&&(m=c.A.x+-c.J*f,n=c.A.y+c.J*l,b=-(this.k.x*m+this.k.y*n),n=-this.Fa*b,b=this.L,this.L=Math.max(0,this.L+n),n=this.L-b,m=-n*this.k.x,n=-n*this.k.y,c.A.x+=c.N*m,c.A.y+=c.N*n,c.J+=
c.W*(l*n-f*m))};
Hi.prototype.of=function(){var a=this.Z,c=this.aa,b,d=this.H.G.position.x+this.X.x,e=this.H.G.position.y+this.X.y,k=this.H.G.position.x+this.ja.x,l=this.H.G.position.y+this.ja.y,f=0,m=0,n=0,h=0,g=b=0,r=0,p=0,v=g=p=b=g=b=0;2==this.sc&&(b=a.G.B,f=this.na.x-a.m.S.x,m=this.na.y-a.m.S.y,g=b.n.x*f+b.q.x*m,m=b.n.y*f+b.q.y*m,f=g,b=c.G.B,n=this.pa.x-c.m.S.x,h=this.pa.y-c.m.S.y,g=b.n.x*n+b.q.x*h,h=b.n.y*n+b.q.y*h,n=g,b=a.m.D.x+f,g=a.m.D.y+m,r=c.m.D.x+n,p=c.m.D.y+h,this.j.Set(b-d,g-e),this.k.Set(r-k,p-l),b=
Be(this.j),g=Be(this.k),.005<b?this.j.je(1/b):this.j.qa(),.005<g?this.k.je(1/g):this.k.qa(),b=this.La-b-this.u*g,v=Math.max(v,-b),b=Xd(b+.005,-.2,0),p=-this.qb*b,b=-p*this.j.x,g=-p*this.j.y,r=-this.u*p*this.k.x,p=-this.u*p*this.k.y,a.m.D.x+=a.N*b,a.m.D.y+=a.N*g,a.m.R+=a.W*(f*g-m*b),c.m.D.x+=c.N*r,c.m.D.y+=c.N*p,c.m.R+=c.W*(n*p-h*r),kg(a),kg(c));2==this.Na&&(b=a.G.B,f=this.na.x-a.m.S.x,m=this.na.y-a.m.S.y,g=b.n.x*f+b.q.x*m,m=b.n.y*f+b.q.y*m,f=g,b=a.m.D.x+f,g=a.m.D.y+m,this.j.Set(b-d,g-e),b=Be(this.j),
.005<b?(this.j.x*=1/b,this.j.y*=1/b):this.j.qa(),b=this.Oc-b,v=Math.max(v,-b),b=Xd(b+.005,-.2,0),p=-this.ba*b,b=-p*this.j.x,g=-p*this.j.y,a.m.D.x+=a.N*b,a.m.D.y+=a.N*g,a.m.R+=a.W*(f*g-m*b),kg(a));2==this.bb&&(b=c.G.B,n=this.pa.x-c.m.S.x,h=this.pa.y-c.m.S.y,g=b.n.x*n+b.q.x*h,h=b.n.y*n+b.q.y*h,n=g,r=c.m.D.x+n,p=c.m.D.y+h,this.k.Set(r-k,p-l),g=Be(this.k),.005<g?(this.k.x*=1/g,this.k.y*=1/g):this.k.qa(),b=this.Td-g,v=Math.max(v,-b),b=Xd(b+.005,-.2,0),p=-this.Fa*b,r=-p*this.k.x,p=-p*this.k.y,c.m.D.x+=
c.N*r,c.m.D.y+=c.N*p,c.m.R+=c.W*(n*p-h*r),kg(c));return.005>v};var Ii=1;function Ji(){ri.call(this);this.C=R(0,0);this.H=R(0,0);this.L=R(0,0);this.X=R(0,0);this.type=4;this.C.Set(-1,1);this.H.Set(1,1);this.L.Set(-1,0);this.X.Set(1,0);this.wg=1;this.O=!0}Id(Ji,ri);Ji.prototype.u=function(){return new Hi(this)};
function Ki(a){pi.call(this,a);this.ba=new Yd;this.L=new Yd;this.X=new Yd;this.ja=new Yd;this.k=new de(0,0,0);this.C=R(0,0);this.O=R(0,0);this.na=R(0,0);this.pa=R(0,0);this.j=new de(0,0,0);this.Y=new ce;this.na.P(a.C);this.pa.P(a.H);this.Na=a.X;this.j.qa();this.H=0;this.Fa=a.ja;this.bb=a.ba;this.Td=a.qb;this.Oc=a.La;this.La=a.L;this.sc=a.Fa;this.u=0}Id(Ki,pi);function Bi(a){return a.aa.m.R-a.Z.m.R-a.Na}
Ki.prototype.nf=function(a){var c=this.Z,b=this.aa,d,e=0;d=c.G.B;var k=this.na.x-c.m.S.x,l=this.na.y-c.m.S.y,e=d.n.x*k+d.q.x*l,l=d.n.y*k+d.q.y*l,k=e;d=b.G.B;var f=this.pa.x-b.m.S.x,m=this.pa.y-b.m.S.y,e=d.n.x*f+d.q.x*m,m=d.n.y*f+d.q.y*m,f=e;d=c.N;var e=b.N,n=c.W,h=b.W;this.Y.n.x=d+e+l*l*n+m*m*h;this.Y.q.x=-l*k*n-m*f*h;this.Y.j.x=-l*n-m*h;this.Y.n.y=this.Y.q.x;this.Y.q.y=d+e+k*k*n+f*f*h;this.Y.j.y=k*n+f*h;this.Y.n.z=this.Y.j.x;this.Y.q.z=this.Y.j.y;this.Y.j.z=n+h;this.qb=1/(n+h);this.sc||(this.H=0);
if(this.La){var g=b.m.R-c.m.R-this.Na;Math.abs(this.bb-this.Fa)<2*Jd?this.u=3:g<=this.Fa?(1!=this.u&&(this.j.z=0),this.u=1):g>=this.bb?(2!=this.u&&(this.j.z=0),this.u=2):(this.u=0,this.j.z=0)}else this.u=0;a.Hg?(this.j.x*=a.ic,this.j.y*=a.ic,this.H*=a.ic,a=this.j.x,g=this.j.y,c.A.x-=d*a,c.A.y-=d*g,c.J-=n*(k*g-l*a+this.H+this.j.z),b.A.x+=e*a,b.A.y+=e*g,b.J+=h*(f*g-m*a+this.H+this.j.z)):(this.j.qa(),this.H=0)};
Ki.prototype.pf=function(a){var c=this.Z,b=this.aa,d=0,e=d=0,k=0,l=0,f=0,m=c.A,n=c.J,h=b.A,g=b.J,r=c.N,p=b.N,v=c.W,t=b.W;this.sc&&3!=this.u&&(e=this.qb*-(g-n-this.Oc),k=this.H,l=a.Ga*this.Td,this.H=Xd(this.H+e,-l,l),e=this.H-k,n-=v*e,g+=t*e);if(this.La&&0!=this.u){a=c.G.B;e=this.na.x-c.m.S.x;k=this.na.y-c.m.S.y;d=a.n.x*e+a.q.x*k;k=a.n.y*e+a.q.y*k;e=d;a=b.G.B;l=this.pa.x-b.m.S.x;f=this.pa.y-b.m.S.y;d=a.n.x*l+a.q.x*f;f=a.n.y*l+a.q.y*f;l=d;a=h.x+-g*f-m.x- -n*k;var w=h.y+g*l-m.y-n*e;ve(this.Y,this.k,
-a,-w,-(g-n));3==this.u?this.j.mf(this.k):1==this.u?(d=this.j.z+this.k.z,0>d&&(ue(this.Y,this.O,-a,-w),this.k.x=this.O.x,this.k.y=this.O.y,this.k.z=-this.j.z,this.j.x+=this.O.x,this.j.y+=this.O.y,this.j.z=0)):2==this.u&&(d=this.j.z+this.k.z,0<d&&(ue(this.Y,this.O,-a,-w),this.k.x=this.O.x,this.k.y=this.O.y,this.k.z=-this.j.z,this.j.x+=this.O.x,this.j.y+=this.O.y,this.j.z=0));m.x-=r*this.k.x;m.y-=r*this.k.y;n-=v*(e*this.k.y-k*this.k.x+this.k.z);h.x+=p*this.k.x;h.y+=p*this.k.y;g+=t*(l*this.k.y-f*this.k.x+
this.k.z)}else a=c.G.B,e=this.na.x-c.m.S.x,k=this.na.y-c.m.S.y,d=a.n.x*e+a.q.x*k,k=a.n.y*e+a.q.y*k,e=d,a=b.G.B,l=this.pa.x-b.m.S.x,f=this.pa.y-b.m.S.y,d=a.n.x*l+a.q.x*f,f=a.n.y*l+a.q.y*f,l=d,ue(this.Y,this.C,-(h.x+-g*f-m.x- -n*k),-(h.y+g*l-m.y-n*e)),this.j.x+=this.C.x,this.j.y+=this.C.y,m.x-=r*this.C.x,m.y-=r*this.C.y,n-=v*(e*this.C.y-k*this.C.x),h.x+=p*this.C.x,h.y+=p*this.C.y,g+=t*(l*this.C.y-f*this.C.x);c.A.P(m);c.J=n;b.A.P(h);b.J=g};
Ki.prototype.of=function(){var a=0,c,b=this.Z,d=this.aa,e=0,k=c=0,l=0,k=0;if(this.La&&0!=this.u){var a=d.m.R-b.m.R-this.Na,f=0;3==this.u?(a=Xd(a-this.Fa,-Kd,Kd),f=-this.qb*a,e=Math.abs(a)):1==this.u?(a-=this.Fa,e=-a,a=Xd(a+Jd,-Kd,0),f=-this.qb*a):2==this.u&&(e=a-=this.bb,a=Xd(a-Jd,0,Kd),f=-this.qb*a);b.m.R-=b.W*f;d.m.R+=d.W*f;kg(b);kg(d)}c=b.G.B;f=this.na.x-b.m.S.x;a=this.na.y-b.m.S.y;k=c.n.x*f+c.q.x*a;a=c.n.y*f+c.q.y*a;f=k;c=d.G.B;var m=this.pa.x-d.m.S.x,n=this.pa.y-d.m.S.y,k=c.n.x*m+c.q.x*n,n=c.n.y*
m+c.q.y*n,m=k,l=d.m.D.x+m-b.m.D.x-f,k=d.m.D.y+n-b.m.D.y-a,h=l*l+k*k;c=Math.sqrt(h);var g=b.N,r=d.N,p=b.W,v=d.W;h>.05*.05&&(h=1/(g+r),l=h*-l,k=h*-k,b.m.D.x-=.5*g*l,b.m.D.y-=.5*g*k,d.m.D.x+=.5*r*l,d.m.D.y+=.5*r*k,l=d.m.D.x+m-b.m.D.x-f,k=d.m.D.y+n-b.m.D.y-a);this.L.n.x=g+r;this.L.q.x=0;this.L.n.y=0;this.L.q.y=g+r;this.X.n.x=p*a*a;this.X.q.x=-p*f*a;this.X.n.y=-p*f*a;this.X.q.y=p*f*f;this.ja.n.x=v*n*n;this.ja.q.x=-v*m*n;this.ja.n.y=-v*m*n;this.ja.q.y=v*m*m;$d(this.ba,this.L);g=this.ba;r=this.X;g.n.mf(r.n);
g.q.mf(r.q);g=this.ba;r=this.ja;g.n.mf(r.n);g.q.mf(r.q);be(this.ba,Li,-l,-k);l=Li.x;k=Li.y;b.m.D.x-=b.N*l;b.m.D.y-=b.N*k;b.m.R-=b.W*(f*k-a*l);d.m.D.x+=d.N*l;d.m.D.y+=d.N*k;d.m.R+=d.W*(m*k-n*l);kg(b);kg(d);return.005>=c&&e<=Jd};var Li=R(0,0);function Mi(){ri.call(this);this.C=R(0,0);this.H=R(0,0);this.type=1;this.C.qa();this.H.qa();this.La=this.qb=this.ba=this.ja=this.X=0;this.Fa=this.L=!1}Id(Mi,ri);function Ni(a,c,b,d){a.j=c;a.k=b;a.C=Vd(a.j.G,d);a.H=Vd(a.k.G,d);a.X=a.k.Mh()-a.j.Mh()}
Mi.prototype.u=function(){return new Ki(this)};function Ri(a){pi.call(this,a);this.k=R(0,0);this.u=R(0,0);this.j=new de(0,0,0);this.Y=new ce;this.k.P(a.C);this.u.P(a.H);this.C=a.L}Id(Ri,pi);
Ri.prototype.nf=function(a){var c,b=0,d=this.Z,e=this.aa;c=d.G.B;var k=this.k.x-d.m.S.x,l=this.k.y-d.m.S.y,b=c.n.x*k+c.q.x*l,l=c.n.y*k+c.q.y*l,k=b;c=e.G.B;var f=this.u.x-e.m.S.x,m=this.u.y-e.m.S.y,b=c.n.x*f+c.q.x*m,m=c.n.y*f+c.q.y*m,f=b;c=d.N;var b=e.N,n=d.W,h=e.W;this.Y.n.x=c+b+l*l*n+m*m*h;this.Y.q.x=-l*k*n-m*f*h;this.Y.j.x=-l*n-m*h;this.Y.n.y=this.Y.q.x;this.Y.q.y=c+b+k*k*n+f*f*h;this.Y.j.y=k*n+f*h;this.Y.n.z=this.Y.j.x;this.Y.q.z=this.Y.j.y;this.Y.j.z=n+h;a.Hg?(this.j.x*=a.ic,this.j.y*=a.ic,this.j.z*=
a.ic,d.A.x-=c*this.j.x,d.A.y-=c*this.j.y,d.J-=n*(k*this.j.y-l*this.j.x+this.j.z),e.A.x+=b*this.j.x,e.A.y+=b*this.j.y,e.J+=h*(f*this.j.y-m*this.j.x+this.j.z)):this.j.qa()};
Ri.prototype.pf=function(){var a,c=0,b=this.Z,d=this.aa,e=b.A,k=b.J,l=d.A,f=d.J,m=b.N,n=d.N,h=b.W,g=d.W;a=b.G.B;var r=this.k.x-b.m.S.x,p=this.k.y-b.m.S.y,c=a.n.x*r+a.q.x*p,p=a.n.y*r+a.q.y*p,r=c;a=d.G.B;var v=this.u.x-d.m.S.x,t=this.u.y-d.m.S.y,c=a.n.x*v+a.q.x*t,t=a.n.y*v+a.q.y*t,v=c;a=new de(0,0,0);ve(this.Y,a,-(l.x-f*t-e.x+k*p),-(l.y+f*v-e.y-k*r),-(f-k));this.j.mf(a);e.x-=m*a.x;e.y-=m*a.y;k-=h*(r*a.y-p*a.x+a.z);l.x+=n*a.x;l.y+=n*a.y;f+=g*(v*a.y-t*a.x+a.z);b.J=k;d.J=f};
Ri.prototype.of=function(){var a,c=0,b=this.Z,d=this.aa;a=b.G.B;var e=this.k.x-b.m.S.x,k=this.k.y-b.m.S.y,c=a.n.x*e+a.q.x*k,k=a.n.y*e+a.q.y*k,e=c;a=d.G.B;var l=this.u.x-d.m.S.x,f=this.u.y-d.m.S.y,c=a.n.x*l+a.q.x*f,f=a.n.y*l+a.q.y*f,l=c;a=b.N;var c=d.N,m=b.W,n=d.W,h=d.m.D.x+l-b.m.D.x-e,g=d.m.D.y+f-b.m.D.y-k,r=d.m.R-b.m.R-this.C,p=Math.sqrt(h*h+g*g),v=Math.abs(r);.05<p&&(m*=1,n*=1);this.Y.n.x=a+c+k*k*m+f*f*n;this.Y.q.x=-k*e*m-f*l*n;this.Y.j.x=-k*m-f*n;this.Y.n.y=this.Y.q.x;this.Y.q.y=a+c+e*e*m+l*l*
n;this.Y.j.y=e*m+l*n;this.Y.n.z=this.Y.j.x;this.Y.q.z=this.Y.j.y;this.Y.j.z=m+n;var t=new de(0,0,0);ve(this.Y,t,-h,-g,-r);b.m.D.x-=a*t.x;b.m.D.y-=a*t.y;b.m.R-=m*(e*t.y-k*t.x+t.z);d.m.D.x+=c*t.x;d.m.D.y+=c*t.y;d.m.R+=n*(l*t.y-f*t.x+t.z);kg(b);kg(d);return.005>=p&&v<=Jd};function Ti(){ri.call(this);this.C=R(0,0);this.H=R(0,0);this.type=8;this.L=0}Id(Ti,ri);Ti.prototype.u=function(){return new Ri(this)};
var Vh=[new Oe,new Oe],gi=[new Oe,new Oe],hi=[new Oe,new Oe],Wh=R(0,0),Xh=R(0,0),Yh=R(0,0),di=R(0,0),bi=R(0,0),ci=R(0,0),ei=R(0,0),fi=R(0,0),hh=0,nh=0,oh=0,lh=0,mh=0,ih=new Qf,jh=new ef,xf=new xe,yf=new xe,wf=new function(){this.za=R(0,0);this.j=R(0,0)},kh=new ff,jg=new xe,Cg=new Ag;new function(){this.position=R(0,0);R(0,0);R(0,0);this.id=new Me};new xe;
var ph=new we,qh=new we,gh=new Rf,Kh=new function(){this.j=R(0,0);this.ra=[];for(var a=this.Pb=0;2>a;a++)this.ra[a]=R(0,0)},Qh=new function(){this.j=R(0,0);this.k=[];this.ra=[];for(var a=0;2>a;a++)this.ra[a]=R(0,0)};function Ui(a,c,b,d,e,k){var l;if(l=(b+.1>=a&&a>=e-.1||b-.1<=a&&a<=e+.1)&&(d+.1>=c&&c>=k-.1||d-.1<=c&&c<=k+.1))l=.1<Math.abs(e-b)?.1>Math.abs((k-d)/(e-b)*(a-b)+d-c):.1>Math.abs(a-b);return l}
function Xi(a,c){var b=Yi(a),d=[],e,k,l,f,m,n,h,g,r;m=0;for(n=b.length;m<n;m++){k=b[m];e=[];e.length=k.length;h=r=0;for(g=k.length;h<g;h++)l=k[h],f=k[(h+1)%g],r+=l.x*f.y-l.y*f.x,e[h]=R(l.x,l.y);r=Math.abs(r/2);r>=.001*c&&d.push(e)}return d}
function Yi(a){var c=[],b=0,d=0,e=0,k=0,l=0,f=l=0,m=0,n=0,h=0,k=0,g,r,p,v,t,w=k=b=0,q=0,e=[],m=[],y=!1,B=[],F=[];for(F.push(a);F.length;){c=F[0];d=c.length;y=!0;for(b=0;b<d;b++)if(n=b,h=b<d-1?b+1:b+1-d,k=b<d-2?b+2:b+2-d,a=c[n],g=c[h],r=c[k],k=a.x,e=a.y,m=g.x,l=g.y,f=r.x,r=r.y,k=k*l+m*r+f*e-e*m-l*f-r*k,0>k){y=!1;m=1E9;for(e=0;e<d;e++)if(e!==n&&e!==h){b=e;k=e<d-1?e+1:0;p=c[b];v=c[k];f=a.x;r=a.y;var D=g.x,C=g.y,l=p.x;p=p.y;var A=v.x;v=v.y;var u=D-f,z=C-r,J=A-l,S=v-p,J=(J*(p-r)-S*(l-f))/(z*J-u*S),u=f+
J*u,z=r+J*z,f=Ui(D,C,f,r,u,z),l=Ui(u,z,l,p,A,v);if(r=f&&l?R(u,z):null)l=g.x-r.x,f=g.y-r.y,l=l*l+f*f,l<m&&(q=b,w=k,t=r,m=l)}if(1E9===m)return[];e=[];m=[];b=q;k=w;p=c[b];v=c[k];w=t.y;q=v.y;.1>Math.abs(v.x-t.x)&&.1>Math.abs(q-w)||e.push(t);w=t.y;q=p.y;.1>Math.abs(p.x-t.x)&&.1>Math.abs(q-w)||m.push(t);q=-1;for(w=n;;){if(w!==k)e.push(c[w]);else{if(0>q||q>=d)return[];Ui(v.x,v.y,c[q].x,c[q].y,a.x,a.y)||e.push(c[w]);break}q=w;0>w-1?w=d-1:w--}e.reverse();q=-1;for(w=h;;){if(w!==b)m.push(c[w]);else{if(0>q||
q>=d)return[];w!==b||Ui(p.x,p.y,c[q].x,c[q].y,g.x,g.y)||m.push(c[w]);break}q=w;w+1>d-1?w=0:w++}F.push(e,m);F.shift();break}y&&B.push(F.shift())}return B}
function Zi(a){for(var c=0;4E3>c;c++)ze.push(new ye(0,0));this.c=a;this.Rd=new Ng(R(0,10),!0);this.cq=-1;a=new Ag;a.behavior=this;a.BeginContact=function(a){this.behavior.c.Hu(a.ac.ab().tf.I,a.Ob.ab().tf.I)};this.Rd.j.k=a;a=new xg;a.behavior=this;a.j=function(a,c){if(this.behavior.Vx)return!0;var e=a.ab().tf.I.type,k=c.ab().tf.I.type,l=e.ga.Physics_DisabledCollisions;return l&&l.contains(k)?!1:(l=k.ga.Physics_DisabledCollisions)&&l.contains(e)?!1:!0};this.Rd.j.u=a;this.XB=0;this.Rl=8;this.pl=3;this.Vx=
!0}
(function(){function a(){}var c=Zi.prototype;c.Ab=function(a){this.behavior=a;this.c=a.c};c.Ab.prototype.Qa=function(){};c.nb=function(a,b){this.type=a;this.behavior=a.behavior;this.I=b;this.c=a.c;this.Rd=this.behavior.Rd};var b=c.nb.prototype;b.Qa=function(){this.rj=0!==this.ea[0];this.vs=this.ea[1];this.Mq=0!==this.ea[2];this.hh=this.ea[3];this.kh=this.ea[4];this.Fh=this.ea[5];this.Ej=this.ea[6];this.Yi=this.ea[7];this.$i=0!==this.ea[8];this.enabled=0!==this.ea[9];this.body=null;this.I.gb();this.zj=
this.I.x;this.Aj=this.I.y;this.Hf=this.I.M;this.aq=this.dq=0;this.Fu=this.Yk=!1;this.Yp=null;this.Zp=-1;this.ee?(this.ee.length=0,this.Ne.length=0,this.kg.clear()):(this.ee=[],this.Ne=[],this.kg=new ca);var a=this;this.ue||(this.Xt=function(b){a.yq(b)});this.c.Uo(this.Xt)};b.zu=function(){this.I.gb();this.hp();this.Yp=this.I.rb;this.Zp=this.I.la};b.Nj=function(){this.Pm();this.Ne.length=0;this.kg.clear();this.body&&(Rg(this.Rd,this.body),this.body=null);this.c.zB(this.Xt)};b.Mc=function(){var a={e:this.enabled,
im:this.rj,pr:this.Mq,d:this.hh,fr:this.kh,re:this.Fh,ld:this.Ej,ad:this.Yi,b:this.$i,mcj:this.Ne};if(this.enabled){var b=R(0,0);b.P(this.body.A);a.vx=b.x;a.vy=b.y;a.om=this.body.J}return a};b.sd=function(a){this.Pm();this.Ne.length=0;this.kg.clear();this.body&&(Rg(this.Rd,this.body),this.body=null);this.enabled=a.e;this.rj=a.im;this.Mq=a.pr;this.hh=a.d;this.kh=a.fr;this.Fh=a.re;this.Ej=a.ld;this.Yi=a.ad;this.$i=a.b;this.zj=this.I.x;this.Aj=this.I.y;this.Hf=this.I.M;this.dq=this.I.width;this.aq=this.I.height;
this.enabled&&(this.hp(),dg(this.body,R(a.vx,a.vy)),this.body.dm(a.om),0===a.vx&&0===a.vy&&0===a.om||eg(this.body,!0),this.Ne=a.mcj)};b.Yf=function(){this.enabled&&this.Sq();this.behavior.cq=this.c.Rf-1};b.yq=function(a){var b,c,d,m=a.uid;d=b=0;for(c=this.Ne.length;b<c;b++)this.Ne[d]=this.Ne[b],d<this.ee.length&&(this.ee[d]=this.ee[b]),this.Ne[b].Rb[1]==m?Sg(this.Rd,this.ee[b]):d++;this.Ne.length=d;d<this.ee.length&&(this.ee.length=d);this.kg.remove(a)};b.Pm=function(){var a,b;a=0;for(b=this.ee.length;a<
b;a++)Sg(this.Rd,this.ee[a]);this.ee.length=0};b.Sq=function(){var a,b,c;a=0;for(b=this.Ne.length;a<b;a++)switch(c=this.Ne[a],c.type){case 0:this.By(c.Rb[0],c.Rb[1],c.Rb[2],c.Rb[3],c.Rb[4]);break;case 1:this.Dy(c.Rb[0],c.Rb[1]);break;case 2:this.Cy(c.Rb[0],c.Rb[1],c.Rb[2],c.Rb[3])}};b.yy=function(){this.body&&(this.Pm(),Rg(this.Rd,this.body),this.body=null,this.I.ga.Ce=null)};var d=[];b.hp=function(){if(this.enabled){var a=this.I,b=!1,c=null,f=null,m,n,h,g,r,p,v,t,w,q,y,B,F;if(this.body){b=!0;c=R(0,
0);c.P(this.body.A);f=this.body.J;t=this.kg.Uf();m=0;for(n=t.length;m<n;m++)w=t[m].ga.Ce.tf,w.Pm();this.yy()}w=new Hg;w.hh=this.hh;w.kh=this.kh;w.Fh=this.Fh;m=new mg;m.type=this.rj?0:2;a.gb();m.position.x=.02*a.Eb.zh();m.position.y=.02*a.Eb.Ah();m.M=a.M;m.j=this.Mq;m.Ej=this.Ej;m.Yi=this.Yi;m.$i=this.$i;t=this.I.Sa&&!this.I.Sa.ri();this.body=Pg(this.Rd,m);this.body.tf=this;m=this.vs;t||this.I.Sf||0!==this.vs||(m=1);n=Math.max(Math.abs(a.width),1);h=Math.max(Math.abs(a.height),1);q=0>a.width;y=0>a.height;
if(0===m)if(a.Sf)for(B=a.Eb.zh()-a.x,v=a.Eb.Ah()-a.y,a.nD(d),t=[],m=0,n=d.length;m<n;++m){q=d[m];y=q.vB;if(q.Lf){if(!q.Lf.Em){r=q.Lf.fc;g=q.Lf.te;for(h=0;h<g;++h)t.push(R(r[2*h],r[2*h+1]));h=q.id&3758096384;(-2147483648===h||1073741824===h||536870912===h||h&-2147483648&&h&1073741824&&h&536870912)&&t.reverse();q.Lf.Em=Xi(t,(y.right-y.left)*(y.bottom-y.top));h=0;for(g=t.length;h<g;++h)Ae(t[h]);t.length=0}h=0;for(g=q.Lf.Em.length;h<g;++h){F=q.Lf.Em[h];r=0;for(p=F.length;r<p;++r)t.push(R(.02*(y.left+
F[r].x-B),.02*(y.top+F[r].y-v)));w.shape=new Ie;Ke(w.shape,t);Xf(this.body,w);r=0;for(p=t.length;r<p;++r)Ae(t[r]);t.length=0}}else t.push(R(.02*(y.left-B),.02*(y.top-v))),t.push(R(.02*(y.right-B),.02*(y.top-v))),t.push(R(.02*(y.right-B),.02*(y.bottom-v))),t.push(R(.02*(y.left-B),.02*(y.bottom-v))),w.shape=new Ie,Ke(w.shape,t),Xf(this.body,w);h=0;for(g=t.length;h<g;++h)Ae(t[h]);t.length=0}else{m=a.M;a.M=0;a.Ia();a.gb();B=a.Eb.zh()-a.x;v=a.Eb.Ah()-a.y;a.M=m;a.Ia();a.Sa.Vh(q?-n:n,y?-h:h,0);r=a.Sa.fc;
g=a.Sa.te;t=[];t.length=g;for(m=0;m<g;m++)t[m]=R(r[2*m]-B,r[2*m+1]-v);q!==y&&t.reverse();B=Xi(t,n*h);for(m=0;m<g;m++)Ae(t[m]);if(B.length)for(m=0,n=B.length;m<n;m++){t=B[m];h=0;for(g=t.length;h<g;h++)v=t[h],v.x*=.02,v.y*=.02;w.shape=new Ie;Ke(w.shape,t);Xf(this.body,w);h=0;for(g=t.length;h<g;h++)Ae(t[h])}else w.shape=new Ie,Le(w.shape,.01*n,.01*h),Xf(this.body,w)}else 1===m?(w.shape=new Ie,Le(w.shape,.01*n,.01*h)):w.shape=new Fe(.01*Math.min(n,h)),Xf(this.body,w);a.ga.Ce=this.body;this.dq=a.width;
this.aq=a.height;if(b)for(dg(this.body,c),this.body.dm(f),Ae(c),this.Sq(),t=this.kg.Uf(),m=0,n=t.length;m<n;m++)w=t[m].ga.Ce.tf,w.Sq();d.length=0}};b.Bc=function(){if(this.enabled){var a=this.I,b;0===this.behavior.XB?b=this.c.Cg/60:(b=this.c.fi(this.I),b>1/30&&(b=1/30));if(this.c.Rf>this.behavior.cq&&0<this.c.Cg){this.Rd.Pg(b,this.behavior.Rl,this.behavior.pl);for(b=this.Rd.Kh.Ma(qg);b;b=b.Ca())b.body.k.qa(),b.body.H=0;this.behavior.cq=this.c.Rf}if(this.Fu||a.width!==this.dq||a.height!==this.aq||
a.rb!==this.Yp||a.la!==this.Zp||a.Sf&&a.uu)this.hp(),this.Fu=!1,this.Yp=a.rb,this.Zp=a.la,a.Sf&&a.uu&&(a.uu=!1);b=a.M!==this.Hf;if(a.x!==this.zj||a.y!==this.Aj){a.gb();var c=a.Eb.zh(),d=a.Eb.Ah(),m=c-this.zj,n=d-this.Aj,h=this.body,c=R(.02*c,.02*d);ag(h,c,h.Mh());dg(this.body,R(m,n));this.Yk=!0;eg(this.body,!0)}else this.Yk&&(this.Yk=!1,dg(this.body,R(0,0)),m=this.body,n=R(.02*a.Eb.zh(),.02*a.Eb.Ah()),ag(m,n,m.Mh()));b&&(this.body.cm(a.M),eg(this.body,!0));m=this.body.G.position;b=m.x/.02;m=m.y/.02;
n=this.body.Mh();if(b!==a.x||m!==a.y||n!==a.M)if(a.x=b,a.y=m,a.M=n,a.Ia(),a.gb(),b=a.Eb.zh()-a.x,m=a.Eb.Ah()-a.y,0!==b||0!==m)a.x-=b,a.y-=m,a.Ia();this.zj=a.x;this.Aj=a.y;this.Hf=a.M}};b.kj=function(a){return-1!==a&&this.I.Ie?0===a&&this.body?(this.body.G.position.x+this.body.m.S.x)/.02:this.I.Ie(a,!0):this.I.x};b.lj=function(a){return-1!==a&&this.I.Ie?0===a&&this.body?(this.body.G.position.y+this.body.m.S.y)/.02:this.I.Ie(a,!1):this.I.y};c.K=new function(){};a.prototype.Jh=function(a,b,c){if(this.enabled){var d=
this.kj(c);c=this.lj(c);this.body.Jh(R(a,b),R(.02*d,.02*c))}};a.prototype.Go=function(a,b,c){if(this.enabled){var d=this.kj(c);c=this.lj(c);this.body.Go(R(a,b),R(.02*d,.02*c));this.Yk=!1;this.zj=this.I.x;this.Aj=this.I.y}};a.prototype.Lv=function(a,b,c){if(this.enabled){b=Oa(b);var d=this.kj(c);c=this.lj(c);this.body.Go(R(Math.cos(b)*a,Math.sin(b)*a),R(.02*d,.02*c));this.Yk=!1;this.zj=this.I.x;this.Aj=this.I.y}};a.prototype.Ho=function(a){this.enabled&&this.body.Ho(Oa(a))};a.prototype.dm=function(a){this.enabled&&
(this.body.dm(Oa(a)),eg(this.body,!0))};b.By=function(a,b,c,d,m){if(this.enabled){var n=this.c.hi(b);if(n&&n!=this.I&&n.ga.Ce){n.ga.Ce.tf.kg.add(this.I);var h=this.kj(a),g=this.lj(a),r,p;n.Ie?(r=n.Ie(c,!0),p=n.Ie(c,!1)):(r=n.x,p=n.y);c=h-r;a=g-p;b=new ti;n=n.ga.Ce;h=R(.02*h,.02*g);r=R(.02*r,.02*p);b.j=this.body;b.k=n;b.L.P(Vd(b.j.G,h));b.X.P(Vd(b.k.G,r));n=r.x-h.x;h=r.y-h.y;b.length=Math.sqrt(n*n+h*h);b.H=0;b.C=0;b.length=.02*Math.sqrt(c*c+a*a);b.C=d;b.H=m;this.ee.push(Tg(this.Rd,b))}}};b.Dy=function(a,
b){if(this.enabled){var c=this.c.hi(b);if(c&&c!=this.I&&c.ga.Ce){c.ga.Ce.tf.kg.add(this.I);var d=this.kj(a),m=this.lj(a),n=new Mi;Ni(n,this.body,c.ga.Ce,R(.02*d,.02*m));this.ee.push(Tg(this.Rd,n))}}};b.Cy=function(a,b,c,d){if(this.enabled&&(b=this.c.hi(b))&&b!=this.I&&b.ga.Ce){b.ga.Ce.tf.kg.add(this.I);var m=this.kj(a);a=this.lj(a);var n=new Mi;Ni(n,this.body,b.ga.Ce,R(.02*m,.02*a));n.L=!0;n.ja=Oa(c);n.ba=Oa(d);this.ee.push(Tg(this.Rd,n))}};a.prototype.gx=function(a){if(this.enabled&&this.rj!==(0!==
a)){this.rj=0!==a;a=this.body;var b=this.rj?0:2;if(a.Ja!=b){a.Ja=b;$f(a);0==a.Ja&&(a.A.qa(),a.J=0);eg(a,!0);a.k.qa();a.H=0;for(b=a.nd.Ma(hg);b;b=b.Ca())b.Yb.ij=!0;for(b=0;b<a.C.length;b++)gg(a.C[b],a)}eg(this.body,!0)}};c.ca=new a;c.xa=new function(){}})();function $i(a){this.c=a}
(function(){var a=$i.prototype;a.Ab=function(a){this.behavior=a;this.c=a.c};a.Ab.prototype.Qa=function(){};a.nb=function(a,c){this.type=a;this.behavior=a.behavior;this.I=c;this.c=a.c};var c=a.nb.prototype;c.Qa=function(){this.speed=Oa(this.ea[0]);this.Xf=Oa(this.ea[1])};c.Mc=function(){return{speed:this.speed,acc:this.Xf}};c.sd=function(a){this.speed=a.speed;this.Xf=a.acc};c.Bc=function(){var a=this.c.fi(this.I);0!==a&&(0!==this.Xf&&(this.speed+=this.Xf*a),0!==this.speed&&(this.I.M=Ra(this.I.M+this.speed*
a),this.I.Ia()))};a.K=new function(){};a.ca=new function(){};a.xa=new function(){}})();function aj(a){this.c=a}
(function(){function a(){}function c(){}var b=aj.prototype;b.Ab=function(a){this.behavior=a;this.c=a.c};b.Ab.prototype.Qa=function(){};b.nb=function(a,b){this.type=a;this.behavior=a.behavior;this.I=b;this.c=a.c;this.vc=0};var d=b.nb.prototype,e=2*Math.PI,k=Math.PI/2,l=3*Math.PI/2;d.Qa=function(){this.hc=1===this.ea[0];this.Jj=this.ea[1];this.Cr=this.ea[2];this.sg=this.ea[3];this.sg+=Math.random()*this.ea[4];0===this.sg?this.vc=0:(this.vc=this.ea[5]/this.sg*e,this.vc+=Math.random()*this.ea[6]/this.sg*
e);this.Kd=this.ea[7];this.Kd+=Math.random()*this.ea[8];this.wg=this.ni=this.Ya=0;5===this.Jj&&(this.Kd=Oa(this.Kd));this.init()};d.Mc=function(){return{i:this.vc,a:this.hc,mv:this.Jj,w:this.Cr,p:this.sg,mag:this.Kd,iv:this.Ya,iv2:this.ni,r:this.wg,lkv:this.ae,lkv2:this.Wk}};d.sd=function(a){this.vc=a.i;this.hc=a.a;this.Jj=a.mv;this.Cr=a.w;this.sg=a.p;this.Kd=a.mag;this.Ya=a.iv;this.ni=a.iv2||0;this.wg=a.r;this.ae=a.lkv;this.Wk=a.lkv2||0};d.init=function(){switch(this.Jj){case 0:this.Ya=this.I.x;
break;case 1:this.Ya=this.I.y;break;case 2:this.Ya=this.I.width;this.wg=this.I.height/this.I.width;break;case 3:this.Ya=this.I.width;break;case 4:this.Ya=this.I.height;break;case 5:this.Ya=this.I.M;break;case 6:this.Ya=this.I.opacity;break;case 7:this.Ya=0;break;case 8:this.Ya=this.I.x,this.ni=this.I.y}this.ae=this.Ya;this.Wk=this.ni};d.Ig=function(a){a=a%e;switch(this.Cr){case 0:return Math.sin(a);case 1:return a<=k?a/k:a<=l?1-2*(a-k)/Math.PI:(a-l)/k-1;case 2:return 2*a/e-1;case 3:return-2*a/e+1;
case 4:return a<Math.PI?-1:1}return 0};d.Bc=function(){var a=this.c.fi(this.I);this.hc&&0!==a&&(0===this.sg?this.vc=0:(this.vc+=a/this.sg*e,this.vc=this.vc%e),this.fC())};d.fC=function(){switch(this.Jj){case 0:this.I.x!==this.ae&&(this.Ya+=this.I.x-this.ae);this.I.x=this.Ya+this.Ig(this.vc)*this.Kd;this.ae=this.I.x;break;case 1:this.I.y!==this.ae&&(this.Ya+=this.I.y-this.ae);this.I.y=this.Ya+this.Ig(this.vc)*this.Kd;this.ae=this.I.y;break;case 2:this.I.width=this.Ya+this.Ig(this.vc)*this.Kd;this.I.height=
this.I.width*this.wg;break;case 3:this.I.width=this.Ya+this.Ig(this.vc)*this.Kd;break;case 4:this.I.height=this.Ya+this.Ig(this.vc)*this.Kd;break;case 5:this.I.M!==this.ae&&(this.Ya=Ra(this.Ya+(this.I.M-this.ae)));this.I.M=Ra(this.Ya+this.Ig(this.vc)*this.Kd);this.ae=this.I.M;break;case 6:this.I.opacity=this.Ya+this.Ig(this.vc)*this.Kd/100;0>this.I.opacity?this.I.opacity=0:1<this.I.opacity&&(this.I.opacity=1);break;case 8:this.I.x!==this.ae&&(this.Ya+=this.I.x-this.ae),this.I.y!==this.Wk&&(this.ni+=
this.I.y-this.Wk),this.I.x=this.Ya+Math.cos(this.I.M)*this.Ig(this.vc)*this.Kd,this.I.y=this.ni+Math.sin(this.I.M)*this.Ig(this.vc)*this.Kd,this.ae=this.I.x,this.Wk=this.I.y}this.I.Ia()};d.iu=function(a,b){switch(this.Jj){case 2:this.Ya*=b.width/a.width;this.wg=b.height/b.width;break;case 3:this.Ya*=b.width/a.width;break;case 4:this.Ya*=b.height/a.height}};a.prototype.Og=function(){return this.hc};b.K=new a;c.prototype.Wr=function(a){this.hc=1===a};b.ca=new c;b.xa=new function(){}})();
function ud(){return[wd,xd,Cd,yd,Dd,Fd,vd,Ed,$i,Hd,aj,Gd,Zi,M.prototype.K.iw,M.prototype.K.Or,vd.prototype.ca.Xr,M.prototype.xa.MA,M.prototype.xa.LA,Ed.prototype.ca.Xr,vd.prototype.ca.yx,vd.prototype.xa.Lx,M.prototype.ca.bx,M.prototype.ca.rx,M.prototype.K.$v,M.prototype.xa.mC,M.prototype.xa.oC,M.prototype.xa.nC,M.prototype.xa.lC,vd.prototype.K.Vv,vd.prototype.ca.nx,vd.prototype.xa.fm,Fd.prototype.K.Ko,aj.prototype.K.Og,Hd.prototype.ca.Dx,aj.prototype.ca.Wr,wd.prototype.ca.Play,vd.prototype.K.Jr,M.prototype.K.Wv,
vd.prototype.ca.mx,vd.prototype.ca.cm,vd.prototype.xa.Jv,vd.prototype.ca.$w,Ed.prototype.ca.ox,M.prototype.K.Zv,M.prototype.ca.Fx,M.prototype.ca.Iv,vd.prototype.ca.tx,Hd.prototype.ca.Xw,wd.prototype.ca.Ex,Cd.prototype.ca.ix,M.prototype.ca.Kx,M.prototype.ca.aw,Fd.prototype.K.Lo,Fd.prototype.xa.em,Fd.prototype.xa.fm,Fd.prototype.K.jw,M.prototype.ca.Yv,vd.prototype.ca.wx,M.prototype.xa.wf,vd.prototype.ca.cx,M.prototype.xa.M,M.prototype.xa.random,vd.prototype.K.Ph,vd.prototype.ca.hx,vd.prototype.xa.dw,
Zi.prototype.ca.Lv,vd.prototype.ca.Ax,Zi.prototype.ca.gx,Fd.prototype.K.kw,vd.prototype.K.gw,vd.prototype.K.Uv,vd.prototype.ca.Zw,vd.prototype.ca.ax,vd.prototype.ca.jd,vd.prototype.K.ew,M.prototype.ca.kx,vd.prototype.K.Gr,vd.prototype.K.Xv,vd.prototype.xa.em,Ed.prototype.ca.cm,vd.prototype.K.xw,wd.prototype.ca.Vw,M.prototype.K.Sv,M.prototype.xa.round,M.prototype.xa.al,M.prototype.K.Io,xd.prototype.ca.Ww,M.prototype.ca.jx,M.prototype.ca.qx,Cd.prototype.ca.Ov,Cd.prototype.K.Kr,Cd.prototype.xa.lw,Cd.prototype.K.Lr,
vd.prototype.K.Tv,M.prototype.ca.Jx,M.prototype.ca.Yw,vd.prototype.ca.xx,vd.prototype.ca.Cx,wd.prototype.ca.ux,M.prototype.K.Fr,xd.prototype.ca.Rv,M.prototype.K.Hx,M.prototype.xa.NA,M.prototype.xa.JA,M.prototype.xa.KA,M.prototype.K.ow,M.prototype.ca.zx,xd.prototype.ca.Nv,xd.prototype.ca.bw]};
